[
    {
        "commit_message": "haproxy: enable UI on containerized undercloud\n\nTripleO UI endpoint was never enabled in HAproxy because enable_ui is\nfor instack-undercloud.\nIt should be tripleo_ui_enabled to follow the pattern with other\nservices, and be automatically set to True when the service is actually\nenabled, which is the case of the containerized undercloud.\n\nFor backward compatibility, we'll keep support for enable_ui and use\npick to find which one is defined, otherwise we'll just disable it like\nbefore.\n\nChange-Id: I2f9ef89b6daac2dec4e2af110f5d239a3611f747\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Make sure that the _member_ role is assigned to admin.\n\nWhen we switch to not using instack_undercloud, we missed the role\nassignment that was done in there.\n\nBy simply adding it to the puppet role we get it back.\n\nChange-Id: I074d2878ee9cfc6061d68ecd989832c636c065ec\nCloses-Bug: #1799177\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Pass X-Forwarded-Proto for missing services\n\naodh, ceilometer, gnocchi and neutron need the X-Forwarded-Proto in\norder to return links with the correct protocol when SSL is enabled.\nThis enables it in HAProxy\n\nChange-Id: Icceab92f86b1cc40d42195fa4ba0c75f302795b8\nCloses-Bug: #1640126\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Include db classes explicitly\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove Congress\n\nDepends-On: Idca6b12f1c0ca3bc15bedf6469d4063a4dac31fa\nChange-Id: I2489581b040f4798aad752b50cfd1a53b4c3d4fd\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Include the nova::quota class for nova quota configuration\n\nThe nova::quota class provides interface to set parameters for nova\nquota, and including the class helps us set these parameters easily.\n\nChange-Id: I260880986d700a210bf623ad1f4903c6a5e29194\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Support for mariadb's ed25519 authentication\n\nAdd the ability to configure all mysql users to require authenticating\nto the server via mariadb's ed25519 auth plugin [1], rather than the\ndefault native authentication [2].\n\n[1] https://mariadb.com/kb/en/authentication-plugin-ed25519/\n[2] https://mariadb.com/kb/en/authentication-plugin-mysql_native_password/\n\nChange-Id: I430ea8e1fa15fb263d1d4ef8c39615021d907f8a\nPartial-Bug: #1866093\n",
        "issue_summary": ""
    },
    {
        "commit_message": "loadbalancer: fix MySQL timeout HAproxy config\n\nCurrent HAproxy config is broken for MySQL timeout parameters.\nThis is what we have today by default in HAproxy logs:\n--------------\n[WARNING] 238/115010 (13878) : config : missing timeouts for proxy\n'mysql'.\n| While not properly invalid, you will certainly encounter various\nproblems\n| with such a configuration. To fix this, please ensure that all\nfollowing\n| timeouts are set to a non-zero value: 'client', 'connect', 'server'.\n--------------\n\nThis patch aims to:\n* Use the correct parameters to configure puppetlabs-haproxy\n* Update the database timeouts to higher values to prevent the\nservices from disconnecting too frequently by setting the Galera HAProxy\ntimeout to 90 minutes.\n\nChange-Id: I06dd4bf81d4f4fd3c01bb681f6f0b3152f2b8eea\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add tripleo::loadbalancer.\n\nThis class configures an HAProxy/keepalived setup for TripleO.\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove last bits of Glance Registry\n\nGlance Registry has been removed in TripleO. So we can clean\npuppet-tripleo and remove last bits that used to deploy this service.\n\nChange-Id: Iea8f6340349ab366606205305a3ec9a6e4f11ba6\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Adding wrapper scripts for neutron agent subprocesses\n\nThe neutron agents use subprocesses like dnsmasq and keepalived as part\nof their implementation. Running these \"subprocesses\" in separate\ncontainers prevent dataplane breakages/unnecessary failover on agent\ncontainer restart.\n\nAlso amends docker daemon options to allow including additional unix\ndomain sockets to bind to the docker daemon. The paths can be mounted by\ncontainers that launch containers instead of mounting /run/docker.sock.\nThis avoids issues if the docker daemon is restarted while the containers\nare running.\n\nRelated-Bug: #1749209\nChange-Id: Icd4c24ac686d957391548a04722266cefc1bce27\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add polkit rule to allow kolla nova user access to libvirtd socket on docker host\n\nThe polkit rules are currently evaluated in the context of the docker host.\nAs a result the check fails for the kolla nova compute user, as the uids are not\nconsistent with the host uids (in fact we probably can't assume a nova user exists\non the docker host).\n\nAs a short-term workaround a 'docker_nova' user group is created on the docker host\nand the polkit rule is updated to grant this user access to the libvirtd socket.\n\nLonger term solution probably requires running polkitd in a container too.\n\nChange-Id: I91be1f1eacf8eed9017bbfef393ee2d66771e8d6\nRelated-bug: #1693844\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Handle SSL options for Zaqar\n\nThis allows running Zaqar with SSL under Apache.\n\nChange-Id: I4c68a662c2433398249f770ac50ba0791449fe71\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Allow to set log facility for HAProxy\n\nThis change allows to get a better filtering at (r)syslog level, as\nwe can now dedicate a facility for this service.\n\nChange-Id: I8fee040287940188f6bc6bc35bdbdaf6c234cbfd\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove package update by puppet\n\nThe tripleo::packages::enable_upgrade parameter allows updating host\npackages by puppet. However this feature is no longer used since we\nintroduced update tasks mechanism and usage of this parameter is quite\nlikely to cause a problem.\n\nBecause usage of this parameter is highly discouraged now, and we do\nnot expect any user still relying on this old mechanism, this change\nremoves the parameter.\n\nChange-Id: I7558b4a5398d0c3a87aecc6017458a5a5932c644\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove support for Cavium LiquidIO\n\nDepends-on: https://review.opendev.org/799790\nChange-Id: I5112d6e523b2d354b105010584b12cb03481b0fd\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Enable creation of keystone domain when ldap backends are created\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Replace deprecated gnocchi::storage::coordination_url\n\nThe gnocchi::storage::corrdination_url parameter was deprecated to be\nreplaced by the gnocchi::coordination_url parameter.\nThis patch make puppet-tripleo to use the new parameter instead of the\ndeprecated one.\n\nDepends-on: https://review.opendev.org/#/c/713448/\nChange-Id: I2bbe95375c465aea8d2fe91b31897541ed998ae7\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix puppet warning for empty value\n\nUnknown variable: 'haproxy_ssl_firewall_rules' when public_ssl_port is\nempty.\nFixing it by setting an empty hash in this case.\n\nChange-Id: If864732262852ef79ebb91ee77902c86b847072a\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Use TLS proxy for neutron server's internal TLS\n\nThis uses the tls_proxy resource added in a previous commit [1] in\nfront of the neutron server when internal TLS is enabled. Right\nnow values are passed quite manually, but a subsequent commit will use\nt-h-t to pass the appropriate hieradata, and then we'll be able to\nclean it up from here.\n\nNote that the proxy is only deployed when internal TLS is enabled.\n\n[1] I82243fd3acfe4f23aab373116b78e1daf9d08467\n\nbp tls-via-certmonger\n\nChange-Id: I6dfbf49f45aef9f47e58b5c0dbedd2b4e239979e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Implement tripleo::masquerade_networks\n\nIt'll be used in the OS::TripleO::Services::MasqueradeNetworks service\nto configure masquerade IPtables rules when needed for PoC or CI\nenvironments.\n\nChange-Id: I8dda3c164de90954855979529de4f1100a858b45\nRelated-Bug: #1760211\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Ceilometer: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: I3f488df5348cacfddcae3b6e141021e0954725c3\n",
        "issue_summary": ""
    },
    {
        "commit_message": "sahara: include authtoken class\n\nauthtoken class configures the keystone_authtoken parameters, required\nto move to Keystone V3 auth.\n\nChange-Id: Ibfd761fef813faa7bf13881c52c34e20d3eac9e5\n",
        "issue_summary": ""
    },
    {
        "commit_message": "cell_v2 multi-cell\n\n- move nova dbsync from nova-api to nova-conductor\n  - nova db is more tightly coupled to conductor/computes\n  - we don't have a nova-api services on a CellController\n  - super-conductor on Controller will sync cell0 db\n- when additional cell\n  - duplicate service node name hiera for transport_urls on cell stack\n  - nova -> oslo_messaging_rpc_cell_node_names\n  - neutron agent -> oslo_messaging_rpc_node_names\n  - rabbit -> rabbit nodes are cell controllers\n\nbp tripleo-multicell-basic\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\n\nChange-Id: I79c1080605611c5c7748a28d2afcc9c7275a2e5d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Set redis file descriptor limit when run via pacemaker\n\nThe current redis file descriptor limit is 4096 because of two reasons:\n- It is run via the redis user\n- It is not started via systemd which has explicit LimitNOFILE set to\n  10240 (which matches the default configuration of maximum 10000\n  clients)\n\nCreate an /etc/security/limits.d/redis.conf file in order to increase\nthe fd limit value  With this change we correctly get the following\nlimits:\n[root@overcloud-controller-0 ~]# pcs status |grep -A2 redis\n Master/Slave Set: redis-master [redis]\n     Masters: [ overcloud-controller-2 ]\n     Slaves: [ overcloud-controller-0 overcloud-controller-1 ]\n\n[root@overcloud-controller-0 ~]# cat /proc/`pgrep redis`/limits | grep open\nMax open files            10240                10240   files\n\nPreviously this limit was set to 4096.\n\nChange-Id: I7691581bad92ad9442cecd82cf44f5ac78ed169f\nCloses-Bug: #1635334\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable sudo rule creation\n\nWe need to enable creation of sudo rule creation for user under which sensubility\nis executed to enable operators execution of any command they possibly need\nin their health check implementation.\n\nChange-Id: I47c6e4fb3beab14cc5c7f824646e3c2242b140d4\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Allow use of raw disks for Swift storage role\n\nAdds a call to swift::storage::disks to make it partition additional\ndisks to use with Swift.\n\nDepends-On: I3692b17988f8eacb7b8a7df1006a7fe24f587065\nChange-Id: Iac75cf2244339fae444be5859b7583e80bafc4e2\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable configuration of swift-recon-cron job\n\nRelated-Bug: #1937929\nDepends-on: https://review.opendev.org/694451\nChange-Id: I09d3b93b0f01fb1a790324ee23ce16d4301c6d6c\n",
        "issue_summary": ""
    },
    {
        "commit_message": "keystone: add a new parameter 'keystone_resources_managed'\n\nkeystone_resources_managed, default to\nhiera('keystone_resources_managed', true) for backward compatibility,\nwill allow to disable Puppet to manage the keystone resources, like\nendpoints, roles, services, projects and users; and instead use Ansible.\n\nChange-Id: If4b275d3caf6098e7774d938ab89333396fbc15d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Modify resource dependencies of certmonger_user resources\n\nIn a containerized environment the haproxy class might not be defined,\nso this was made optional. On the other hand, this also retrieves the\nCRL before any certmonger_certificate resources are created.\n\nbp tls-via-certmonger-containers\nChange-Id: I2078da7757ff3af1d05d36315fcebd54bb4ca3ec\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Pin puppet-snmp\n\nThey updated to structured facts but rspect-puppet-facts isn't providing\nthem at this time. Pin to a previous version.\n\nChange-Id: I8798a5c40951867250f84b053fa3be744f6aef32\nCloses-Bug: #1800944\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Migrates OpenDaylight to official repo\n\nODL repo has been moved from a personal github account into official ODL\nrepo.\n\nChange-Id: I1248c22acc09962ef788ca19ee87b6bda8ef8450\nSigned-off-by: Tim Rozet <trozet@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "tls_proxy: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: I5591754dc828cdc7fab2a88b2cfd3c9faba3eef7\n",
        "issue_summary": ""
    },
    {
        "commit_message": "First commit on Stackforge: fix lint & Gerrit config\n\n* Fix Gerrit config to be able to contribute at this module.\n* Fix lint issues in adding documentation for tripleo::loadbalancer\n\nChange-Id: If4d40962a4e5612410df441e8862e1870ec123c0\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Use memcached for token caching in ironic authtoken\n\nUse memcached to cache token in ironic authtoken, as in-process\ncache, which we currently use, was already deprecated[1].\nAlso, add unit tests for ironic related manifests.\n\n[1] Ied2b88c8cefe5655a88d0c2f334de04e588fa75a\n\nChange-Id: I0f0ce58682789c8fd8b8625aaebfe4b75aea6105\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix live-migration with libvirt >= 6.8.0\n\nlibvirt 6.8.0 introduces virt-ssh-helper which prepends the libvirt\nssh command with a \"which virt-ssh-helper\". libvirt used to first\ncheck for `nc` (netcat). But these two libvirt commits[1][2] have now\nchanged it to first look for `virt-ssh-helper`, if it not available,\nthen fall back to `nc`.\n\nThe nova-migration-wrapper doesn't accept this command and denies\nthe connection.\n\nUntil nova-migration-wrapper is changed to allow the usage of\nvirt-ssh-helper, this change force to use \"netcat\" (`nc`) by\nappending to the migration URI: \"&proxy=netcat\"\n\n[1] https://libvirt.org/git/?p=libvirt.git;a=commit;h=f8ec7c842d (rpc:\nuse new virt-ssh-helper binary for remote tunnelling, 2020-07-08)\n[2] https://libvirt.org/git/?p=libvirt.git;a=commit;h=7d959c302d (rpc:\nFix virt-ssh-helper detection, 2020-10-27)\n\nCloses-Bug: 1918250\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1926602\n\nChange-Id: I3db9cd42aa63379ed6332ee77f67d1dfe4be8504\nCo-Authored-By: David Vallee Delisle <dvd@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove tuned puppet manifest\n\nThe tuned puppet manifest is being removed because the heat template\nwhich invoked it has been converted to ansible. This change removes\nthe tuned manifest and spec files accordingly.\n\nDepends-On: I06d07f6f0949095cb716dd706e05f2e567c0d3d8\n\nChange-Id: I1c76efb07474f8b0f5e226712aad30a75f6843af\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Puppet module to deploy RabbitMQ bundle for HA\n\nThis module is used by tripleo-heat-templates to configure and deploy\nKolla-based RabbitMQ containers managed by pacemaker.\n\nWe use short-lived containers that call pcs via puppet to create\nthe needed pacemaker resources, properties and constraints.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\nCo-Authored-By: John Eckersberg <jeckersb@redhat.com>\nPartial-Bug: #1692909\n\nChange-Id: I0722e4a4d4716f477e8304cfa1aadd3eef7c2f31\nDepends-On: I44fbd7f89ab22b72e8d3fc0a0e3fe54a9418a60f\nDepends-On: Ie9b7e7d2a3cec4b121915a17c1e809e4ec950e7f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable languages in UI config\n\nWhich language options to offer to the UI users is determined in the\nconfiguration file. Let's show all possible languages by default,\nunless specified otherwise.\n\nChange-Id: I513303bf82dca53e2291ab66f2385a2985a1846e\nRelated-Bug: #1663279\n",
        "issue_summary": ""
    },
    {
        "commit_message": "packages: secure upgrade workflow from dependency cycles\n\nChange the workflow to be:\nUpgrade all packages before any services that is notified & managed by\nPuppet.\nIt also disable the Exec timeout so we rely on Heat timeout and not on\nthe 300s that are the default in Puppet [1]\n\nExample: we upgrade and OpenStack config will change (obviously).\n         Puppet catalog will contain 3 important things:\n           * config resources\n           * service resources\n           * package-upgrade Exec resource\n         with that patch, what will happen:\n           * puppet will update config first or second and notify\n             services\n           * puppet will run package-upgrade first or second but before\n             the package-upgrade Exec resource\n           * at the very end, puppet will restart services\n\nThat way, we avoid complications with Puppet dependency cycle issues.\n\n[1] https://docs.puppetlabs.com/references/latest/type.html#exec-attribute-timeout\n\nCloses-Bug: 1536349\nChange-Id: I07310bdfc5b07b03ac9fa5f8c13e87eaa2bfef4d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Generic cluster properties support\n\nSometimes in certain environments we need to set specific cluster\nproperties to tune the control plane to that specific situation.\nTested with:\n    tripleo::profile::base::pacemaker::cluster_properties:\n      test:\n        property: shutdown-escalation\n        value: 6m\n        tries: 5\n      test2:\n        property: priority-fencing-delay\n        value: 10\n        tries: 5\n      test3:\n        property: startup-fencing\n        value: false\n        tries: 5\n\nAnd obtained the correctly set properties:\n[root@controller-0 hieradata]# pcs property\nCluster Properties:\n...\n priority-fencing-delay: 10\n shutdown-escalation: 6m\n startup-fencing: false\n\nChange-Id: Iebd1ae24a69fb0bdc5f7f7c75a1a79e9c608ba96\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Allow disabling puppet tasks to configure apache/vhost\n\nThe new parameter allows to toggle the apache configuration management.\nThis will be useful once we get [1] so that we can migrate services to\nthe new configuration management one by one.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/853481\n\nChange-Id: Id1ddbae4946e5c428d0f21ef89e20a11665a370e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Replace reference to cinder:: parameter with nova:: parameter\n\nChanges a reference to a cinder:: parameter into the nova compute\nclass to a nova:: parameter, which makes sure we're not trying\nto access \"out of bound\" parameters.\n\nChange-Id: I871ef420700e6d0ee5c1e444e019d58b3a9a45a6\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Support for Ocata-Pike live-migration over ssh\n\nIn Ocata all live-migration over ssh is performed on the default ssh port (22).\nIn Pike the containerized live-migration over ssh is on port 2022 as the\ndocker host's sshd is using port 22.\nTo allow live migration during upgrade we need to temporarily pin the Pike\ncomputes to port 22 and in the final converge we can switch over to port 2022.\n\nThis patch make the necessary puppet-tripleo change to allow this:\n - Adds support in sshd profile for listening on multiple ports.\n - Adds a profile to allow proxying to the containerized sshd from the\n   baremetal sshd\n\nChange-Id: I0b80b81711f683be539939e7d084365ff63546d3\nRelated-bug: 1714171\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Handle duplicate/invalid entries in migration SSH inbound addresses\n\nAn error (e.g a typo) in a custom tripleo-heat-templates environment\nfile could lead to an invalid match block in /etc/ssh/sshd_config.\nSSH fails-safe and refuses all logins in this case.\n\nThis change validates the migration_ssh_localaddrs parameter is an\narray of IP addresses and removes and duplicate entries.\n\nChange-Id: Ibcf144d960fe52f0eab0d5015bd30cf7c1e37e25\nCloses-Bug: #1688308\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Make promote timeout configurable\n\nAllow override of galera promote timeout\n\nThis commit removes the hard coded value of pacemaker promote time out\n(currently 300s), and allows operators to override it via:\n\ntripleo::profile::pacemaker::database::mysql::promote_timeout\ntripleo::profile::pacemaker::database::mysql_bundle::promote_timeout\n\nCloses-Bug: #1883896\nChange-Id: I96f5d349b94f05f4f66db6b85ba481deba0015d9\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Allow the IHA OCF and fencing resource to be moved to the nova service user\n\nCurrently both nova evacuate and fence compute in the Instance HA\nsetup of tripleo user the keystone admin user in order to query nova,\nevacuate instances, disable/enable the nova-compute service and\ncall the nova force-down API.\n\nWith this patch we introduce the keystone_tenant parameter which is\nneeded when moving to the nova service user as it is different than\nkeystone_admin in that case.\n\nTested as follows:\n1. Deployed a normal unpatched OSP13 with IHA\n2. Run a redeploy with the following addition:\nparameter_defaults:\n  ExtraConfig:\n    tripleo::profile::base::pacemaker::instance_ha::keystone_password: \"%{hiera('nova::keystone::authtoken::password')}\"\n    tripleo::profile::base::pacemaker::instance_ha::keystone_admin: 'nova'\n    tripleo::profile::base::pacemaker::instance_ha::keystone_tenant: 'service'\n3. Observe the following:\n3.1. Both the fence_compute and nova evacuate resources have updated attributes\n3.2. IHA still works correctly\n\nChange-Id: If6b19ad05e0f91425f93a1c123947e92cf2ba949\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Revert \"Set disable:true for oci-machine-register\"\n\nWe don't need this code anymore, since it's now the default\nin OCI, since:\nhttps://github.com/projectatomic/oci-register-machine/commit/66691c3d0805c41e7336a364934e3e144e97a20f#diff-7a73afad76bf813b4d03daf6fbc18568\n\nThis reverts commit e9bce747833af94ce71fe76921bd53cb5df07964.\n\nCloses-Bug: #1747473\nChange-Id: Iddc8a35a20a745dba14456e4b57741ffec67cc80\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Log stdout of HA containers\n\nWhen podman dropped the journald log-driver we rushed to move to the supported\nk8s-file driver. This had the side effect of us losing the stdout logs of the\nHA containers.\n\nIn fact previously we were easily able to troubleshoot haproxy startup failures\njust by looking in the journal. These days instead if haproxy fails to start we\nhave no traces whatsoever in the logs, because when a container fails it gets\nstopped by pacemaker (and consequently removed) and no logs on the system are\navailable any longer.\n\nTested as follows:\n1) Redeploy a previously deployed overcloud that did not have the patch\nand observe that we now log the startup of HA bundles in /var/log/containers/stdouts/*bundle.log\n\n[root@controller-0 stdouts]# ls -l *bundle.log |grep -v -e init -e restart\n-rw-------. 1 root root   16032 Apr 14 14:13 openstack-cinder-volume.log\n-rw-------. 1 root root   19515 Apr 14 14:00 haproxy-bundle.log\n-rw-------. 1 root root   10509 Apr 14 14:03 ovn-dbs-bundle.log\n-rw-------. 1 root root    6451 Apr 14 14:00 redis-bundle.log\n\n2) Deploy a composable HA overcloud from scratch with the patch above\nand observe that we obtain the stdout on disk.\n\nNote that most HA containers log to their usual on-host files just\nfine, we are mainly missing haproxy logs and/or the kolla startup only\nof the HA containers.\n\nCloses-Bug: #1872734\n\nChange-Id: I4270b398366e90206adffe32f812632b50df615b\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix manila-share with ceph-nfs backend\n\nCurrently when you deploy manila-share with a ceph-nfs backend\nwe get the following error:\nError: pcs -f\n/var/lib/pacemaker/cib/puppet-cib-backup20210107-48280-1y4rwmx\nconstraint colocation add openstack-manila-share with ceph-nfs INFINITY\nfailed: Error: Resource 'ceph-nfs' does not exist. Too many tries\n\nThe reason for it is that we moved the pcs resource creation to the host\nand outside containers\nhttps://review.opendev.org/q/topic:%22pcs_host3%22+(status:open%20OR%20status:merged)\n\nBut when the ceph-nfs pcmk resource gets created at step 5, the\nmanila-share puppet code has already been invoked and since it requires\nthe ceph-nfs resource to be available it fails like above.\n\nLet's move the ceph-nfs creation to step4 to solve this.\n\nCloses-Bug: #1910732\n\nChange-Id: Ifb81d155cbb4598a311c8e6fe90be951a8e7e656\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Remove Tacker service\"",
        "issue_summary": ""
    },
    {
        "commit_message": "haproxy: Use httpchk instead of tcpchk for heat endpoints\n\nThe following change[1] introduced the tcpka option for heat endpoints\nbut at the same time removed default options including httchk. This\nremoval switched healthcheck for heat endpoints from httpchk to tcpchk.\nBecause heat endpoints accepts http requests, httpchk allows more\ndetailed healthcheck to ensure that heat can handle http requests.\nThis change restores the httpchk option so that http requests are used\nfor healthcheck.\n\n[1] https://review.opendev.org/c/openstack/puppet-tripleo/+/735541\n\nCloses-Bug: #1930600\nChange-Id: Ida113dbb250c7a2972a0faf163539e370fa5bda6\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Include nova::glance class\n\ninclude extracted glance configuration introduced in Change-Id\nI94d110f0dfe89afb6bbd066d9abc3b72ebc10e52. Right now nova::glance is\nincluded in base nova class, but planned to be removed. Lets include\nit now.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-nova/+/770684\nChange-Id: Ie2f7478e2115bac5051f3424c4bd2b97efa6f733\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Create interface to create mysql resources via hieradata\n\nThis added the \"tripleo::<service name>::mysql_user\" interface, which\nallows folks to create databases, users and grants via hieradata instead\nof having to modify puppet-tripleo.\n\nChange-Id: I975d64c73e314159db0f6c1ada14a26491a46d1a\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Rspec tests for nova profiles\n\nThis change fixes the hiera calls in the base nova profile to use the\nparameter rather than continue to call hiera. Additionally this change\nincludes basic test coverage for the various nova profiles.\n\nChange-Id: If393606eeb3c39ed3a2655bd89c5c276a9cf106e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "ovn_dbs override support\n\nThese hiera keys are needed to support the upgrade-with-os\nblueprint. This support was added for other services already\nsee LP#1832361\n\nRelated-Bug: #1854519\n\nTested-by: Jose Luis Franco Arza <jfrancoa@redhat.com>\n\nChange-Id: I7bff96c0b0238e4aeaa33e0ec343a75e08b6a2f7\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Use relative names to include classes\n\n... to avoid lint errors by relative_classname_inclusion, which was\nre-enabled recently[1].\n\n[1] https://review.opendev.org/#/c/740023/\n\nChange-Id: Ibb80b8b0f4075c00ceb306bcf54bb87df58165af\n",
        "issue_summary": ""
    },
    {
        "commit_message": "include nova::compute::pci in compute.pp\n\nThis commit Iccf86f42448d2e7e682728cb82808f91b6d8124e in\npuppet-nova change the way we configure the pci whitlist.\n\nIt is now require to include the nova::compute::pci class\nto apply the pci whitelist configration on the compute node.\n\nChange-Id: Ie29dcd8a9ac10f61c623149670094fa8b108d50d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add PTP service\n\nPrecision Time Protocol (PTP) is a protocol used to\nsynchronize clocks throughout a network. When used\nin conjunction with hardware support, PTP is capable\nof sub-microsecond accuracy which is far better than\nis normally obtainable with NTP.\n\nChange-Id: Idc78df3a90b73be504480bc9d33a3f0041d2d84f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable TLS configuration for containerized Galera\n\nIn non-containerized deployments, Galera can be configured to use TLS\nfor gcomm group communication when enable_internal_tls is set to true.\n\nFix the creation of the mysql bundle resource to enable TLS when\nconfigured. The key and cert are passed as other configuration files\nand must be copied by Kolla at container startup.\n\nChange-Id: If845baa7b0a437c28148c817b7f94d540ca15814\nPartial-Bug: #1708135\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add region support for instance HA\n\nDefine the region_name parameter in the pacemaker resource to avoid\nauthentication failures in a multi-region context.\n\nDepends-On: https://review.opendev.org/#/c/663022/\nChange-Id: I00d4f97cd24f7c36eeb0a29f9c91422cf7ded3ee\nCloses-Bug: #1831206\n",
        "issue_summary": ""
    },
    {
        "commit_message": "neutron/plugins/ml2/bigswitch: do not require agent\n\nA change in puppet-neutron now makes sure what agent has\npython-networking-bigswitch package which was required on the agent, so\nwe don't need to load the plugin on the agent node anymore.\n\nChange-Id: Ibde20ddb74da10e6eb0637a9ae37a550d33c038f\nDepends-On: I651515b865802e59fa1234b87f82a0020e3bb9ca\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add amqp send queue limit for collectd\n\nsend_queue_limit was added recently to puppet-collectd and\nwill be available in puppet-collectd-12.2\n\nChange-Id: Ida812cdbe5141ff91a7db7c46e422f86fb762f98\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Adding listen_options for Contrail Webui https in haproxy\n\nWithout balance source and hash-type consistent traffic to\nContrail Webui https is not correctly load-balanced\n\nChange-Id: I05a5aeea7db801c1403ef3c4dd4f94480fd8692e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add messaging notification transport url\n\nChange-Id: I2bb6a9b95de2480b214b0a4d8f7161bf1968d3de\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Revert \"Set meta container-attribute-target=host attribute\"\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Create dedicated \"apache\" base profile\n\nThis profile has multiple purposes:\n- group common httpd configurations/instructions\n- correct a small issue with the \"status\" mod\n\nUntil now, only Horizon was specifically including this mode, and as\nhttpd wasn't listening on localhost, it wasn't in use at all.\n\nWith this commit, all API using apache will be able to provide the httpd\nserver status on 127.0.0.1/server-status.\n\nChange-Id: If6d64f807c244d7e56852a67ac7dbad26c4c002f\nCloses-Bug: 1724751\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Certmonger: Make postsave command configurable\n\nWe need to make it configurable since these commands don't apply for\ncontainerized environments. This way we can restart containers or\ndisable restarting and rely on other means.\n\nThis stems from the issue that some services get accidentally started by\ncertmonger on containerized environments, which makes the container\ninitialization fail.\n\nbp tls-via-certmonger-containers\n\nChange-Id: I62ff89362cfcc80e6e62fad09110918c36802813\n",
        "issue_summary": ""
    },
    {
        "commit_message": "mariadb: Move generation of systemd drop-in to puppet-tripleo\n\nSystemd starts mariadb as user mysql, so in order to allow a large\nnumber of connections (e.g. max_connections=4096) it is necessary to\nraise the file descriptor limit via a system drop-in file.\n\nWhen installing an undercloud, such drop-in file is currently\ngenerated by instack-undercloud (in file puppet-stack-config.pp). But\nnon-HA overcloud also need such drop-in to be generated.\n\nIn order to avoid duplicating code, the drop-in creation code should\nbe provided by puppet-tripleo. By default, no drop-in is generated;\nit has to be enabled by instack-undercloud or tripleo-heat-template\nonce they will use it (resp. to create undercloud or non-HA overcloud).\n\nThis patch does not aim at generating a dynamic file limit based on\nthe number of connections, this should land in another dedicated\npatch.  Instead, it just reuses the limit currently set for undercloud\nand HA-overclouds.\n\nAlso, the generation of the drop-in does not force a mysql restart\nlike it currently does in instack-undercloud, to avoid unexpected\nservice disruption on a non-HA overcloud after a minor update.\n\nCo-Authored-By: Tim Rozet <trozet@redhat.com>\n\nDepends-On: I7ca7b5f7614971455cae2bf7c4bf8264b642b0dc\n\nChange-Id: Ia0907b2ab6062a93fb9363e39c86535a490fbaf6\nPartial-Bug: #1648181\nRelated-Bug: #1524809\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Zaqar: support configurable backends\n\nThis patch updates the Zaqar profile so that we have\nsupport for configuring alternate versions of the messaging\nand management backends.\n\nIn Pike instack-undercloud started using the swift/sqlalchemy\nbackends and the intent here is to update the new containers\nundercloud to use a similar default (thus letting us drop Mongodb).\n\nChange-Id: Ie6a56b9163950cee2c0341afa0c0ddce665f3704\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove /etc/ceph dependency on puppet services\n\nIn tripleo-heat-templates a new 'CephConfigPath' parameter\nis introduced with the purpose of customizing the path where the\nCeph config and keyring files are created on the host.\nThis change makes sure that puppet-tripleo is able to consume\na custom location for the Ceph config and keyring files.\n\nCloses-Bug: #1708302\nCo-Authored-By: Giulio Fidente <gfidente@redhat.com>\nChange-Id: Iaabb66cd26f0246defe391a4e34f4eab3c3c5fee\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Update horizon manifest to use new ssl variable names\n\nA recent change [0] to puppet-horizon renamed horizon_cert and\nhorizon_key to use different names. This commit updates puppet-tripleo\nto use the appropriate names.\n\n[0] https://review.opendev.org/#/c/758041/6\n\nChange-Id: Ie479c69b77c67425188160a8af8c933ad6db79f4\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Nova: Replace hiera by lookup\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Clean up a few FIXME\n\nChange-Id: I507efdf3e771789de8cae5e29bc312b4d27f6b25\nglance: remove useless comments, they were implemented.\nironic: remove the useless condition\nrabbitmq: remove useless comment\nzaqar: remove useless parameter, call class directly\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove tripleo::profile::base::docker and docker_registry\n\nWe moved it to Ansible in Rocky, it's time to clean that up, it's not\nused anywhere.\n\nChange-Id: I7dfe7856c152a098e4375c2b3e23212ee3740c9f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "HA: Honour all hiera override variables in mysql_bundle\n\nDuring a major upgrade, upgrade tasks can rebuild a new pacemaker\ncluster by adding nodes one at a time. This is implemented by\nusing two special hiera variables mysql_node_names_override and\nmysql_short_node_names_override.\n\nMake sure the mysql_bundle puppet module uses both variables\nwhen such cluster rebuild is in progress.\n\nChange-Id: I6a06269f55a38071c34d2a95109d213fe7e2452c\nCloses-Bug: #1859961\nCo-Authored-By: Jose Luis Franco Arza <jfrancoa@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "ovn-dbs-bundle: Prepare for supporting new OVN version with separarte run dirs\n\nThis patch prepares the ground for using the latest OVN. OVN is split from\nopenvswitch and it has its own code repo. After the split, OVN has its\nown run dir (/var/run/ovn), db dir (/etc/ovn/), log dir (/var/logs/ovn)\nand datadir - /usr/share/ovn/scripts.\n\nWith this patch, it supports running older version (2.11) or new\nversion (2.12) without any issues. It mounts the host directories accordingly\nso that there is no impact when OVN is updated.\n\nChange-Id: I5d778cbeb2863ec0fe649799863752e8eb16492f\nSigned-off-by: Numan Siddique <nusiddiq@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Let collectd manage repo and added unit test\n\nIf collectd is allowed to manage repo, it will need\nthe epel module.\n\nThis patch let collectd manage repo. It does not let\nto manage the repo by default, but it can be modified.\nI also adds the collectd unit test.\n\nDepends-On: I771b4f033ba5d6926e1ab9d9900af8bc81876295\nChange-Id: I0576df2902cc44e7e9ff312214d609095132f2a4\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Implement Nova ec2api profile\n\nChange-Id: If4b091e1ca02f43aa9c65392baf8ceea007b7cfb\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Allow ovn_db_host to be of type array\n\nOn an OVN clustered database environment, there is no OVN VIP as all\nOVN databases are active. Neutron has to be configured to point to all\nOVN database servers in the cluster.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\nChange-Id: Ib8624f0c2e87de18a990060c3cb939c13ec3a6f2\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Support configuring multiple NFS cinder backends\n\nAdd support for configuring multiple NFS cinder backends.\n\nChange-Id: I6d387f6df0e9b85896b25b414ae2cf8bfea4152c\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Enable communication between UI and the Undercloud by making HAProxy proxy for the UI\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Align hiera keys with service names\n\nThese hiera keys aren't aligned with the service names, which\nwill be required for composable generation of the ip lists\nper service.\n\nChange-Id: I423b544df174254ac511b906b0c570e701678022\nDepends-On: I7febf28bf409e25e8e5961ab551b6d56bb11e0c6\nPartially-Implements: blueprint custom-roles\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Designate: Manage [network_api:neutron] parameters\n\nDepends-on: https://review.opendev.org/824974\nChange-Id: Ibe9e1903945cfa30780bca54e2935bbc023627c7\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Move constraints to their respective services\n\nThe openstack-core-then-httpd constraint needs to live in the apache\npacemaker manifest and not in the main controller manifest file.\nThe same goes for those specific vsm/cisco neutron resources.\n\nChange-Id: I2041d4d163f051427b62eec07b8345ad7006cc1d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix the timeout for pacemaker systemd resources\n\nBack in the Mitaka cycle via the change If6b43982c958f63bc78ad997400bf1279c23df7e\nwe made sure that the default start and stop timeouts for pacemaker\nsystemd resources is 200s (>= twice the default 90s DefaultTimeoutStopSec\nin systemd). We did this change by setting puppet resource defaults for\nthe Pacemaker::Resource::Service class:\n\nPacemaker::Resource::Service {\n  op_params => 'start timeout=200s stop timeout=200s',\n}\n\nThe problem is that after the composable services rework, this does not\nwork anymore and the pacemaker systemd resources that still exist do not\nhave these timeouts set.\n\nWe want to move away from resource defaults for this because its results\nare dependent on the inclusion order which in tripleo is not guaranteed\nany longer (https://docs.puppet.com/puppet/latest/reference/lang_scope.html#scope-lookup-rules)\n\nThe only services affected in Newton are: cinder-volume,\ncinder-backup, manila-share, haproxy. I preferred fixing all the\npacemaker resources because it seems the cleanest and most logical\ncommit.\n\nChange-Id: If89a95706514e536a7a2949871a0002c79b6046e\nCloses-Bug: #1629366\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add dport/sport parameter to firewall rule\n\nThe port parameter to puppetlabs-firewall is actually deprecated[1].\nThis adds support for using the new parameter names dport and sport. The\nport parameter is still retained in puppet-tripleo for backwards\ncompatibily for anyone using that interface. It is marked deprecated in\nthe documentation, however no deprecation warning is needed because\nthere is already a warning from from puppetlabs-firewall.\n\nblueprint undercloud-elements\nChange-Id: I0598007f90018f80a3266193bb24dbf112de49b7\n",
        "issue_summary": ""
    },
    {
        "commit_message": "mysqlclient: Drop hiera calls in favor of getting these via t-h-t\n\nThis also updates a leftover comment.\n\nChange-Id: I870caf20103b044655e699aac09f6621414f5326\nDepends-On: I5af5ccb88e644f4dd25503d8e7a93796695d3039\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Barbican: Replace hiera by lookup\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove erroneous octavia code related to sync_db\n\nThe octavia api manifest includes a conditional that appears to be\nrelated to database synchronization that can be removed as the this is\nhandled by passing the value of sync_db to the octavia puppet module.\n\nChange-Id: I1426b9066c7af76492c4ab75e421c4db9f8cc65f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Addition of Nuage as mechanism driver for ML2\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Add base constraint so gnocchi metricd is tied to core-clone\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Add PTP service\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Enables OpenDaylight Clustering in HA deployments\n\nPreviously ODL was restricted to only running on the first node in an\ntripleO HA deployment.  This patches enables clustering for ODL and\nallows multiple ODL instances (minimum 3 for HA).\n\nPartially-implements: blueprint opendaylight-ha\n\nChange-Id: Ic9a955a1c2afc040b2f9c6fb86573c04a60f9f31\nSigned-off-by: Tim Rozet <trozet@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Swift: Include puppet classes for gatekeeper and listing_formats\n\nThe gatekeeper middleware and the listing_formats middleware are always\nenabled in proxy-server pipeline, even if these middlewares are not\nexplicitly enabled in the pipeline parameter.\nThis change ensure that the corresponding puppet classes are included\nso that operators can set parameters of the these two middlewares.\n\nThis change also updates order of class inclusions so that the order\nbecomes consistent with the pipeline parameter.\n\nDepends-on: https://review.opendev.org/776826\nChange-Id: I994e549c5ccc9b06af2682826ac040edf51a3efa\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add manifests to inject and trust CA certificates\n\nChange-Id: I84273b4cd6576a63fa78dc93ad6b077dd2a780c7\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove individual service certificates\n\nThey are not being used and add extra logic and unnecessary clutter\nto the code. So this CR removes them in favor of just configuring\nTLS with the service_certificate. The only individual cert left was\nthe one for haproxy stats.\n\nChange-Id: Ic3b769423917e723ecc83e32bcbae17568345661\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable usage of \"short names\" for Ceph cluster\n\nWe're not able to use FQDNs yet, so to work around this, we give\nprecedence to a \"short name\" list we'll get from t-h-t. We can\nmigrate to using FQDNs in the next cycle.\n\nChange-Id: Ic6fec1057439ed9122d44ef294be890d3ff8a8ee\nRelated-Bug: #1628521\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Update DellEMC Manila Unity driver\n\nThis patch adds following 3 options:\n* network_plugin_ipv6_enabled\n* emc_ssl_cert_verify\n* emc_ssl_cert_path\n\nCloses Bug: #1778124\n\nChange-Id: I6330862def3ffce0aa187239829eda285dd16ab1\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Update DellEMC Manila VNX driver\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Manila: Remove unnecessary 'undef'\n\nThe third argument of the hiera function determines the hierarchy level\nto insert at the top of the hierarchy[1].\n [1] https://puppet.com/docs/puppet/7/function.html#hiera\n\nThis is currently used for dellemc_unity::emc_share_backend only and is\nnot used in the other places. In addition passing undef has no effect\nso it is just redundant.\n\nThis change removes the unnecessary undef parameter, to make usage of\nthe hiera function consistent across all manifests.\n\nChange-Id: Ia59a79fbd293775afdacd9f8a517ff256720a7c0\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Support mariabackup as a galera SST method\n\nIn addition to rsync and rsync tunnelled over socat,\nexpose the ability to use mariabackup in galera config.\n\nRelated-Bug: #1973872\n\nChange-Id: I4d5983ada52a58cdd853bd7b701bb11eeb88be8d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Replace ceph_grafana-server with ceph_grafana\n\nThis change reflect the tht commit that replace\nthe ceph_grafana resource service name.\nThis is required here to retrieve properly the\nhieradata resources.\n\nDepends-On: https://review.opendev.org/#/c/674556\nChange-Id: I3eea8d1aa8aa56298add4d17ecad25610698f75e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Handle cinder volume type for multiple cinder stores\n\n1. Adding 'cinder_volume_type' configuration parameter to allow\ncinder stores to specify a volume type for each cinder store.\n\n2. Removed the restrictions are imposed to allow only a single\n   instance of the 'cinder'.\n\nPartially Implements: blueprint multiple-cinder-backend-support\n\nChange-Id: I58df2815e59fe064fe3f0f1d5e1cd35e63d5bdd1\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Synchronize connection configuration for metrics\n\nCurrently there are cases when collectd is trying to connect to QDR\non different interface than QDR is listening for connections.\n\nThis patch makes sure that those services are always in sync. And also\nis changing interior configuration to work based on IPs instead\nof hostnames.\n\nChange-Id: Ia865bef9daf5b7e92b1b8c3712113416c9c8c176\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Refactor nova migration config into client & target profiles\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Puppet module to deploy MySQL bundle for HA\n\nThis module is used by tripleo-heat-templates to configure and deploy\nKolla-based mysql containers managed by pacemaker.\n\nWe use short-lived containers that call pcs via puppet to create\nthe needed pacemaker resources, properties and constraints.\n\nCo-Authored-By: Michele Baldesari <michele@acksyn.org>\nPartial-Bug: #1692842\n\nDepends-On: I44fbd7f89ab22b72e8d3fc0a0e3fe54a9418a60f\nDepends-On: Ie9b7e7d2a3cec4b121915a17c1e809e4ec950e7f\n\nChange-Id: I3b4d8ad2eec70080419882d5d822f78ebd3721ae\n",
        "issue_summary": ""
    },
    {
        "commit_message": "nova: disable ::nova::db::sync_cell_v2\n\nThis feature is broken for us now and there is work in progress in Nova\nto improve nova cell deployment.\nUntil it's fixed upstream, we need to disable cells deployment for now,\nso we can promote our CI.\n\nChange-Id: I379ba9e94a92ed225a03a67fc975b542447a9c8b\nRelated-Bug: #1649341\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Move nova::placement to common nova manifest\n\nnova::placement needs to be declared on more than placement api node,\nbecause credentials are used by different services (at least\nnova-compute now).\nThis patch moves the class to base/nova.pp, at the same step.\nSo compute nodes will have the credentials and will be able to use\nPlacement API on multinode environments.\n\nChange-Id: Iada8e9fcccec7dbfe7ac0ec0f9ec6eac1581290e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Conditionalize rndc changes\n\nThe changes to allow configuration of more rndc options had a\ncross-repo dependency on the tripleo-heat-templates changes that\nmade use of the new options.  Unfortunately, the puppet changes\nlanded first and are now broken because necessary inputs are not\nbeing provided.  This change conditionalizes the new configurations\nso that if the parameters aren't passed we won't attempt to do\ninvalid configuration.\n\nCloses-Bug: #1788907\nChange-Id: Ia82f1c6be0d5504498e77a90268cad8abecdeae2\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Updates OpenDaylight HA Proxy backend check\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Apply RabbitMQ rabbitmq_* static hiera in nonha with single controller\n\nWe were not consuming the rabbitmq_* static hiera settings when\ndeploying without pcmk and with a single controller.\n\nChange-Id: I1506093e3d4365e2617521737c8f53edfb022133\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Deploy monitoring/logging agents sooner\n\nTo be able to monitor during deployment, we need sensu clients\nand fluentd collectors be deployed as soon as it is possible.\n\nChange-Id: I952f0d6de6f6327d5c923b8f1d7a5979758dbc59\n",
        "issue_summary": ""
    },
    {
        "commit_message": "profile/base/nova: declare nova class and configure cache correctly.\n\nNova {} workaround is not working correctly, we need to merge this patch\nso we can move out ::nova from THT completely.\n\nAlso we need to use nova::cache to configure memcached parameters.\n\nCo-Authorized-By: Giulio Fidente <gfidente@redhat.com>\nCo-Authorized-By: Sven Anderson <sven@redhat.com>\nCo-Authorized-By: Emilien Macchi <emilien@redhat.com>\n\nDepends-On: I52d5badb9960124bb8fcb54983db2853c4185e77\nDepends-On: I3e400a5f64b85f0d374fc02cc5e4080d19d0f2e4\nDepends-On: Iee5f8015cbf40ca0e9a435a7de919ebdb74cf93f\n\nChange-Id: Ie4e72e765f6a8ade48d4b2b766f067872554d1a2\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fixes missing haproxy firewall rules for OpenDaylight\n\nThis migrates the haproxy config for ODL to use the\ntripleo::haproxy::endpoint class.  This class automatically configures\nfirewall rules for each haproxy endpoint.  Also removes listening on\npublic network for IP and adds listening on ctlplane network for admin\naccess.\n\nPartial-Bug: 1651476\n\nChange-Id: I1f2af2793d040fda17bf73252afe59434d99f31f\nSigned-off-by: Tim Rozet <trozet@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"placement: Initial extraction of the Placement service from Nova\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix Ceilometer profiles\n\n* Configure ceilometer to default mongodb backend.\n* remove useless sync_db parameter in pacemaker class.\n* Remove duplicated resource for ceilometer central agent service with\n  pcmk.\n* Remove pacemaker delay resource dependency, the resource does not\n  exist anymore.\n\nChange-Id: Ie337bfe770c5b22158dc307eb36e39c2b93b95a9\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Configure the Metadata Agent only when enable_metadata_agent is set\n\nWe should only configure the Nuage Metadata Agent only\nwhen enable_metadata_agent is true. With this change\nwe seperate installation of nuage vrs with configuring\nmetadata agent.\n\nChange-Id: Ie6a5f57b3f0d4b00192b0760942d07ee59b32fbb\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Nova API and Neutron server should run database creation in step 3\n\nWe perform the Galera setup in step 2 so there is no guarantee that the\ndatabase will be available in that same step [1].\n\nWe used to implement a dependency in puppet using the 'galera-ready'\nresource (clustercheck) but this is not possible with roles because we\nalso don't have any guarantee about clustercheck being installed on the\nsame node.\n\nBecause of the above all services must create/sync their databases\nin a later step. This patch fixes Nova API and Neutron Server, the other\nservices use step 3 already.\n\n1. https://github.com/openstack/tripleo-heat-templates/blob/master/puppet/services/README.rst\n\nChange-Id: I22750ffb64afbe40b5560a6a0d0dabc5b8927d32\n",
        "issue_summary": ""
    },
    {
        "commit_message": "ceilometer: escape % in crontab\n\n% in cron is a reserved character and must be escape.\n\nChange-Id: Ic5c4a6126f42c700a8534c3c4d30f5951e4718ae\nCloses-bug: #1790503\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove unused time/ptp class\n\nDepends-On: https://review.opendev.org/707296\nChange-Id: I7c1c74da9df47d1ba76e927adb101db814e64490\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Expose innodb_lock_wait_timeout via hieradata.\n\nAlong the same lines of https://review.opendev.org/#/c/603996/.\nThis commits expoxes one more knob to the operators, allowing them\nto tweak the value of innodb_lock_wait_timeout (default = 50).\nFrom upstream docs:\n\n~~~\nTime in seconds that an InnoDB transaction waits for an InnoDB\nrow lock (not table lock) before giving up with the error\nERROR 1205 (HY000): Lock wait timeout exceeded; try restarting transaction.\nWhen this occurs, the statement (not transaction) is rolled back.\n~~~\n\nAs for the other parameters it defaults to 'undef' so to keep the\ndefault value of 50.\n\nChange-Id: Ic2e1666ad39762caf9bf68272fdb00ee42658bb8\n",
        "issue_summary": ""
    },
    {
        "commit_message": "hw ovs offload - On some machines representor ports not created after reboot\n\nOn some machines it's failing to run the devlink and ethtool commands\nwithout the full path of these commands\n\nCloses-Bug: #1745821\nChange-Id: If2f7c7a46fb1b52cce9ffbfa31a3161fc07f1334\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add capability to configure simple-crypto backend for barbican\n\nThis introduces the ability to configure the simple crypto backend\nthrough a general backends manifest. This manifest will gather all the\nbackends and enable the relevant configurations depending on whether\nthey're enabled via t-h-t or not.\n\nChange-Id: I44391b91b01bc03c9773410152e117ec6bbba491\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Adds TLS support for OpenDaylight\n\nAllows enabling TLS for the ODL service as well as OVS.\n\nPartially-Implements: blueprint opendaylight-ssl-support\n\nDepends-On: I719e8dddbd00d19fd8e1bd2a20dabd600b7b9d1c\n\nChange-Id: Id579aea77bf8d679b514ef9851af36d9170e93a1\nSigned-off-by: Tim Rozet <trozet@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"set x-forwarded-port header for proxied requests\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Only include neutron::designate class in neutron server\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Make haproxy balancer default options configurable\n\nChange-Id: Id5e119e0949d27a6e3b3f21ecd5e2eb39f1eeb13\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"add cache to object-expirer pipeline\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix default value for Gnocchi auth mode\n\nThe correct values or auth modes for Gnocchi are 'basic' and 'keystone'.\nThis patch fixes the 'simple' usage to 'basic'. Note that without this rename\nthe deployment works because when 'simple' is used the parameter is not used\nin config file, so value 'basic' is used by python-collectd-gnocchi, because\nit is implicit default.\n\nChange-Id: I05632137ed12c59a41a5219189c431983935d461\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Correct TLS cert permission\n\nThis patch corrects file permission of cert directory and certificates\nfor QDR.\n\nChange-Id: I5a8e4b3598d5e5a30ec967fba504bac91c7f51ec\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add interface_for_ip function\n\nThis patch adds a custom Puppet function called interface_for_ip\nThis function will be used within the TripleO puppet implementation\nto help obtain the correct interface for a given IP address.\n\nChange-Id: I0979f69a49052fda888277fa64ebeadc038bc778\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Change haproxy mode to http for octavia\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"HAproxy should get full response from ironic-inspector\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Add part_power and min_part_hours for Swift\n\nChange-Id: I78049105adf52226d47cc6764b1ba6c2c06e91e5\nRelated-Bug: 1631926\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Adds IPv6 support for interface_for_ip function\n\nProper interface matching when an IPv6 address is provided.\n\nIf Facter version used is < 3 then it adds the netmask6 facts as custom facts.\n\nFix bugs https://bugzilla.redhat.com/show_bug.cgi?id=1280523\n\nChange-Id: Ide26ca1740dc12ea5f47a28f4cecacd6ef0b18f9\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Introduce param to enable use of clustercheck\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Avoid failing on rsyslog\n\nThis patch makes deployment pass when value of hiera variable\ntripleo_logging_sources_<enabled_service> is undef. This case should\ntechnically not happen, but currently enabled_services contains\nservices which are not being deployed, so we need to make sure that\nPuppet does not fail in this case.\n\nChange-Id: Ib34304dada25a0be1a39f508119adbe9cca4d66f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Remove contrail from haproxy\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix mode for openstack services\n\nOpenStack services are generally http services. The mode for\nthese endpoints should be http otherwise logging will fallback\ntcplog.\n\nChange-Id: If3b50718027a4a52df3453feb6fc332d2966ffd0\nCloses-Bug: #1759690\n",
        "issue_summary": ""
    },
    {
        "commit_message": "pacemaker: increase timeouts for rabbitmq and redis\n\nWhen we observe the 'stop timeout' values of pacemaker resources:\nrabbitmq and redis, they are set to 90s. But for all other services, it\nis set to 200s.\nThe overcloud deployment sometimes fails due to this with the error:\nError: Could not complete shutdown of rabbitmq-clone, 1 resources\nremaining\nError performing operation: Timer expired\n\nThis patch updates the timeout for Redis and RabbitMQ to avoid this\nerror.\n\nChange-Id: I8a3b3951a896ee3e8e5e09778e8ea4717e76a1b4\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Deprecate loabalancer profiles\n\nDeprecate loadbalancer profiles so we have a profile for HAproxy and\nanother for keepalived.\n\nOnce THT uses the new profiles, we'll remove loadbalancer profiles here.\n\nChange-Id: I8aa9045fc80205485abab723968b26084f60bf71\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Adjust UI manifest (language list)\n\ntripleo-ui is removing en-GB from the locale list, adjust the manifest\nto reflect this change.\n\nChange-Id: If3f6603d703a1af07a7eaab56e47e8b0b90947af\nRelated-Bug: #1680397\n",
        "issue_summary": ""
    },
    {
        "commit_message": "haproxy: Add missing default_backend option\n\nThis change ensures the default_backend option is included in all\nfrontends, to solve the issue caused by unavailable backend service.\n\nCloses-Bug: #1946045\nChange-Id: I4856d33e6eaf5ca0fbfd9c4f33bd0d9433d107fa\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add Ceph RGW listener to HAProxy\n\nShares the same (ssl)port with Swift Proxy\n\nChange-Id: I2e1de1a3fa6ad62895a1e972e43858f23c08bbea\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Deprecates using exec workaround for ODL clustering\n\nPreviously we had used an exec defined in puppet-tripleo to do\nclustering with OpenDaylight docker containers.  The clustering issue is\nnow fixed in puppet-opendaylight by:\nhttps://git.opendaylight.org/gerrit/#/c/60491\n\nSo removing the custom function and class workaround.  Also,\n'ha_node_index' is deprecated for configuring clustering with\npuppet-opendaylight so that is also removed.\n\nDepends-On: I21c1eb2eff6d4cb855eff4a1122f55ad625d84cc\n\nChange-Id: I7693b692c74071945fdcc08292542e9b458a540b\nSigned-off-by: Tim Rozet <trozet@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "tls_proxy: Make sure port is an integer\n\nThe apache::vhost::port parameter no longer accepts a string value and\nnow an integer value is required. This change makes sure the port is\nconverted to an integer value even if a string value is passed.\n\nPartial-Bug: #1988053\nChange-Id: I52f099b5ab198c8cd02bbe73a4fe491b86c6d442\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add /bin to PATH for CRL cronjob\n\nChecking the root's mail (/var/mail/root) I finally saw the root cause\nof the CRL cronjob not working.\n\n/bin/sh: curl: command not found\n\nnow, curl, (and most commands used by that cronjob) is in the /bin bash,\nso we need to add it to the environment's PATH for the cronjob.\n\nChange-Id: If10855b801782eeaf2006cd57071d74d13daf8c2\nCloses-Bug: #1712404\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add certmonger-grafana-refresh script\n\nFollowing the pattern of the other openstack components,\nwe need the refresh script that trigger a restart of the\nceph grafana container when the certificate gets renewed.\nThis commit adds also the postsave_cmd in the ceph_grafana\npuppet file to reflect the the change.\n\nChange-Id: I91df82eec1715bd7a9d0b1ac44f72dd76f9e54cd\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable creation of keystone domain when ldap backends are created\n\nThis sets the flag create_domain_entry for the ldap_backend resource,\nwhich will create the domain for the ldap backend (this was previously\nnot the case since only the configuration was created). Furtherly, this\nflag will also refresh the keystone server, so the changes come into\neffect.\n\nNote that this is only done in step 3, so the domains are created there\nand the refresh happens in that step. Also, this is only done for the\nbootstrap node, since when the other nodes start, they will already have\nthe domains available in the keystone database and there won't be a need\nto restart.\n\nRelated-Bug: #1677603\nDepends-On: Ib6c633b6a975e4b760c10a2aef3c252885b05e28\nChange-Id: Id879cf5c5ae39d37bf58b73c78733001d2b03d9c\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove double include of neutron::server class\n\nThis class was being included in the same way in two different branches\nof the code which could be joined in the initial branch (or if\nstatement).\n\nChange-Id: Iee3c1663a2fe929b21a9c089d89b721600af66bd\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Redis: Share the same base class\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Enables websocket based port status for OpenDaylight\"",
        "issue_summary": ""
    },
    {
        "commit_message": "cinder: remove ineffective implementation about key_mgr_backend\n\nChange c376d64e5f0b38165fa50feee04c2de0e1d851bc deprecated\nthe key_mgr_backend parameter of the cinder::api class, but the logic\nto pick up the deprecatd parameter, which was implemented by this\nchange, was invalid because the cinder class is included before\nthe cinder::api class is included.\nThis change removes the invalid implementation and makes that parameter\njust ineffective, because we use the cinder::* parameter from t-h-t\nand it is unlikely that users would use that puppet-tripleo parameter\ndirectly.\n\nChange-Id: Ie24f82fcede4d2862f9e6a49734959499d9fd845\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Ceilometer: Add support for oslo.cache parameters\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Deploy nova::db classes in api profile\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Use a python shim for running for auth_ed25519 helper\n\nWhen mysql ed25519 authentication is enabled, puppet-tripleo\nuses a python helper to generate password hashes. Python\nhelpers have their +x permission stripped on install time,\nso run the helper via the right python interpreter instead.\n\nChange-Id: I13b02af166d7767799be99a0fb52066b00637a01\nRelated-Bug: #1866093\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Handle image_volume_cache_enabled in PureStorage Cinder backend.\n\nChange-Id: I850abf763e0d9f154ab02e8a36ddb8c7e7ae6d43\nDepends-On: I9302dfde055c2e53bdb83bab4a873e00468e7ce1\nRelated-bug: 1807195\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add docker profile\n\nThis configures the docker service on the host, as an alternative\nto the firstboot script in docker/firstboot/setup_docker_host.sh\n\nDoing this via puppet will enable easier integration with e.g\nthe multinode jobs where no firstboot scripts run, and also\nenables a better error path in the event the service fails to start\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nChange-Id: Id8add1e8a0ecaedb7d8a7dc9ba3747c1ac3b8eea\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Allow a user to specify the syslog address for HAProxy\n\nCurrently the address of the syslog server for HAProxy is hardcoded to\n/dev/log without a way to customize this setting.\n\nThis commit aims to give a user more flexibility about which syslog\nserver address to use.\n\nChange-Id: If7f7c8154e544e5d8a49f79f642e1ad01644a66d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "loadbalancer: add Gnocchi API support\n\nAdd Gnocchi (OpenStack Metric storage) support in TripleO Loadbalancer config.\n\nChange-Id: Ia991819f57616a9a11bd4dfb77893748130268a0\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Support for Dell EMC VMAX Manila Driver\n\nThis changes adds Dell EMC VMAX backend as composable service\nand matches the tripleo-heat-templates.\n\nChange-Id: I6e3b4ed6477c7ee56aef4e9849893229ca648c85\nImplements: blueprint dellemc-vmax-manila\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Telemetry: Use new coordination classes\n\nDepends-on: https://review.opendev.org/792001\nDepends-on: https://review.opendev.org/792509\nChange-Id: I701a70d27f7aa8fbf4f1207032e42a4e3ced522e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix generating connections to OVN db\n\nCorrect way how we generate ovn db connection\nand recognize when ovn_host is IPV4 or IPV6\n\nChange-Id: Iaed7304adf40a87a0f14b7a95339f8416140e947\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Convert all class usage to relative names\n\nChange-Id: Ib2ed745b682cf12f9469a5a64451adcabec400af\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Contrail: Fix controlplane/dataplane network asignments & enable optional dpdk\"",
        "issue_summary": ""
    },
    {
        "commit_message": "SSL support for haproxy -> novnc proxy connection\n\nWith tls-everywhere enabled the connection from haproxy to the nova novnc\nproxy was not encrypted. Now we request a certificate and configue haproxy\nand the novnc proxy to encrypt this remaining part in a vnc connection to\nbe encrypted as well.\n\nChange-Id: I4667706633205c240f2efb51663e6efbce5e344e\nRelated-bug: #1785700\nDepends-On: Ice51fe175bdc1cb14fa49cf53d1f38e9728bbb60\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable configuration of rndc controls\n\nFor ha deployments we need to be able to allow rndc commands from\nother controllers.  We don't want to allow rndc commands from\nanywhere though, so we need to be able to configure it to only\nlisten on a specific network (which will be internal_api by default).\nThis can be done via the controls parameter.\n\nHowever, because the value is a hash and the top-level key for the\nhash is a dynamic value, it is problematic to represent the data\nstructure in a Heat template.  For our purposes, it is sufficient\nto break apart the hash into its component parts and build the hash\nin our Puppet manifest.\n\nChange-Id: I2c97ff30c4c59ef32b6b918ba52973451e1b6241\nDepends-On: https://review.openstack.org/581898\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Set balance to source for openshift_master endpoints\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Set memcached_servers for nova API\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Explicitly use Keystone v2 endpoint in the UI\n\nThe UI expects a Keystone endpoint URL that includes the version\n(without it, it is not possible to log in). Looking at the\ndist/tripleo_ui_config.js.sample configuration sample in the tripleo-ui\nrepository, the current expectation is a v2.0 URL so let's use that for\nnow.\n\nChange-Id: I4ca04b16251fbee264cd4ce5e5433c2c1cb6d2f0\nCloses-Bug: #1630546\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add configurable monitor timeouts for ovn dbs\n\nUnder pressure, the default monitor timeout value of 20 seconds is not\nenough to prevent unnecessary failovers of the ovn-dbs pacemaker resource.\nWhile spawning a few VMs in the same time this could lead to unnecessary\nmovements of master DB, then re-connections of ovn-controllers (slaves are\nread-only), further peaks of load on DBs, and at the end it could lead to\nsnowball effect. Now this value can be configurable by dbs_timeout in\ntripleo::profile::pacemaker::ovn_dbs_bundle and by default is set to 60s.\n\nChange-Id: Ib95c6b7614631eed264d42e6cf61672b705e7893\nSigned-off-by: Kamil Sambor <ksambor@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "updates to fluentd support\n\nThis change contains modifications to the fluentd module to support\nhttps://review.openstack.org/353506.\n\nbp tripleo-opstools-centralized-logging\nChange-Id: I2e1abe4d8c8359e56ff626255ee50c9cacca1940\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Rename controller_host to controller_hosts\n\nSince we can have many controller_hosts backend in a setup, we use the\nplural term to define it.\n\nChange-Id: I2a46c250bc3325eef9c3128cac2ab45c88b1ae75\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Revert \"Set meta container-attribute-target=host attribute\"\n\nThis patch broke the containers scenario004 test because it relies on a\nnewer mariadb container than has actually passed CI at this time.\n\nTo revert this revert, we need to make sure we test\nscenario004-containers against that patch.\n\nThis reverts commit 6bcb011723ad7b75f18914c887dc4fa4bad4d620.\n\nCloses-Bug: 1721497\n\nChange-Id: I34c7c388eed94db1735c45e26661a0af8cdce8e9\n",
        "issue_summary": ""
    },
    {
        "commit_message": "MySQL Client: Remove logic for non-containerized deployment\n\n... because current TripleO supports only running services in\ncontainers.\n\nChange-Id: I13d3d3f796071c19670cb04a30536ca161b624e0\n",
        "issue_summary": ""
    },
    {
        "commit_message": "HA: ensure scaling up galera does not cause promotion errors\n\nDuring scale up, two galera resources are being updated in the\npacemaker cluster. Force a specific ordering in puppet to make\nsure the galera resource agent always picks up the up-to-date\nconfig when it starts new replicas.\n\nCloses-Bug: #1892530\n\nChange-Id: Id40ac8c10fd0348ce4fd99ce319dab933312acfa\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Manage Redis VIP when deploying with keepalived\n\nPreviously we weren't creating Redis VIP in keepalived, causing Redis to\nbe unusable in non-HA deployments.\n\nChange-Id: I0bb37f6fb3eed022288b2dcfc7a88e8ff88a7ace\nRelated-Bug: #1618510\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Make sure we pass the proper new pcs 0.10 variables\n\nWith I852d5d7aa8578c45f0c7215827cedd4ea72c8d0b we will now\nuse the new system to create pacemaker remotes when pcs 0.10\nis installed on the system (RHEL/Centos >=8). This new\nway of doing things requires the remotes to set up pcsd\nand so we need to pass the same pcs user and password that\nare used by pacemaker itself to the remote resource.\n\nTested on an IHA OSP15 deployment and got a successful deployment.\n\nDepends-On: I852d5d7aa8578c45f0c7215827cedd4ea72c8d0b\nChange-Id: I02a8c1d618b11f68f9272b9044ff81ac39d6a81b\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Allow passing aditional arguments to wsrep_provider_options\n\nThis commit allows to inject arbitrary arguments into the\nwsrep_provider_options string.\nOperators should be extremely careful in doing so as there is no\nvalidation or syntax checking whatsoever.\n\nExample:\n\nExtraConfig:\n  tripleo::profile::pacemaker::database::mysql_bundle::provider_options: 'evs.suspect_timeout=PT30S'\n\nresults in:\n\nwsrep_provider_options = evs.suspect_timeout=PT30S;gcache.recover=no;gmcast.listen_addr=tcp://172.17.0.151:4567;socket.ssl_key=/etc/pki/tls/private/mysql.key;socket.ssl_cert=/etc/pki/tls/certs/mysql.crt;socket.ssl_cipher=AES128-SHA256;socket.ssl_ca=/etc/ipa/ca.crt;\n\nChange-Id: Ie4711ace66846b10252bccdddae84e045af3f604\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Create dbs in step 3 for the roles\n\nBefore the roles we could make the create db operation depend on a\n'galera-ready' resource [1]. We can't do it anymore from the role so\nwe need to do create in step 3, when we do sync as well.\n\n1. https://github.com/openstack/tripleo-heat-templates/blob/master/puppet/manifests/overcloud_controller_pacemaker.pp#L382\n\nChange-Id: Id065a9180f1f1a41ab225ec5f755498ec7d9a827\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Remove support for token_flush cron job\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Use resource collector for the fencing -> stonith ordering\n\nChange Ifef08033043a4cc90a6261e962d2fdecdf275650 moved the stonith\nproperty definition to the pacemaker_master node. This means that the\nClass['tripleo::fencing'] -> Class['pacemaker::stonith'] ordering\nbreaks on non-boostrap pacemaker nodes because the pacemaker::stonith\nproperty is not defined there any longer.\n\nLet's fix this by simply using a resource collector and set the ordering\non that instead of adding yet anoth if statement. Ordering on\nenablement of stonith is actually more correct formally.\n\nTested this on a broken setup successfully.\n\nCloses-Bug: #1712605\nChange-Id: I616d340bdf75da9d9eb8b83b2e804dff3d07d58e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Allow the container backend to be configurable\n\nWe added a container backend in puppet-pacemaker via\nIa4a7b58d14d80e85d51e98acec1aad2ba90b69de. Let's now\nlet tripleo override it when needed.\n\nTested this via some hiera keys overrides and it works correctly.\n\nChange-Id: I610923327462b901840131316a4984c8fe98faaa\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Do no set ovn-match-northd-version to true by default.\n\nThis was introduced in commit ec21edf4d9d548c766dbe4ba9adfb045d0176bf4\nwhen ovn-controllers were not updated before northdb.\n\nNow, ovn-controller are updated first so the \"Fail-safe upgrade\"\nprocedure[1] should not be used by default anymore.\n\nCloses-Bug: #2007870\n\n[1] https://docs.ovn.org/en/latest/intro/install/ovn-upgrades.html#fail-safe-upgrade\n\nChange-Id: I38829bc84ecc4cdeabd72e94db8341e86a2c1222\n",
        "issue_summary": ""
    },
    {
        "commit_message": "ssh: allow to configure PasswordAuthentication\n\nAllow to override the default PasswordAuthentication parameter (default\nis 'no').\n\nChange-Id: I88b24c82fb3cf2309f45d5d447a9b0c403da7fc9\nRelated-Bug: #1772519\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Update puppet-tripleo libvirt to support docker deployments\n\nIt is not necessary to mangle libvirt_rbd_secret_key parameter as this\nis now given by the templates.\n\nDepends-On: Iff3dbcb0f1b4d2373570e184e636a71553cea708\nChange-Id: I6b163ab102f505f0d0ce9eb1ad9d4274e4ff6348\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove EC2 API\n\n... because support for EC2 API was alreday removed from\ntripleo-heat-templates[1].\n\n[1] 7adb850fbc6b4544a542111c930e9169e2051ba7\n\nChange-Id: I16ddf16a39c5f7edd9a4ddf669d0993d9aaa676b\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Rely on container setup for haproxy's certificate user and group\n\nIf we're on a containerized environment it might be that we don't have\nthe haproxy user and group (the containerized undercloud). So this sets\nit up the owner as root and relies on the containerized setup to fix the\npermissions instead. This way, we won't need to have the haproxy package\ninstalled in the host.\n\nChange-Id: If9a86e1e6b450fa4335e8c60aca512d7f4ca5894\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Split Sahara pacemaker roles into separate services\n\nIn order for each service to operate independently when used with Pacemaker,\nthe roles needed to be separated.\n\nThis also drops all pacemaker constraints, as they do not make much sense\nin the composable realm.\n\nChange-Id: Id61eb15b1e2366f5b73c6e7d47941651e40651b1\nPartial-Bug: #1592284\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Defauts mariadb's innodb_strict_mode to OFF\n\nRecent mariadb (e.g. 10.3.27) added more DDL checks such as table\ncreate/alter checks and table size checks which conflict with the\nschema of a few OpenStack services after a FFU has upgraded the\ndatabase without changing the row format in use.\n\nSince no data seems to be impacted, as an immediate measure,\nforce the innodb_strict_mode to OFF to ensure that all the db_sync\noperations can succeed, until we come up with a permanent fix.\n\nCloses-Bug: #1908232\n\nChange-Id: I046dbbb0ffca935119c36d301c2ab7dba469de9c\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove package_manifest\n\nThis was created 5 years ago and is not useful anymore, let's remove it.\n\nDepends-On: https://review.opendev.org/753324\nChange-Id: Iac8ba86958fe2fba0c9b48cef02ba41f8d4c32cf\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Support configuring multiple Dell EMC Unity cinder backends\n\nAdd support for configuring multiple Dell EMC Unity cinder backends.\n\nChange-Id: I93e37c2409d198a4070f23af3d9fee958334150c\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Adding key_size option on the certmonger_certificate function\n\ncertmonger_certificate function currently does not support\ncreating certificates with private keys stronger than 2048bits.\nAdding a key_size option.\n\nkey_size option were added on puppet_certmonger on the v2.6.0\nupstream: https://github.com/saltedsignal/puppet-certmonger/releases/tag/v2.6.0\n\nChange-Id: I4da96f2164cf1d136f9471f1d6251bdd8cfd2d0b\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add flag for rabbitmq fips_mode, defaulting to false\n\nChange-Id: I66de56a07a12443414b5e960ba1a3c655a83abe7\n",
        "issue_summary": ""
    },
    {
        "commit_message": "For http service endpoints always redirect to https\n\nIf public TLS is enabled, this sets as default that services should\nalways redirect to https.\n\nChange-Id: I19b9d07ac8925366ed27fefcaca4fdb9a9ab1b37\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix dependencies for HAProxy when certmonger is used\n\nInstalling the undercloud with generate_service_certificate=True\nfails if HAProxy is not pre-installed. This is due to missing\ndependency setting on our puppet manifests. We need to specify that\nthe PEM file needs to be written only if the haproxy user and group\nexist (which comes from the package) and that the haproxy frontend\nconfiguration needs to be notified if there are changes in the\ncertificates.\n\nChange-Id: Iba3030e4489eb31f9c07ab49913687d8b595a91b\nCloses-Bug: #1623805\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Defaults to ceph_mon_node_ips and ceph_mon_node_names\n\nUses the ceph_mon_node_ips and _names from all_nodes.yaml which\nare formatted as arrays.\n\nAlso deprecates ceph_ipv6 parameter as will determine if ipv6\nusing is_ipv6_address.\n\nChange-Id: I481dd2cd2cde7f1491080e6d9c7dcb7047c22de1\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add base profile for Octavia services\n\nAdds initial base profile and profile for API service.\n\nPartially-implements: blueprint octavia-service-integration\nChange-Id: I77783029797be4fb488c6e743c51d228eba9c474\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Deploy nova over Apache httpd\n\nThis adds the necessary resources to the manifest to migrate nova\nto run over httpd. The service name will be moved to t-h-t in a\nsubsequent commit, but since this patch depends on t-h-t, we try to\navoid circular dependencies of repos.\n\nChange-Id: I91d430a3871672f90b0f885736f067ddae3c238c\nDepends-On: I57fb20cf0d58b3376243ba4aeb04e995e7152ce3\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Configure credentials for ironic to access cinder\n\nChange-Id: I097c494d3953b7d26d94aecc546ddef5225d1125\nDepends-On: I2f0eb779b711e57f1532b1227896542d0ecffc89\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add missing Swift base class\n\nThe Swift base class is required if the SwiftStorageRole\nis used without the SwiftRingBuilder role.\n\nChange-Id: I496b65dc53c03c0711d21f98627cc21be653ca5d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Adds check and resyncs ODL/OVS OF pipeline\n\nSome flows may be missing in OVS (on a per table basis) when deploying\nwith OpenDaylight. There is no OpenDaylight fix yet for this issue, so\nthis patch implements a workaround. The workaround is to check if all\nthe tables exist on each OVS node. If they are missing, then reset the\nOpenFlow connection to the ODL controller, which will result in ODL\npushing the flows again and inserting the missing flows.\n\nCloses-Bug: 1775436\n\nChange-Id: I28d13a26198268cfd1f3e9e64236605f24319a04\nSigned-off-by: Tim Rozet <trozet@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add support for autofencing to Pacemaker Remote.\n\nWe now configure stonith devices for Pacemaker Remote nodes.\n\nChange-Id: I87c60bd56feac6dedc00a3c458b805aa9b71d9ce\nDepends-On: Ifb4d19a6b9920b0e340555d6441878c7234eb197\nPartial-Bug: #1686115\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Update keystone service name for signing keys\n\nSince keystone is being run under apache, the signing keys should notify\napache and not the keystone service.  The keystone service is actually\ndisabled, so if the keys get updated nothing happens.\n\nChange-Id: Idfebeabf03d010956569c32b24437245e2b93c2a\nRelated-Bug: #1581591\n",
        "issue_summary": ""
    },
    {
        "commit_message": "cinder/pacemaker: resolve puppet resource duplications\n\nSome pacemaker bundle resources were in conflict and that made Puppet\ncatalog failing. This patch makes sure that resources are now unique.\n\nChange-Id: I940cec6d670df39ac6e2a3559a028acbeee99331\nCloses-Bug: #1742795\n",
        "issue_summary": ""
    },
    {
        "commit_message": "haproxy: Enable httplog for all http endpoints\n\nCurrently some http endpoints like glance don't have httplog enabled\nthus all access logs in haproxy doesn't include L7 information but only\nL4 information.\nThis change ensures that httplog is enabled for all http endpoints so\nthat L7 infomation is recorded in haproxy.log.\n\nCloses-Bug: #1930266\nChange-Id: Ia98657707adb9c9ec8e0bb7b01931e2bc4997e1d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Set memcache_servers for heat::cache automatically\n\nThis patch makes puppet-tripleo set memcache_servers parameter in\nheat::cache according to available memcache servers in deployment,\nso that operators can easily enable caching feature.\n\nNote that this patch doesn't enable caching. To actually enable\ncaching, the heat::cache::eanbled parameter in puppet-heat should be\nset.\n\nChange-Id: Ieb53f2ac4cd6381f2a450bce6aaff22790c2a404\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Modernize rabbitmq's TLS support\n\nThe depend-on change switches rabbit's nodename to FQDN and adds\nthe CA in the config. This puppet change does the following:\n1. Switches the default tls versions to 1.2 and 1.3\n2. Drops the old hard-coded cipher list that used to be needed to avoid\n   falling back to tls 1.0\n3. Introduce a verify_peer_{client,server} parameter. The former is set\n   to verify_peer by default, so that rabbitmq 3.9 does not emit\n   warnings (see original LP description)\n4. Splits off all erlang ssl parameters to a separate file called\n   /etc/rabbitmq/ssl-dist.conf. Reason for this is that it is cleaner\n   and not all configurable items are supported by erlang as command\n   line arguments. (In particular the ssl versions)\n5. Make sure we pass the custom CA inside the HA bundle (this had to\n   be split out to Ib0236f9c086d520d0a27e3aa8b41927bc7b50c26\n   (Bind mount the IPA crt when internal_tls is enabled) for CI to pass\n   on all reviews.\n\nTested as follows:\nA. Deployed and run tempest against a TLS-E overcloud that uses as\n   rabbitmq 3.9 + erlang 24.1 stack\nB. Made sure that only tls1.2 and/or tls1.3 are allowed on port 5672\n   and 25672\n\n[root@controller-0 ~]# openssl s_client -connect controller-0.internalapi.home.arpa:5672 -CAfile /etc/ipa/ca.crt -verify_hostname controller-0.internalapi.home.arpa -tls1_1 |grep ^New\n00CCA0CAB37F0000:error:0A00042E:SSL routines:ssl3_read_bytes:tlsv1 alert protocol version:ssl/record/rec_layer_s3.c:1584:SSL alert number 70\nNew, (NONE), Cipher is (NONE)\n\n[root@controller-0 ~]# openssl s_client -connect controller-0.internalapi.home.arpa:5672 -CAfile /etc/ipa/ca.crt -verify_hostname controller-0.internalapi.home.arpa -tls1_2 |grep ^New\ndepth=1 O = HOME.ARPA, CN = Certificate Authority\nverify return:1\ndepth=0 O = HOME.ARPA, CN = controller-0.internalapi.home.arpa\nverify return:1\nNew, TLSv1.2, Cipher is ECDHE-RSA-AES256-GCM-SHA384\n\n[root@controller-0 ~]# openssl s_client -connect controller-0.internalapi.home.arpa:5672 -CAfile /etc/ipa/ca.crt -verify_hostname controller-0.internalapi.home.arpa -tls1_3 |grep ^New\ndepth=1 O = HOME.ARPA, CN = Certificate Authority\nverify return:1\ndepth=0 O = HOME.ARPA, CN = controller-0.internalapi.home.arpa\nverify return:1\nNew, TLSv1.3, Cipher is TLS_AES_256_GCM_SHA384\n\nCloses-Bug: #1946374\n\nCo-Authored-By: John Eckersberg <jeckersb@redhat.com>\n\nDepends-On: I621557a037fbedc5c110f905dbe19290cc92b772\n\nChange-Id: I4f853de3b532b3b5e71d29aa621a2925c3885393\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Make ceph_dashboard haproxy config parametric\n\nThis change adds some parameters needed to make the Ceph Dashboard\nhaproxy section working when in a tls-everywhere enabled scenario.\nIn addition, the purpose of the change is to make the haproxy Ceph\ndashboard config consistent with the reference documentation [1]\nthat describes the ssl use case and its prerequisites [2].\n\n[1] https://docs.ceph.com/en/latest/mgr/dashboard/#haproxy-example-configuration\n[2] https://docs.ceph.com/en/latest/mgr/dashboard/#disable-the-redirection\n\nChange-Id: Ifb7a8d25b27457965c4ece21fbbb448bf204e32c\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Support separate oslo.messaging services for RPC and Notifications\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove reference to bootstack_nodeid\n\nThis has been replaced with bootstrap_nodeid which isn't hard-coded to\nthe Controller role and thus will work should this service be deployed\non any other role via composable services.\n\nChange-Id: I0a9fced847caf344e5d26b452f1bd40afab8f029\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Decouples neutron services from OpenDaylight API service\n\nRemoves including Neutron services in the OpenDaylight API service.\nThis was breaking custom roles when splitting up OpenDaylight and Neutron\ninto different roles.  Also, references to \"controller\" are removed\nbecause with custom roles OpenDaylight could be isolated to any role\ntype.  The 'bootstrap_nodeid' still works with any role, and only\nresolves to the first node in the series of nodes for that role type.\n\nPartial-Bug: 1651499\n\nChange-Id: I418643810ee6b8a2c17a4754c83453140ebe39c7\nSigned-off-by: Tim Rozet <trozet@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add changes for collectd libpod stats plugin\n\nBecause the libpod stats plugin is written in golang rather than C,\nit is not included in the collectd rpm and therefor cannot be\nconfigured by puppet-collectd and are made here instead. A simple\nvariable for enabling will suffice for now since the plugin does\nnot currently have any configuration options.\n\nChange-Id: I575b6504e24f9d690e1b88b2a6bec296438ce747\nSigned-off-by: pleimer <pfbleimer@gmail.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Include 'octavia' driver on ML2/OVN deployments\n\nBy default, both the 'amphora' and 'octavia' provider drivers are\nenabled in Octavia API. A previous change in puppet-tripleo included the\n'ovn' driver when on Neutron ML2/OVN deployments but in doing so omitted\nthe 'octavia' driver. This patch ensures the 'octavia' driver remains\nenabled as is needed for Octavia Tempest tests.\n\nChange-Id: I5b29a51d7edace30e6357a2af95d1af4596ddfd3\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove deprecated dellemc_xtremio_iscsi resource\n\ntripleo::profile::base::cinder::volume::dellemc_xtremio_iscsi\nis deprecated and should have been removed in Victoria release.\n\nNote:\nThis change includes switch of puppetlabs-haproxy branch name to fix\nthe unit tests failure at the same time.\n\nChange-Id: I0682ab192de4ddafc4abcc9d57b1dacc713c49a8\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix designate-api hiera references\n\nThese were looking for the wrong names so they were always taking\nthe default.  This broke designate in network-isolation scenarios.\n\nChange-Id: I8cd71520bbd27b83e9a64ee3ecd1ca25bd0ed498\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add aodh and gnocchi to schema profiles\n\nChange-Id: Ifb0cc7769ef99e4c7142c8f955f0ca721d61e9b5\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Use memcached for token caching in octavia authtoken\n\nUse memcached to cache token in octavia authtoken, as in-process\ncache, which we currently use, was already deprecated[1].\n\n[1] Ied2b88c8cefe5655a88d0c2f334de04e588fa75a\n\nChange-Id: I09a73ae54e7b4b04396c3b31063833eca8bf5352\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Ensure sshd has proper configuration for its HostKey.\n\nSince DSA is deprecated, sshd doesn't generate it anymore, though it\nstill wants to load it at startup. Adding the HostKey options should\nprevent that, and allow to get cleaner logs in the CI (and on deployed\nopenstack as well ;).\n\nChange-Id: I5580fa86f8adef7d598b76836a0419b341a8bc9c\nCloses-Bug: 1730351\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove unused modules from testing\n\nWe don't use tomcat, java, cassandra, or datacat anymore.\n\nChange-Id: I3429278d8e2c89943730b218053ad0b0ed36170d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Use normal socket file permissions instead of polkit\n\nThe default (on RHEL/CentOS) is to use polkit but this is only useful\nfor GUI support or for fine grained API access control.  As we don't\nrequire either we can achieve identical control using plain old unix\nfilesystem permissions.\n\nI've merged Sven's changes from https://review.openstack.org/484979\nand https://review.openstack.org/487150.\n\nAs we need to be careful with the libvirtd option quoting I think it's\nbest to do this in puppet-tripleo instead of t-h-t yaml.\n\nThe option to override the settings from t-h-t remains.\n\nCo-Authored-By: Sven Anderson <sven@redhat.com>\n\nReverts I91be1f1eacf8eed9017bbfef393ee2d66771e8d6\n\nCloses-bug: 1696504\n\nChange-Id: I507bdd8e3a461091562177403a2a55fcaf6694d2\nDepends-On: I17f6c9b5a6e2120a53bae296042ece492210597a\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Configure Galera cluster with FQDNs instead of shortnames\n\nThis takes into use the cluster_host_map, which allows to give aliases\nto the pacemaker nodes (which are FQDNs), and allows us to configure the\ncluster using FQDNs.\n\nWe need FQDNs in order to request certificates, since the default CA\n(FreeIPA) only allows certificates for FQDNs.\n\nChange-Id: I2f146afdd32aef2d11cf25a65fa8d67428f621f5\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fixes missing neutron base in sriov\n\nThis causes issues in deployments that is not using ML2\nComputeNeutronCorePlugin or OVS agent on the compute nodes.\n\nCloses-Bug: 1679202\n\nChange-Id: I9cdfd115add8c0d2d3ae6802e7bde007c1677c67\nSigned-off-by: Tim Rozet <trozet@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "PS Cinder: Added support for password less login\n\nAdded missing san_private_key parameter used for password less SSH\nauthentication.\n\nChange-Id: Ia9857064692681172573e9092b53a352cd776cbd\nDepends-On: 0743d42ed1ed66e08ab7f4355145b4c06c589801\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Increase haproxy timeouts\n\nIt's been proposed this may help with the\n('Connection aborted.', BadStatusLine(\"''\",)) errors.\n\nThis patch increase queue, server and client timeouts to 2m (default is 1m)\nRelated-Bug: #1638908\n\nChange-Id: Ie4f059f3fad2271bb472697e85ede296eee91f5d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "nova_migraton_target: Remove redundant service name check\n\nThe tripleo::profile::base::nova::migration::target class is loaded\nonly when the nova_migration_target service is enabled. Thus checking\nwhether the service is enabled is just redundant.\n\nChange-Id: Ide019e2aa247fe464cc463385e8cee1725ff547c\n",
        "issue_summary": ""
    },
    {
        "commit_message": "HAProxy: expose stats socket in HA containerized deployment\n\nConfigure haproxy bundle to bind mount /var/lib/haproxy from the\nhost, in order to expose the stats socket.\n\nChange-Id: Ib833ebe16fcc1356c9e0fc23a7eebe9c4b970c55\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add Heat profiles\n\nAdd Heat profiles for non-ha & ha scenarios.\n\nImplements: blueprint refactor-puppet-manifests\n\nChange-Id: I194cbb6aa307c2331597147545cf10299cab132f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Add TLS for ec2api service\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Support to configure cinder backend_defaults\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Disallow SSLv2, SSLv3 and TLS1.0 in mysql for FedRAMP compliance\n\nWe cannot disable a specific protocol when using SSL in mysql, so in order to\nenforce TLS1.1 or greater, we disallow all ciphers provided by SSLv2 SSLv3 and\nTLS1.0.\n\nGalera group communication cannot be configured with a list of available\nciphers, so configure gcomm to use AES128-SHA256, which seems to be the closest\nfrom the default AES128-SHA.\n\nInherit the cipher list settings for the rsync SST.\n\nChange-Id: Ib3625020e60665f91b9009e7f06b9b25a6970a9b\n",
        "issue_summary": ""
    },
    {
        "commit_message": "gnocchi: ensure upgrade run after swift setup\n\nThe orignal fix have create an dependencies on an Class, so\nit does work and fail silencly.\n\nThis changes it to the Anchor.\n\nChange-Id: I2ed6e328a9a4915844f699784dd87dc99078fb23\nCloses-bug: #1724328\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Switch puppet-tripleo to use puppet-openstack_spec_helper\n\nAlign puppet-tripleo with other Puppet OpenStack modules to use\npuppet-openstack_spec_helper.\n\nHere are the benefits:\n\n- Allow to use Depends-On between Puppet OpenStack modules and\n  puppet-tripleo, and unit tests will work correctly with dependencies.\n- Use the Puppet OpenStack gemspec file that handle gems dependencies to\n  test the module.\n- Allow to re-use ruby helper that Puppet OpenStack modules have in unit\n  tests, to avoid duplicated code.\n- Don't manage .fixtures.yml file, it will be generated by Puppet\n  OpenStack tooling. TripleO dependencies will live in Puppetfile_extras.\n\nChange-Id: Ic66e9f872c57545327a9fb4b8ae86fbf0abbd8be\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Map gnocchi vip to haproxy_listen_bind_param\n\nChange-Id: I7d2eb9405e0171fc54fa0b616122f69db5f51ce2\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Update metadata to support el8 instead of el7 again\n\nThis patch again updates metadata to support el8 instead of el7, which\nwas initially merged[1] but reverted because of failures in unit tests\ncaused by old puppet modules installed as dependencies.\n\nThis patch removes version cap for puppet-etcd and puppet-redis, so\nthat we can use their lastet verions compatible with el8.\n\n[1] ff22e7c2687bc8f67d6769c32b235257ac0f8e5f\n\nRelated-Bug: #1872562\nChange-Id: I3924d35fae48accb57186c1c5c0a3192bacccda6\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove unused variables in tripleo::profile::base::gnocchi\n\ntls_certfile and tls_keyfile is used to set up ssl certs in apache and\nthese variables are not required in the base class but used by the api\nclass.\n\nChange-Id: If7ac460ee1783f8816250484611269794fc8fc2f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Drop vip_hosts\n\nThis should no longer be used based on problems discovered in\nhttps://bugs.launchpad.net/tripleo/+bug/1645123\n\nChange-Id: I53b13d514a15226dacbeda1c7b2ede09e7f8807e\nDepends-On:  Ic6aaeb249a127df83894f32a704219683a6382b2\n",
        "issue_summary": ""
    },
    {
        "commit_message": "docker: force insecure registries to be an array\n\nSo if the operators gives a string, we convert it.\n\nChange-Id: I14fda3481ac88429648bed8edb2f4469b33be957\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix rabbitmq-ready check for single node HA deployments\n\nThe current rabbitmq-ready exec waits for rabbitmq to become clustered\nbefore it allows user creation. Unfortunately this doesn't work when\nthe deployment contains a single node, because rabbit doesn't trigger\nthe clustering mode at all.\n\nSet the exec test according to the number of rabbit nodes, in order\nto check for cluster state only when necessary.\n\nCloses-Bug: #1741345\n\nChange-Id: I24e5e344b7f657ce5d42a7c7c45be7b5ed5e6445\nCo-Authored-By: John Eckersberg <jeckersb@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Use mode tcp for glance-registry balancing\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Replace deprecated is_string/is_array/is_hash method\n\nCloses-Bug: #1939088\nChange-Id: I9804a6b405c4df78ef17096adefeeaefb816e840\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Write TLS config under section [client] in tripleo.cnf\n\nthe SQL shell 'mysql' currently cannot parse config under section\n[tripleo] as option bind-address is not supported in mariadb (only\nsupported in mysql and PyMySQL).\n\nGenerate a proper TLS config under section [client] so that the\nmysql shell can connect to the mysql server with the proper TLS\nsettings.\n\nChange-Id: Icaaee64b6f491bf80fde2a8a44c6b28727493e13\nCloses-Bug: #1829758\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Correct typo on hieradata key\n\nPath separator is \"::\", not just \":\"\n\nChange-Id: Ifaf09792fd57ab17a12a1bca1bd3bb0a072e91be\nRelated-Bug: #1966625\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Remove all glance nfs changes from puppet-tripleo\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix up the control-port for rabbitmq bundles\n\nMistakenly this was set to 3121 which is the same port that pacemaker\nremote uses. Move this to 3122 which was the plan all along.\n\nAlso fix a wrong port comment in redis and mysql at the same time.\n\nChange-Id: Iccca6a53a769570443091577c7d86f47119d9cbb\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Make nova_metadata use source LB strategy\n\nGenerating the metadata for a VM that has been freshly booted\nis a fairly expensive operation. Let's use a source balance option\nin the nova_metadata haproxy stanza so that the requests from\nthe same compute node end up on the same controller, hence increasing\nthe locality of this operation.\n\nGenerated haproxy stanza looks like:\nlisten nova_metadata\n  bind 172.17.1.150:8775 transparent ssl crt /etc/pki/tls/certs/haproxy/overcloud-haproxy-internal_api.pem\n  mode http\n  balance source\n  hash-type consistent\n  http-request set-header X-Forwarded-Proto https if { ssl_fc }\n  http-request set-header X-Forwarded-Proto http if !{ ssl_fc }\n  http-request set-header X-Forwarded-Port %[dst_port]\n  option httpchk\n  option httplog\n  server controller-0.internalapi.foo.local 172.17.1.90:8775 ca-file /etc/ipa/ca.crt check fall 5 inter 2000 rise 2 ssl verify required verifyhost controller-0.internalapi.foo.local\n  server controller-1.internalapi.foo.local 172.17.1.95:8775 ca-file /etc/ipa/ca.crt check fall 5 inter 2000 rise 2 ssl verify required verifyhost controller-1.internalapi.foo.local\n  server controller-2.internalapi.foo.local 172.17.1.87:8775 ca-file /etc/ipa/ca.crt check fall 5 inter 2000 rise 2 ssl verify required verifyhost controller-2.internalapi.foo.local\n\nWe also add the consistent hash-type as it should improve the cache\nbehaviour when a controller disappears or gets added.\n\nChange-Id: I4847ae10b03cf7b0571976097262bc8069c4e070\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Drop the old skip-metering-database flag\n\nThis flag is removed upstream, lets drop this and have it\ndefault to upgrade gnocchi resource types.\n\nChange-Id: I97b721168ff34b0c390fbfbe11607e25dff1e3e7\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add l2 gateway Neutron service plugin profile\n\nIntroduce profile to configure l2 gateway Neutron\nservice plugin.\n\nImplements: blueprint l2gw-service-integration\n\nChange-Id: I01a8afdc51b2a077be1bbc7855892f68756e1fd3\nSigned-off-by: Peng Liu <pliu@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add octavia::nova to Octavia services\n\nChange-Id: I2590e46d4fb0c2dff23cb0fa6cacee9d42759e5c\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Repair immediate VF configuration for PCI SR-IOV\n\nChange I71edc135432ab2193741c37ce977dd11172401e6 broke the host VF\nconfiguration that set VF counts when the puppet is applied. This patch\nre-adds the ensure => present property required for proper behavior.\n\nChange-Id: Ibd18c4f3b7f0d8cee330f94f87e7ad4ea7ceeffb\nCloses-Bug: #1712903\n",
        "issue_summary": ""
    },
    {
        "commit_message": "telemetry: normalize coordination_url\n\nNormalize coordination_url for Telemetry services, so we can deploy them\nwith IPv6.\n\nChange-Id: Ic6de09acf0d36ca90cc2041c0add1bc2b4a369a5\nPartial-Bug: #1629279\nDepends-On: I038e2bac22e3bfa5047d2e76e23cff664546464d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"RabbitMQ: always allow promotion on HA queue during failover\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Implement Nova API profile\n\nChange-Id: I1dde63a5a7d1624494a7157a9679f88f4cb780e0\nImplements: blueprint refactor-puppet-manifests\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Format [keystone_authtoken] memcache_servers when IPv6 is used\n\nWhen Memcached uses IPv6 network, the memcache_servers parameter should\nbe formatted as is described in the following example.\n inet6:[<host>]:<port>\n\nThis change ensures the proper format is applied even when hostnames\nare used to define servers.\n\nAlso, this change fixes the timing to apply any2array. The function\nshould be applied before we check the first memcache server by [0],\notherwise the logic to detect IPv6 address does not work as intended.\n\nPartial-Bug: #1964824\nDepends-on: https://review.opendev.org/833708\nChange-Id: I18537ab819996cfb0f2705d8c49666d4b9bfff22\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Make puppet-tripleo compatible with latest puppet-rabbitmq\n\nhttps://review.opendev.org/#/c/677082/ merged today and moved puppet-rabbitmq to 9.1.0\nwhich is breaking our spec tests:\n\nhttps://zuul.opendev.org/t/openstack/build/e767db93fe214514bebc065a64288548/log/job-output.txt\n\nSo we error out with things like:\n2019-08-19 07:19:37.527187 | centos-7 | 1) tripleo::certmonger::rabbitmq on redhat-7-x86_64 behaves like tripleo::certmonger::rabbitmq should include the base for using certmonger\n2019-08-19 07:19:37.527435 | centos-7 | Failure/Error: include ::rabbitmq::params\n2019-08-19 07:19:37.527713 | centos-7 | Puppet::PreformattedError:\n2019-08-19 07:19:37.528769 | centos-7 | Evaluation Error: Error while evaluating a Function Call, Could not find class ::rabbitmq::params for centos-7-rax-ord-0010255916 (file: /home/zuul/workspace/spec/fixtures/modules/tripleo/manifests/certmonger/rabbitmq.pp, line: 51, column: 3) on node centos-7-rax-ord-0010255916\n\nLet's remove any reference to rabbitmq::params and also the following\ntwo notifies:\n  File[$service_certificate] ~> Service<| title == $::rabbitmq::service_name |>\n  File[$service_key] ~> Service<| title == $::rabbitmq::service_name |>\n\nThey do nothing in a containerized deployment anyway.\n\nTested as follows:\n- Full downstream OSP15 HA deploy\n\nChange-Id: Ib7c373c10ff7bcd8ec33cb912a8a0a4a32a196e2\nCloses-Bug: #1840641\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Leverage kolla config_files to copy config into containers\n\nThis solves a problem with bind-mounts when the containers are holding\nfiles descriptors open.\n\nAt the same time this makes the template more robust to puppet changes\nsince new config files will be available in the containers without\nneeding to update the templates.\n\nCloses-Bug: #1698323\nChange-Id: I857c94ba5f7f064d7c58df621ec5d477654b9166\nDepends-On: I78dcec741a941dc21adba33ba33a6dc6ff1d217c\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add dateext and related parameters for logrotate\n\nlogrotate.pp should support dateext and related parameters.\nBy this change, a filename of a rotated file can be easily distinguished\nby rotated date.\n\nChange-Id: I798304a472df41b86a88611c97c2c99131faa0ad\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Update default Cinder RBD backend_host value\n\nThe Cinder RBD driver's backend_host should use 'cinder::backend_host'\nhiera data first, and only use 'cinder::host' if the preferred hiera\nvalue isn't defined.\n\nPartial-Bug: #1753596\nDepends-On: I11a55571f4bed630967242c797e08e11c47eab11\nChange-Id: I78a88725d297794efd854fbfb14df0611e0e0738\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Load python3 mod_wsgi for fedora/rhel8\n\nThe python3 containers/systems will have the python3 mod_wsgi and not\nthe python2 version. For now we can manage this in our apache base until\na newer puppetlabs-apache supports the newer packages.\n\nChange-Id: Id17539959454f2846a432a03c497de52a0f07798\nCloses-Bug: #1813053\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable TLS configuration for containerized HAProxy\n\nIn non-containerized deployments, HAProxy can be configured to use TLS\nfor proxying internal services.\n\nFix the creation of the of the haproxy bundle resource to enable TLS\nwhen configured. The keys and certs files, as well as the crl file are\nall passed as configuration files and must be copied by Kolla at\ncontainer startup.\n\nChange-Id: I4b72739446c63f0f0ac9f859314a4d6746e20255\nPartial-Bug: #1709563\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove Midonet, Cassandra and Zookeeper\n\nWe removed Midonet from THT, we can now cleanup puppet-tripleo.\nIt also removes the cassandra & zookeeper cluster manifests, created by\nthe Midonet integrators.\n\nNote that Contrail is also using Cassandra and Zookeeper but not the\nremoved code to deploy these components.\n\nChange-Id: If68485390dc11295872f7c3b859234cbf40a7796\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Ceph Grafana should not be exposed by HAProxy as a public service\n\nWe need to set ceph_grafana_vip on a network which is routable\nand yet not the public network where the OpenStack APIs are exposed\nbut the service is *not* public.\n\nChange-Id: I7d636c4513317162ec4b49aa12d88a959bf5c537\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Allow log path transformation in fluentd glue\n\nLogs in a containerized deployment are not in the same location as on\na baremetal deployment. This commit adds the $fluentd_path_transform\nparamter to the fluentd glue module. This is a regular expression that\nis used to transform log paths.  To use this feature, include in your\nhiera configuration something like:\n\n    tripleo::profile::base::logging::fluentd::fluentd_path_transform:\n      - /var/log/\n      - /var/log/containers/\n\nChange-Id: I585b6877074353b5de62e5efaabfbe62432c473d\nPartial-bug: #1716427\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Adds OpenDaylight resources for configuring cluster with docker\n\nIn puppet-opendaylight configuring a cluster is done using an exec\ncalling an opendaylight script to configure the clustering file.  For\ncontainerizing ODL, we cannot use exec as a puppet tag, therefore we\nneed to use a defined type to tag with.  This patch adds that defined\ntype to configure a cluster and a class to call it.  These will only be\nused during containerized deploys and calls the same configuration\nscript used by puppet-odl.\n\nChange-Id: I020550ede0ef981582392cf6c48dd5cb5823a074\nSigned-off-by: Tim Rozet <trozet@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Only run os-net-config if file has content\n\nInstack undercloud allows the user to specify their own\nos-net-config overrides file. This file currently cannot be empty\nbecause it causes an exception in this puppet manifest.\n\nThis patch skips running os-net-config if the config file has no\ndata and allows the user a means to disable os-net-config from running\nif they choose to do so.\n\nRelated bug: #1764507\n\nChange-Id: I69eb812af2d653cb3eb29694ae29b57ebb2de53d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Add kubernetes API to haproxy LB configuration\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Use mode tcp for glance-registry balancing\n\nThe glance-registry service is returning 401 to httpchk, which\nmakes haproxy think it is down. This change switches the check\nmode to tcp.\n\nCloses-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=1234637\nCloses-Bug: 1468566\n\nChange-Id: Icdd80aa9cd56e5afd3707eb7fa38aaedb8535af6\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Support for Dell EMC VMAX Manila Driver\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Add support for trust_flush cron job in keystone\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Increase connection timeouts for Redis\n\nWhen using py-redis for connecting to Redis via HAProxy the connection\nis being closed even when alive by HAProxy. Unfortunately this is a know\nissue on py-redis side (see [1]). This patch increases connection timeouts\nto not pollute (for example) Gnocchi [2] logs with reconnect tracebacks every\n2 minutes.\n\n[1] https://github.com/redis/redis-py/issues/1140\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=1924373\n\nChange-Id: Ie7ee7c90107cfe5bff08f5c778a6273ae9ffcc76\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Clean TLS proxy-related setup for glance api profile\n\nSince the commit this depends on sets it up via hieradata, the\nconditions here are no longer needed.\n\nbp tls-via-certmonger\nChange-Id: I66956f0b85e8e3bf1ab9562221d51d51c230b88e\nDepends-On: I693213a1f35021b540202240e512d121cc1cd0eb\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Ensure ip_forward set before Docker\n\nDocker will attempt to configure iptables rules if it finds that\nip_forward is not enabled prior to the docker daemon getting started.\nWe should ensure that this gets configured prior to Docker being\nconfigured if we are configuring it with puppet.\n\nChange-Id: I6ea6fb8ed300d284c961e7474ff84d104f326255\nNeeded-By: I557e4a41c4e5be3a2f50e5d5ddc86e17c1eb44e1\nRelated-Bug: #1750194\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Use modern auth options for Neutron\n\nauth plugins should be used instead of deprecated admin_* options\n\nChange-Id: I80da7ce0a3d11859dd9f2ae02cd9761b9b28ac27\nDepends-on: I3018932a106df562e94067e037b3bc862be97b51\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Enable access to HAProxy stats page\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Ensure iscsi-initiator-utils installed\n\nWe attempt to use iscsi-iname in an exec for our nova compute profile\nbut we do not ensure that the package providing this command is\ninstalled. This change adds the package definition for\niscsi-initiator-utils to ensure it is installed before trying to use\niscsi-iname.\n\nChange-Id: I1bfdb68170931fd05a09859cf8eefb50ed20915d\nCloses-Bug: #1675462\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add firewall chain support\n\nAdd ability to manage firewall chains with the firewallchain resource.\n\nChange-Id: Ib75f97748540b9162d76c9c189d3ca7e082b3784\nRelated-Bug: #1750194\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Nova: Remove manifest for nova-serialproxy\n\nThis manifest was added several cycles ago[1], but it has never been\nactually used since then.\n\n[1] b0515a8984a015518316d1389d86839cc8747c8c\n\nChange-Id: I341902c7f17b6a21dd789aaccae31b02bf4b0a8b\n",
        "issue_summary": ""
    },
    {
        "commit_message": "ovn HA: Enable ip_nonlocal_bind sysctl flag\n\nIn the case of ovn HA, the ovsdb-server's running in the cluster\ntry to open a TCP socket on the VIP.\n\nChange-Id: I6f762534350a3f96696c87ccd2d14545dccc8a0b\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Replace deprecated is_integer\n\nThe is_integer function is deprecated since 4.13.0[1].\n\n[1] https://github.com/puppetlabs/puppetlabs-stdlib/commit/6e7e69fe203e042b28aacb01301c338d55448c5f\n\nChange-Id: If6d8ccefe007b7a8954bf7dc854f0e2052b53876\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add resource-stickiness=INFINITY to VIPs\n\nRight now we do not add any resource stickiness to the VIPs. This has\none consequence when we configure IHA: Namely, when a fenced compute\nnode comes back (i.e. it recovers), pacemaker is free to move the VIPs\naround the controllers (see http://clusterlabs.org/pacemaker/doc/en-US/Pacemaker/1.1/html/Clusters_from_Scratch/_prevent_resources_from_moving_after_recovery.html)\nto optimize the resource placement. We can observe the VIP moving with\nthe following message:\nApr 12 06:37:04 [979790] controller-1 pengine: notice: LogAction: * Move ip-10.0.0.110 ( controller-1 -> controller-0 )\n\nThis movement of the VIP is highly undesirable because in Instance HA the fence_compute agent needs to talk to keystone via the VIP, and if the VIP is on the move we might get the following errors:\nApr 12 06:37:23 [979787] controller-1 stonith-ng: warning: log_action: fence_compute[259311] stderr: [ Starting new HTTP connection (1): 10.0.0.110 ]\nApr 12 06:37:23 [979787] controller-1 stonith-ng: warning: log_action: fence_compute[259311] stderr: [ keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to http://10.0.0.110:5000 ]\nApr 12 06:37:28 [979787] controller-1 stonith-ng: warning: log_action: fence_compute[261144] stderr: [ REQ: curl -g -i -X GET http://10.0.0.110:5000 -H \"Accept: application/json\" -H \"User-Agent: python-keystoneclient\" ]\nApr 12 06:37:28 [979787] controller-1 stonith-ng: warning: log_action: fence_compute[261144] stderr: [ Starting new HTTP connection (1): 10.0.0.110 ]\nApr 12 06:37:28 [979787] controller-1 stonith-ng: warning: log_action: fence_compute[261144] stderr: [ keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to http://10.0.0.110:5000 ]\n\nBy setting the resource-stickiness of the VIPs to INFINITY we control how strongly they prefer to stay running where they are.\n\nChange-Id: I6862452d2250ac4c2c3e04840983510a3cd13536\nCloses-Bug: #1763586\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Move neutron profile out of step 4\n\nThis submission moves the neutron profile\n`::tripleo::profile::base::neutron`\nour of step 4.\n\nChange-Id: I4d0617b0d7801426ea6827e70f5f31f10bbcc038\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix mistral sync_db profile steps\n\nThe services in the mistral profiles were\nlimited to be executed only in the\nbootstrap master node.\n\nChange-Id: Iae42ffa37c4c9b1e070b7c3753e04c45bb97703f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add missing options to Ceilometer/Ironic/Horizon\n\nBackend options for Ceilometer and Ironic are aligned with what we\nuse for the other OpenStack services.\n\nListener options for Horizon is updated so that we do cookie\ntracking as suggested by refarch doc.\n\nChange-Id: I4640d974a3ab8188919eaae79dde71463234b5ff\n",
        "issue_summary": ""
    },
    {
        "commit_message": "neutron/server: expose quotas configuration\n\nIt'll be required by the containerized undercloud, so we can configure\nspecific quotas for Neutron.\n\nChange-Id: I9c23f7fcc10e297c805e7c08433003cd86300b0b\n",
        "issue_summary": ""
    },
    {
        "commit_message": "collectd: Allow duplicate plugins\n\nSometimes different services require the same collectd plugin. For\nexample, ceph-osd and ceph-mon require the common ceph.\n\nThis change makes sure that such duplicate requirements do not cause\nresource declaration error.\n\nThis change is wallaby-backport-potential.\n\nChange-Id: I5592967b3a7bb928265e2ca909cf88a1f92964be\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Make collectd to log also to file\n\nThis change will make possible to set collectd to log to file\n(/var/log/collectd.log by default).\n\nChange-Id: I50289ad6657852d37abbf12938128ff9ab9e3bac\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Deploy WSGI apps at the same step (3)\n\nSo we avoid useless apache restart and save time during the deployment.\n\nRelated-Bug: #1664418\nChange-Id: Ie00b717a6741e215e59d219710154f0d2ce6b39e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Disables port status updates with ODL in HA\n\nODL enables a feature by default to communicate port state to Neutron\nvia a websocket connection.  The current implementation does not work in\nHA, but does work with a noHA deployment.  Therefore this patch disables\nport status for HA deployments only until there is proper support.\n\nDepends-On: I7eb752ad692e5522051f8393376890fcac9a09fe\n\nCloses-Bug: 1718508\n\nChange-Id: I13b5b72285d3c70cdee4d81678470d52be385aaf\nSigned-off-by: Tim Rozet <trozet@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add cinder RBD support for multiple ceph clusters\n\nFollowing the pattern of other cinder backends, a new\ntripleo::profile::base::cinder::volume::rbd::multi_config parameter\nadds support for configuring cinder RBD backends associated with\nmultiple ceph clusters. The multi_config parameter is a hash that\nspecifies the settings required to access each additional cluster\n(FSID, pool and client names, etc.).\n\nThis patch also deprecates legacy code that managed ACLs for the ceph\nclient keyring. THT already ensures cinder can access the keyring\nusing kolla_config permissions.\n\nChange-Id: I040e25341c9869ad289d7e7c98e831caef23fece\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Stop deploying Nova API in WSGI with Apache\n\nIt was suggested by Nova team to not deploying Nova API in WSGI with\nApache in production.\nIt's causing some issues that we didn't catch until now (see in the bug\nreport). Until we figure out what was wrong, let's disable it so we can\nmove forward in the upgrade process.\n\nRelated-Bug: 1661360\n\nCo-Authored-By: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nChange-Id: Ia87b5bdea79e500ed41c30beb9aa9d6be302e3ac\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add networking-fujitsu support to puppet-tripleo\n\nEnable ml2.pp to call networking-fujitsu manifest in puppet-neutron.\nThe implementation in puppet-neutron is in progress separately.\n\nChange-Id: I5eb2c2a9c50b5991d62f4b6d74b83351c86b02de\nImplements: blueprint integration-networking-fujitsu\nDepends-On: I37a502b43eb7d91bfe20625248ed117eae3ca535\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Use memcached for token caching in neutron authtoken\n\nUse memcached to cache token in neutron authtoken, as in-process\ncache, which we currently use, was already deprecated[1].\n\n[1] Ied2b88c8cefe5655a88d0c2f334de04e588fa75a\n\nChange-Id: I8a7b01b4f16ab94fedabc20cc876b68d8cb6e04a\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Support deprecated enable_ceph_storage boolean\n\nThis was missing in the initial revision of the Ceph modules but we\nwant to support usage of the old parameter for a cycle.\n\nChange-Id: I7ac096feb9f5655003becd79d2eea355a047c90b\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Make haproxy balancer default options configurable\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Cinder: Add iSCSI protocol parameter\n\nThis patch allows to spefify the iscsi_protocol in the iSCSI cinder\nbackend when we want to use iSCSI Extensions for RDMA (iSER).\nThe default value remains 'iscsi'.\n\nChange-Id: I6d2c4d71fb3ab1f7749d6e1defb59e86b9364cc1\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Unset MountFlags in docker.service systemd directives\n\nRequired to allow bind propegation options to be set on individual bind-mounts.\nSee https://github.com/moby/moby/issues/19625.\n\nAlso https://access.redhat.com/articles/2938171 for rational for using this\noption in RHEL/CentOS 7.3.\n\nChange-Id: I8a63c044e15d7ca0f54654e9fc9c5d878461aa25\nRelated-bug: 1730533\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix nova and selinux unit tests\n\nThe unit tests jobs are failing because of missing pre conditions for\nthe new shared class introduced by\nIb233689fdcdda391596d01a21f77bd8e1672ae04.  Additionally this change\nmoved some classes around so that the tests are now failing due to\nduplicate class declarations for nova::compute::libvirt::services. This\nchange moves the include that pulls in the declaration first prior to\nthe include that exists in tripleo::profile::base::nova::libvirt.\n\nThe selinux test was also failing due to a type issue with the fact\nbeing used (boolean vs string)\n\nChange-Id: I5bd4b61d6008820729d58f7743e7e61955dd6f51\nCloses-Bug: #1707034\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Pin puppet-sensu module\n\nNewest versions of puppet-sensu don't take into account the\nserverless usage we can have with puppet (\"puppet apply\" vs \"puppet\nclient\"), making CI fail the unit tests for this module.\n\nAn upstream bug has been open:\nhttps://github.com/sensu/sensu-puppet/issues/1098\n\nThe hash we're pinning is the same as in\nhttps://github.com/redhat-openstack/rdoinfo/blob/master/tags/stein-uc.yml#L880\n\nChange-Id: I1784a06052909b108c862ef76fc69e57bd778987\nCloses-Bug: #1821591\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Octavia: configure services endpoints\n\nAdd puppet-octavia certificates, neutron, glance, cinder manifests for\noctavia controller services, enabling the customization of the\nconfiguration of the endpoints.\nThis commit would fix issues on composable networker nodes that don't\nhave any access to the public API endpoints.\n\nChange-Id: I91ef7d5f69fd01aa872e87740eea9484846284d7\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add support for Dell EMC XtremIO Cinder ISCSI Backend\n\nThis change adds a new define for cinder::backend::dellemc_xtremio_iscsi\n\nChange-Id: I0bb926becaf32e62cfc79d37c619282416b0627d\nImplements: blueprint dellemc-xtremeio-cinder\n",
        "issue_summary": ""
    },
    {
        "commit_message": "[Pure Storage] Add iSCSI CIDR list parameter for FlashArray Cinder driver\n\nDepends-on: Ia493843b286bd55002beaf74cca37f500c0448d6\nChange-Id: I6a3d2626be0f59500fa164b05d96a8b637c51b86\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add missing octavia auth include to keystone manifest\n\nThis patch adds the appropriate include to make sure that appropriate\nkeystone user, services, etc. are created when octavia is selected.\n\nCloses-bug: #1680588\n\nChange-Id: I0b6d657a0300538292223923d8808c23f936c193\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Enable TLS in the internal network for ceilometer\"",
        "issue_summary": ""
    },
    {
        "commit_message": "firewall/masquerading: configure state and proto\n\nChange-Id: I887741d47fcc20169a1e58ad3f0a003716a4521a\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Redis: Remove leftover of Sentinel support\n\nSupport for Redis Sentinel was removed by[1] because it has never\nreally used in TripleO deployments.\n\n[1] a67a36b18c7fad59f8ffa348e655f0dca8e93fe6\n\nChange-Id: I5c93a8800348f56f58d2d40f3e97552580b75c2a\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove unused implementation to manage stunnel by systemd\n\nThe stunnel service now runs inside a container, and the implementation\nto launch the service by systemd is no longer used.\n\nChange-Id: I802064545e9ebab2aaa32002df3e380d3e12e958\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add new midonet_agent profile.\n\nWe include this from the midonet profile (which is for the controller).\nAgent will also get used on compute nodes as well.\n\nChange-Id: I2393fc3c360f5f5786411f64dbcd06f380376093\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Disables port status for all ODL deployments\n\nPort status was already disabled in HA deployments pending a fix for:\nhttps://bugs.opendaylight.org//show_bug.cgi?id=9147\n\nHowever even in noha deployments port status will not work because ODL\nis unable to bind to a specific IP for websocket, meaning it binds to\nall IPs and haproxy cannot bind the VIP.  Therefore we need to disable\nit for all deployments until also this bug is fixed:\nhttps://bugs.opendaylight.org//show_bug.cgi?id=9256\n\nRelated-Bug: 1718508\n\nChange-Id: I2f2dc3ece97c97fc8477d4129d69719866a7f0c1\nSigned-off-by: Tim Rozet <trozet@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add TLS for ec2api service\n\nThis adds a TLS proxy in front of it so it serves TLS in the\ninternal network.\n\nbp tls-via-certmonger\nChange-Id: I24d990eccf7affd5f3899338ac96d02d2d47460e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Fix typo in sslProfile conditional\"",
        "issue_summary": ""
    },
    {
        "commit_message": "PowerStore: Remove usage of deprecated powerstore_appliances\n\n... because the parameter was deprecated in cinder and has had no\neffect since then[1]. The corresponding parameter in puppet-cinder\nwas already deprecated[2] and will be removed soon.\n\n[1] f328341ed0eb920a6471f7c65e06b27c3f719fbe\n[2] e73bf6a864e537a6530ddfb23e0425e58c4f51cd\n\nChange-Id: I8377225d19bbbaa7160539f4056ff3e079cf5e14\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove support for Nuage core plugin\n\nDepends-on: https://review.opendev.org/832736\nChange-Id: Ic4223751ed3277dcdcd56e1e4f8f1371195f490e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove zaqar\n\nZaqar has been deprecated since Wallaby and is being removed from THT.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/809463/\nChange-Id: I18419470567f84af662a8b63f7b4673df42d846b\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Make Designate pools.yaml configurable\n\nThe initial version of this had a static pools.yaml file, but for\nproduction use that will not work.  This change allows the content\nof the file to be passed in from Heat.\n\nChange-Id: I45f5c39c8ddf1f5ef0695119b562a38589ad0f33\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove fluentd manifests\n\nWe don't need these implementations anymore because fluentd support was\nalready removed from tripleo-heat-templates.\n\nDepends-on: https://review.opendev.org/#/c/668851/\nChange-Id: If8bca34b9893fc49f598e8c86cd45bc55848363f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "vhostuser socket dir shall be created for vhostuserclient mode\n\nIn order to support vhostuser client mode, a vhostuser_socket_dir\nneeds to be created with qemu:qemu g+w permissions.\n\nCloses-Bug: #1675690\n\nCo-Authored-By: Sanjay Upadhyay <supadhya@redhat.com>\n\nChange-Id: I255f98c40869e7508ed01a03a96294284ecdc6a8\nSigned-off-by: Karthik S <ksundara@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Use mode 'http' in haproxy for ceilometer, neutron, aodh and gnocchi\n\nHAProxy won't pass X-Forwarded-Proto to these services in mode tcp, so we need\nto switch it to http in order for it to work and for the services to properly\nset the protocol in the links they serve.\n\nChange-Id: Ib10282159fb9269eebe81af23171ec9fb1297cd0\nCloses-Bug: #1640126\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Trim line breaks from pacemaker bundle function\n\nOn CentOS9, the cibadmin query is returning '\\n' if the bundle is not\ndefined which results in:\n\nError: Evaluation Error: Error while evaluating a Function Call, invalid\nvalue for Integer(): \"\\n\" (line: 1, column: 1) on node\nstandalone-0.localdomain\n\nThis change strips whitespace from the check to ensure it has a value\nbefore we attempt to convert to an integer.\n\nChange-Id: I369644d491357a8cdeae3eff51f4f595b1033b66\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Revert \"Pin puppet-snmp\"\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Designate: add non-backend syntax for miniDNS haproxy support\n\nAdds haproxy::listen block for non-backend syntax use.\n\nChange-Id: Icf9d686f9e551adb09a154a3e57fac71f12ddbb7\n",
        "issue_summary": ""
    },
    {
        "commit_message": "pacemaker remote profile support\n\nThis support enables a base profile called pacemaker_remote which will\nallow the operator to automatically configure the pacemaker_remote\nservice on such nodes. This manifest also automatically adds any\npacemaker_remote nodes to the pacemaker cluster.\n\nDepends-On: I0c01ecb7df1a0f9856fdc866b9d06acf0283fa4f\nDepends-On: Ic0488f4fc63e35b9aede60fae1e2cab34b1fbdd5\nChange-Id: I92953afcc7d536d387381f08164cae8b52f41605\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable bulk delete in swift for gnocchi\n\nCloses-bug: #1590495\n\nChange-Id: I912c09584d9b4cae530a247c91b6fd331943a8c5\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"galera: expose 2-node mode for the galera resource\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Revert \"Remove neutron wrappers\"\n\nThis reverts commit afe7cecb598441abc0704c868643613428ef850a.\n\nChange-Id: I961262422206c695de79a03de2be1e53defbc41c\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Add support for internal/admin endpoint TLS in HAProxy\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Remove Sahara support\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Replace the deprecated aodh::auth class\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove condition to match hdr(host) in haproxy redirect rule\n\nThe horizon proxy should redirect all HTTP requests to HTTPS,\nregardless of the 'Host' field in the header. The current rule will\ncause haproxy to redirect HTTP requests if the 'Host' field contains\nthe public virtual IP address. It will not redirect if the 'Host'\nfield contains a hostname, FQDN, etc.\n\nChange-Id: I6c8f58a30f97cdf4c668734793197ea976297733\nSigned-off-by: Ryan O'Hara <rohara@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Use FallbackResource instead of Rewrite for UI\n\nThe original configuration produced a 400 error for all requests.  The\nnew FallbackResource directive accomplishes our task in a more elegant\nfashion.\n\nChange-Id: Ib5d77d158e73acc63d5c0c85d6aa6d99d2176333\nCloses-Bug: 1628484\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Revert \"Fix containerized logrotate configuration\"\n\nCopytruncate cannot fix the postrotate filter for lsof searching for\ndeleted (unlinked and open) files. Copytruncate instead makes the\nfilter matching nothing as it makes files never deleted after rotation\nhappens.\n\nThis reverts commit 67a7dc70f2885b7db2a42bc28c25ece0bbeba3e4.\n\nChange-Id: I8a73819b4aa45813cbac310452b348681496032a\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add TLS for nova metadata service\n\nThis adds a TLS proxy in front of it so it serves TLS in the internal\nnetwork.\n\nbp tls-via-certmonger\n\nChange-Id: I97ac2da29be468c75713fe2fae7e6d84cae8f67c\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fixing incorrect parameter names in Dell EMC Storage Templates\n\nThe new templates have some incorrect template names\ndue to typos. Fixing them\n\nChange-Id: I0f398b473d9acdc44c96d5c62f667b11601fb17c\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Set ProxyPreserveHost in ec2api TLS proxy\n\nbp tls-via-certmonger-containers\n\nChange-Id: Iae8e61cb5be4faeea8861296629dd6a5f3ed4f01\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Allow tuning timeouts for rabbitmq pacemaker resource\n\nThis change introduces several timeout parameters so that users can\ntune operation timeouts about rabbimtq resource in pacemaker.\n\nChange-Id: Iaecdc0adb8455b2e660624f19a42e6dede5b931d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add proper handling of IPv6 addresses for rabbit host/port handling\n\nThis patch changes the rabbit_hosts config generation to work properly\nwith IPv6 addresses.\n\nCloses-Bug: #1639881\nChange-Id: I07cd983880a4a75a051e081dcb96134cb5c6f5e8\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Include the nova::glance class in more common place\n\n... because some parameters of this class are supposed to be used in\nboth nova-api and nova-compute.\n\nDepends-on: https://review.opendev.org/770684\nChange-Id: I0c5700cb5123f81e88da9cbaeafca40525cfd6d8\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Puppet config options for AMQP1 sensubility transport\n\nThis patch introduces configuration options to setup collectd\nsensubility to use the AMQP1 transport. This is primarily for\nSTF compatability.\n\nChange-Id: I5a153004e0175f6826bfd10ac25b7e6f9ce09b96\n",
        "issue_summary": ""
    },
    {
        "commit_message": "iscsid: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: I9d6befd2ec441cb8511f3d37980f7014ee4ad2ce\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Configure inline mode transport for Connectx4/LX\n\nWe need inline mode transport to be able to hw offload in the above cards.\n\nChange-Id: I23e9db07529999450ecc56ce2687276fca57306b\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Implement Libvirt profile\n\nDeploy bits when running nova-compute + libvirt.\n\nNote: some work will be done in puppet-nova to decouple nova-compute\nfrom libvirt in nova::compute::libvirt class.\n\nChange-Id: I754bfa89ba78a70b4b866598fb1163f4e14807c9\nImplements: blueprint refactor-puppet-manifests\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Handle galera_node_names being an array\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Add ::ironic::config to Ironic base profile\n\nI have ExtraConfig settings that need to be set in\nironic.conf. Adding the ::ironic::config module\nto our base Ironic profile should allow users to\ncustomize Ironic if needed.\n\nChange-Id: I93e9b3b5d4def1d8fa42b77b611b7d9d6cb7963b\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Replace rsyslog::server by rsyslog::config\n\nThis is a prep work to bump puppet-rsyslog and replaces rsyslog::server\nwhich is no longer available since puppet-rsyslog v5.0.0 [1].\n\n[1] https://github.com/voxpupuli/puppet-rsyslog/pull/136\n\nChange-Id: Ifca5621ba255181f820d1ae959388a4c77e5244e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Revert \"Fix live-migration with libvirt >= 6.8.0\"\n\nThis reverts commit 04a97f92e4d944ce51492011584e2ec1126042a1.\n\nReason for revert: The nova migration wrapper has suppoted\nvirt-ssh-helper for some time now.\nhttps://review.rdoproject.org/r/c/openstack/nova-distgit/+/36142\nhttps://github.com/rdo-packages/nova-distgit/commit/d5aba75f3b5589e156afeec915dcfcd4eca4eafe\n\nForcing netcat now prevents live migration on centos/rhel 9 as\nnetcat is not installed https://bugzilla.redhat.com/show_bug.cgi?id=2089520\nso we should revert back to the default auto proxy.\n\nChange-Id: Id4a77280f8a977a2b319078d66e6d963d6babdc9\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add swift proxy for ceilometer middleware\n\nswift proxy has already been updated to use updated\nceilometermiddleware as indicated here [1]. Include\nit in the proxy class.\n\n[1] https://github.com/openstack/puppet-swift/commit/e8ad981eff0f97c24a53197c42caf350627d3c9f\n\nChange-Id: Ie49f4a750368ff174b23b8d6baa743d0956d727e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Cinder: Remove implementation for Dell SC driver\n\n... because it was deprecated several cycles ago in favor of renaming\nto Dell/EMC SC driver. The resource template to use this implementation\nwas already removed from t-h-t by [1].\n\n[1] 3699a56891f8abce10d75a1b1cbbd6f2f775ff77\n\nChange-Id: I4586a887ad25eaa2050ba1459842c248ecca478f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Stop including nova::metadata on computes\n\nI5da1e67684f8317eec8c499c3534977e00a63098 include nova::metadata on computes\nhowever this includes nova::db which we must not do on computes.\nPush the fix up to puppet-nova and nova.\n\nDepends-On: If6a26527a737a7184ebddd5b4bc346d64827e9e3\nDepends-On: I47b95ad46e2d4e5b1f370a2f840826e87da2d703\nChange-Id: I07caa3185427b48e6e7d60965fa3e6157457018c\nRelated-bug: #1871482\nRelated-bug: #1903908\nRelated-bug: #1832537\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Set rgw_keystone_revocation_interval to 0 for ceph::rgw::keystone\n\nCeph RGW defaults to checking every 600 seconds for a revocation.\nThis is only useful for PKI tokens. PKI is not enabled. This check\nneeds to be disabled.\n\nPartial-Bug: #1748137\nChange-Id: I2487ce8e5cb5d3dc0d7fb8e547a4abe0e086ff4b\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Fix use of deprecated \"api_class\" key manager option\"",
        "issue_summary": ""
    },
    {
        "commit_message": "snmp: remove ununsed trapsink\n\nThe snmptrap isn't used anywhere by our Telemetry services, so we don't\nneed it and can avoid a unused snmp binding on the host.\n\nChange-Id: I31119ae9ec0ecda04f8983cb338f5af8d1b98989\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Octavia: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: Id64aea3cc7986446087ad272bec74be01ef20362\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Don't install kolla by default\n\nThe vast majority of undercloud installs will be consuming already\nbuilt images, so they don't need kolla to be installed.\n\nThis changes the default so that openstack-kolla won't be installed\nunless the user enables that with enable_container_images_build.\n\nChange-Id: I932f0f2048275942e29b589b337561473d5cb0b8\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"mariadb: Move generation of systemd drop-in to puppet-tripleo\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Replace deprecated openstacklib::db::mysql::password_hash\n\nSince [1] was merged into puppet-openstacklib, the password_hash\nparameter has been deprecated. Now hash value is generated in\npuppet-openstacklib layer, and a plain password should be passed\nvia the password parameter instead.\n\n[1] e4b68e9ad62bc55f9d941874bc3af97c01e4bc61\n\nChange-Id: Ia3455e90a40f35a378f8643fd9c8d4d251b44141\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Placement: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: I22a8e6e4699e5ec8182307a3053eac666b57f8f9\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Set octavia provider_drivers config option correctly\n\nChange-Id: I4cb95de0cd963899d2db7e08704ed734e87751d7\nPartial-Bug: #1825146\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Stop SSHD profile clobbering SSH client config\n\nIncluding the ::ssh manifest will manage both client and server config.\nManaging the client config was not intended and will clobber the OS\ndefault config with the puppet ssh moduled defaults.\n\nFollow up for https://review.openstack.org/443113 where I found the issue after\nthe changes merged.\n\nChange-Id: I6329f5ebbe8fc3950449e325e56293872d11e1b5\nRelated-Bug: 1668543\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Support to configure cinder backend_defaults\n\nThis patch does the inclusion of puppet-cinder Class\ncinder::backend::defaults, that provides a way to configure\nparameters for all cinder backends by default in\n[backend_defaults] section of cinder configuration file.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-cinder/+/845652\nChange-Id: Iadadfe253fb361af69b35c57e14c1f3ff4c036ea\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Ensure appropriate ACL mask is set on CephX keyrings\n\nChanging group permissions alters the ACL mask, causing the \"read\"\npermission we set explicitly for the openstack users to be ignored.\n\nThis change ensures \"read\" is set for the ACLs mask.\n\nChange-Id: I4f94a3f7ab2c55a8c45363b8354be99d52980a7b\nCloses-Bug: 1775549\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Adds the puppet-tripleo manifests for manila\n\nThe tripleo-heat-templates side that uses this is at\nhttps://review.openstack.org/#/c/188137/\n\nChange-Id: I444916d60a67bf730bf4089323dba1c1429e2e71\nImplements: blueprint refactor-puppet-manifests\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add Glance profiles\n\nAdd Glance profiles for non-ha & ha scenarios.\n\nChange-Id: Ifc388f7058ccfff2818f531bcbc00c7179874bbc\nImplements: blueprint refactor-puppet-manifests\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Allow to configure haproxy daemon's status\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix stack update with rabbitmq containers\n\nIn change I44865af3d5eb2d37eb648ac7227277e86c8fbc54 we\nadd support to change rabbitmq password on update.\nThis breaks when using containers in a number of scenarios:\n- FFU because at this stage rabbitmq can be down on the node\n  and the call to rabbitmq_user will trigger a rabbitmqctl list_user\n  call which will eventually time out.\n- Controller replacement procedure because on the newly replaced\n  controller rabbitmq will not be up yet and the rabbitmq_user call\n  will timeout just like during FFU.\n- Upgrades from Pike to Queens upgrades we seem to be hitting the\n  same issue as FFU\n\nThe exact error that we will get on the non bootstrap nodes is the\nfollowing:\n=ERROR REPORT==== 3-Mar-2018::05:37:39 ===** Connection attempt from\ndisallowed node 'rabbitmq-cli-67@controller-1' **\n\nThe reason for this is that on non bootstrap node we do not enforce\nthe Exec['rabbitmq-ready'] -> Rabbitmq_user<||> collector, because\nwe do not want to enforce it there (think controller replacement)\n\nLet's make sure we enforce the Rabbitmq_user class only on bootstrap\nnodes, since in HA deployments the users get replicated by the cluster anyway.\n\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\nCo-Authored-By: John Eckersberg <jeckersb@redhat.com>\nCloses-Bug: #1753949\n\nChange-Id: I483fe61f09fa2c3034d2b3d8ffa1ca53feefe6af\n",
        "issue_summary": ""
    },
    {
        "commit_message": "snmp: remove useless parameter for binding\n\nBinding is now done in THT via Hiera directly, so users can change the\noption more easily.\n\nDepends-On: Iccf0a8d35cc05d34272c078c97a5dddfb8e7d614\nChange-Id: I9d5fd152bb73ea54c4d0d3bab862f11eaa4ebd79\nCloses-Bug: #1687628\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Designate: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: Ie609a8d07a8ff264afb90d059c8691a81056ac65\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add swift ringbuilder profile\n\nI think this will need refinement in future, but for now this is\njust a copy of what we have in t-h-t\n\nChange-Id: I427f0b5ee93a0870d43419009178e0690ac66bd6\nPartially-Implements: blueprint refactor-puppet-manifests\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Copytruncate containerized logrotate configuration\n\nThis reimplements commit 67a7dc70f2885b7db2a42bc28c25ece0bbeba3e4.\nCopytruncate becomes a default for containerized logrotate. The\nsolution based on signals processing goes away.\n\nAs long as key deployment framework components heat-engine and\nmistral-engine do not tolerate SIGHUP copytruncate should be used.\n\nThere is more openstack services, like neutron-server, nova-scheduler\nthat cannot handle SIGHUP nicely yet.\n\nNor can we fall back to that predates the containerization of services\nbecause of the following reasons:\n\n* We cannot and should not use the restart command in postrotate as it\n  was before containerization of services. For that a container needs\n  to be privileged and granted a docker socket bind-mount, which is a\n  total security antipattern and defeats the very purpose of\n  containerization. Things may change with future adoption of Podman\n  and/or kubelet control plane though. If/when that happens, we might\n  consider an option for postrotate to terminate a process with\n  SIGTERM, to have the process instantly respawned via its systemd\n  unit/kubelet restart policies.\n\n* Individual services' logrotate configs worth nothing, when still\n  being handled by a central logrotation container running crond. And\n  it needs to remain centralized as individual containers neither do\n  run crond nor contain logrotate, nor lightweight containers following\n  12-factors apps recommendations should do anything like that. Nor the\n  host logrotate/crond can do rotation of logs for containers as we do/\n  should not install required packages on the host, but only in\n  containers. See also the spec [0] explaining the reasoning better.\n\nAll of that makes copytruncate a global choice for logs rotation of\ncontainerized services as we just cannont be sure, if a service foo\n*really* does correct processing of SIGHUP. We leave that option for\nfuture implementation in the hope things get fixed eventually. As well\nas the aforementioned systemd/kublet option, or the option to provide\nstdout only logging [0] and let the logrotate thing go.\n\n[0] https://review.openstack.org/#/c/462900\n\nCloses-Bug: #1795411\nRelated-Bug: #1276694\nChange-Id: Ibdad7859a389d0ff37bbf7bfd9f4c521a05a5ea1\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"nova: Remove profile::base::nova::placement\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Cleanup old workaround for ipv6 VIPs\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1445628 has been fixed\nin RHEL 7.3. There is no need to carry around this workaround any\nlonger.\n\nWe can entirely remove the nic parameter since it is set to '' by\ndefault anyway in puppet-pacemaker.\n\nChange-Id: Ia41046f148e0593ea773e8409494ce5dcca4b7a2\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Add resource to create haproxy endpoints dynamically\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Add resource to fetch CRL\n\nThis will fetch the CRL file from the specified file or URL. Furtherly\nit will set up a cron job to refresh the crl file once a week and notify\nthe needed services.\n\nbp tls-via-certmonger\n\nChange-Id: I38e163e8ebb80ea5f79cfb8df44a71fdcd284e04\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove Sahara support\n\nSahara support in TripleO will be removed, thus we can drop all\nimplementation related to it from puppet-tripleo.\n\nDepends-on: https://review.opendev.org/#/c/734119/\nChange-Id: Iab22e4d98e74ff05fbc1acbb4ee0bb19df2a7233\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Throw warnings for norpm actions\n\nIf the norpm provider attempts to do any install/update/remove actions,\nwe should throw a warning in the logs so people are aware that the\naction did not actually take place.\n\nChange-Id: Ieee5cac3412c709ba6b39316e455d7708cc9d22e\nCloses-Bug: #1669666\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix certificate ownership of rabbitmq\n\nWe no longer have the rabbitmq user as part of the overcloud\nhosts. We rely instead on kolla setting the right permissions in\nthe container.\n\nChange-Id: Iaa159fcfe78d16be59e2d9baf51a65119f50c427\nCloses-Bug: #1771752\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Workaround for /etc/pki/CA/certs/vnc.crt not present\n\nWhen doing an upgrade to TLS Everywhere, vnc.crt is not always created\nby the time the getcert command exits (even though it is run with the\n-w flag). Puppet then ignores the instruction to change the file\npermissions, resulting in an error at a later stage, when podman\ntries to mount the file onto a container.\n\nChange-Id: I0e0009d57cd1c90f8ae28a2cfc9337ecf8c75112\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Move gnocchi clustercheck to step 2\n\nAs not having guarantee of being installed on same node, the dbsync\nwill be on step 3 and the clustercheck on 2.\n\nChange-Id: Id728aae79442c45ab48fe0914c065f1807e8890d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "adding deployment_type fact in support\n\nWe have added a deployment_type fact to indicate when puppet is being\nexecuted within a container.\n\nChange-Id: I5270778a7c4da2c383cf98c746b77c9b210e9ba0\nRelated-Bug: #1761624\nNeeded-By: https://review.openstack.org/#/c/559182/\n",
        "issue_summary": ""
    },
    {
        "commit_message": "firewall: stop using stdlib stages\n\nUsing Puppet stdlib in TripleO is risky because it exposes deployments\nto dependency cycles in the catalog.\nWe should rather use native functions to make orchestrations, like\nordering and dependencies management.\n\nThis patch:\n\n- removes usage of stages from stdlib\n- use ordering to make sure we run pre rules before post\n- use ordering to make sure we start all Services in catalog before post\n  rules. It ensure that we don't drop all traffic before starting the\n  services, which could lead to services errors (e.g. trying to reach database\n  or amqp)\n\nChange-Id: Iec4705d6b785a40ccf6f43809b94b726ccd47fef\nCloses-Bug: #1643575\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Configure galera-monitor on all controller nodes\n\nWhen we implemented the galera composable role we accidentally moved the\nxinetd.d monitor service on the bootstrap node only. This meant that\nhaproxy believed that galera was down on the non-bootstrap nodes. A\nshutdown of the bootstrap node meant that galera was effectively down\nbecause haproxy would refuse to redirect the traffic to the\nnon-bootstrap node. Fix this by creating the\n/etc/xinetd.d/galera-monitor on all controller nodes.\n\nChange-Id: Ib5a06b3abbc32182476c2b0c81eb77a12821ad6b\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Include zaqar apache module\n\nThis includes the Zaqar apache module, allowing to run Zaqar behind\nhttpd.\n\nDepends-On: I69b923dd76a60e9ec786cae886c137ba572ec906\nChange-Id: Ib52144e5877d9293057713d6bdca557724baad5c\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Use TLS proxy for Redis' internal TLS\n\nThis uses the tls_proxy resource in front of the Redis server when\ninternal TLS is enabled.\n\nbp tls-via-certmonger\n\nCo-Authored-By: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nChange-Id: Ia50933da9e59268b17f56db34d01dcc6b6c38147\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Rename controller_admin_vip to controller_admin_host\n\nBring change of I53151d4f555d5d161a3e53ce5f022e3bf3b2ffbd into\npuppet-tripleo.\n\nChange-Id: I1227956a0389497eedc00e4ec817f52be608dc75\nRelated-Bug: #1643655\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fixup nit in manila pacemaker profile, duplicate variable\n\nSee discussion at https://review.openstack.org/#/c/342961/8\n\nChange-Id: I571b65a5402c1028418476a573ebeb9450ed00c9\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Set ceph key when using manila ceph backend\n\nManila ceph driver reads ceph's client configuration\n(keyring is the most important) from ceph.conf file\n(or any other file set by cephfs_conf_path). ceph.conf\nshould be updated with keyring location.\n\nIf ceph is deployed by tripleo then also manila ceph key\nis added into ceph and ceph filesystem is created.\n\nDepends-On: I18436a64fc991b9e697a1d79e369ac110cf8fe20\nChange-Id: Iac4a260af6738ed6afd4bcb107221a736d07c1b5\nPartial-Bug: #1644784\nCloses-Bug: #1646147\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Set memcached_servers for nova API\n\nThis patch updates the Nova profile so that we set memcached\nservers correctly for the Nova keystone auth_token middleware.\n\nMost of the hiera settings for ::nova::keystone::authtoken are\nalready included in the t-h-t nova-api service.\n\nChange-Id: I3b7ff02abbd0d5e0c38232d02b33e4c7bc411120\nCloses-bug: #1633595\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add ML2 configuration for Bagpipe BGPVPN extension\n\nChange-Id: I9e1a56782e258fb6982b70d9a07f35808f2b2de5\nDepends-On: Ic975ec1d6b2bf6e6bd28b47ba9dd2a3ae629d149\nSigned-off-by: Ricardo Noriega <rnoriega@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "[Pure Storage] Add NVMe transport parameter for FlashArray Cinder driver\n\nDepends-On: I7e1172b3048e6bf84be7dad4d193f10e9b15138e\nChange-Id: I37e84017926baa0db31271c32400938ee53fb3d2\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Sort parameters in keystone profile alphabetically\n\nChange-Id: I035c26e0f50e4b3fc0f6085fa5a4bf524e4852b7\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Configure keystone endpoints in service profile\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Move ceilometer upgrade re-run out of collector\n\nSince collector is deprecated, lets move this out of collector.pp\nso it gets run and resource types are created appropriately even\nwhen collector is not included.\n\nCloses-bug: #1676961\n\nChange-Id: I32445a891c34f519ab16dcecc81993f8909f6481\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Use docker profile in docker_registry\n\nThe docker_registry profile has resources to configure\nthe docker service and package. These conflict with the\nentries in the tripleo::profile::base::docker class which\nexists specifically to manage these resources (and has\nunit tests).\n\nThis patch removes the duplicate resources and updates\nthe docker_registry profile to simply include the\nbase docker profile instead.\n\nThis instack-undercloud change below needs to land first.\nDepends-On: I6154f4c7435b02b92f6f64687e9ee89d6b86186a\n\nChange-Id: I75c740e7efc6662861c28caeb7fa965ba55438cb\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove loadbalancer profile\n\nWe don't need loadbalancer profile anymore, we now have haproxy &\nkeepalived profiles that replace it.\n\nChange-Id: I5bf57f88a85fa8180392e9dde7ab39f4eda63113\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Make sure we bind the rabbit inter-cluster to a specific interface\n\nCurrently the inter-cluster communication port listens to all ip\naddresses:\ntcp 0 0 0.0.0.0:25672 0.0.0.0:* LISTEN 25631/beam.smp\n\nIn order to limit it to listen only to the network assigned to rabbitmq\nwe need to add the following:\n{kernel, [\n    ...\n    {inet_dist_use_interface, {172,17,0,16}},\n    ...\n  ]}\n\nIn order to do the conversion from an ip address to the Erlang\nrepresentation we add a function that takes a string and returns a\nconverted output. The (~400 randomly generated) IPv6/4 addresses at [1]\nhave been parsed both via erl's built-in inet:parse_address() function\nand our ruby implementation. All converted ip addresses resulted in the\nsame output [2], [3]. The only difference is that Erlang's parse_address()\nconsiders network ip addresses (e.g. 10.0.0.0) invalid whereas the ruby\nfunction does not. This should not be a problem as the use case here is\nto bind a service to a specific ip address on an interface and if\nanything we likely prefer the less strict behaviour, given that at least\nin theory it is perfectly valid for an interface to have a network\naddress assigned to it.\n\n[1] http://acksyn.org/files/tripleo/ip-addresses.txt\n[2] http://acksyn.org/files/tripleo/ip-addresses-ruby.txt\n[3] http://acksyn.org/files/tripleo/ip-addresses-erl.txt\nChange-Id: I211c75b9bab25c545bcc7f90f34edebc92bba788\nPartial-Bug: #1645898\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Ironic: manage PXE environment for conductors\n\nChange-Id: Icb9633134114041bbd497e7652482dd5d34c9327\nDepends-On: I8b83eff694316755e4dd2dbcde7b569472893bc5\nPartially-Implements: blueprint ironic-integration\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix up the rabbitmq-ready check\n\nSo the current rabbitmq-ready exec has a few unexpected problems:\n\n1) The notify mechanism is not being called, but after discussion\nwe're comfortable in calling this all the time, just like we do this\nfor galera.\n2) Calling rabbitmqctl inside a container is problematic because\nthe mere invocation of the cluster_status command will actually\nspawn an epmd process which will take the epmd port and which will\nsubsequently make the rabbitmq-bundle started by pacemaker fail to\nform a cluster.\n\nFor this reason (working around the rabbitmqctl issue is potentially\ndoable once we upgrade to erlang 19.x but not with older versions)\nit is vital that this container gets spawned with /bin/epmd nooped\nto /bin/true.\n\nWe now only proceed after rabbit tells us that it is part of a cluster.\nJust checking for rabbit being up is not enough because if the user gets\ncreated before the node joins a cluster, it might not be replicated\n(depending on the timing).\n\nPartial-Bug: #1739026\n\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\nCo-Authored-By: John Eckersberg <jeckersb@redhat.com>\nChange-Id: I54c541d86782665ae0f689428a16edc155f87993\nDepends-On: Ie74a13a6c8181948900ea0de8ee9717f76f3ce79\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix missing PXE directories for Conductor\n\nWhen Ironic Conductor class is called, it expects the\nPXE directories exist. That is only the case for the step 4.\nWhile there is also a case when the conductor class invoked\nfor the step 3 & db sync case. For that case also inlcude\nthe missing ironic::pxe class to ensure the PXE directories\ncreated.\n\nCloses-Bug: #1845222\n\nChange-Id: I394f56ba9b213c75378bdf21999d23509632523c\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Move metadata file creation of glance netapp to puppet-tripelo from THT\n\nSince, openstack-glance package has been removed from overcloud image\nduring the cleanup, 'filesystem_store_metadata_file' file is failing to\ncreate on host in case of glance netapp.\n\nSo, adding metadata file creation part in puppet-tripleo.\n\nChange-Id: I031a8921a74af137927ba83ee2307aafc13263cb\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Support for Dell EMC Unity Manila Driver\n\nThis changes adds Dell EMC Unity backend as composable service\nand matches the tripleo-heat-templates.\n\nChange-Id: I0df1e16db89cd53e4f16cd08ccb975d8e7e9a470\nImplements: blueprint dellemc-unity-manila\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add custom_vrrp_script param to keepalived\n\nThis is needed when running keepalived in a container in\norder provide a containerish version of the command to check\nif haproxy is running.\n\nChange-Id: I800d5c067a57b0ed7f15397a1f655fbd88a4633e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Deploy ironic-api with WSGI\n\nChange-Id: I952c86db88dcd611722a3feaea88f618eee17620\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Make OpenStack service ports configurable in HAProxy\n\nSome deployments were expecting specific ports for the OpenStack\nservices; In case the default ports are not meeting those needs, we\nneed to provide the means of changing the defaults.\n\nChange-Id: Idbbcc90e2af1b3a731b0b5ea955df6082541a9f7\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Remove puppet-certmonger related puppet-files\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Clean up service name from cinder api\n\nSince the service_name is now being passed from t-h-t, we can clean\nit up from the profile in puppet.\n\nChange-Id: I724af8c355c3077be64cf472cedbca80af55da01\nDepends-On: I13638cd1af52537bef8540f0d5fa5f5f7decd392\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add base certmonger class\n\nThis base class just executes the main certmonger include (which gets\nthe package and starts the service) and configures the global CA, as\nwell as some options for the certificates that it will be issuing.\n\nbp tls-via-certmonger\n\nChange-Id: Ib748946130209bf9ccf6670b6f3fbbe0424400ec\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add validations profile for tripleo\n\nThis adds the tripleo::profile::base::validations profile which sets up\nthe `validations` user and installs the openstack-tripleo-validations\npackage.\n\nChange-Id: Ib2b1ddcda3a41cb7263171d3024f05ba8bfd2f28\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add mongodb profiles\n\nImplements: blueprint refactor-puppet-manifests\n\nCo-Authored-By: Carlos Camacho <ccamacho@redhat.com>\nCo-Authored-By: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nChange-Id: Idb1e78ebec7682fe68ca5902a22cfb6030498091\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Enable TLS in the internal network for Nova API\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Replace union to create tcp-check list for redis\n\nWhen using union, repeated arrays members are removed, so in this case\nwe are missing a 'expect string +ok' after the QUIT. To avoid that i'm\nusinhg + operator to join arrays.\n\nChange-Id: I8f92469aa8dd0b8c21821b3ec62b2d43361ee428\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Revert \"Update horizon manifest to use new ssl variable names\"\n\nBecause the dependent patch[1] does not present in stable/victoria\nwe should not merge this patch until stable/victoria release is created\nfor TripleO projects.\nThis revert will be reverted once stable/victoria branch is created.\n\n[1] https://review.opendev.org/#/c/758041/\n\nThis reverts commit 09d7aa88341010b681af1c259ceb7ec7dbd9529b.\n\nCloses-Bug: #1901626\nChange-Id: Ica99237cbb92cf9d23e067490c2dce5fd5101457\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove unused sysctl::value resource\n\nThis removes the sysctl::value resource left by [1]. Kernel parameters\nare now managed by ansible and the puppet implementation is no longer\nused.\n\n[1] cac7047169979c34f4967bd5901ff27659a6c680\n\nChange-Id: Ib19fe1afe58cf571cd2d346e84d602ef469630ae\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Make sure that ceph-nfs and the VIP start in the right order\n\nCurrently there is a race where ceph-nfs is free to be started before\nthe colocation constraint with the VIP is created. This issue is\nexacerbated by the fact that the container being started (via a systemd\nunit file managed by pacemaker) never fails in case the daemon\nencounters an error, because it has inside it:\n/usr/bin/ganesha.nfsd \"${GANESHA_OPTIONS[@]}\" -L /var/log/ganesha/ganesha.log \"${GANESHA_EPOCH}\" || return 0\n\nSince the container never fails, docker never exits and so systemd and\npacemaker think everything is fine and it won't get rescheduled on\nanother node.\n\nWe can avoid this issue completely if we can guarantee that\nwe start the VIP and the ceph-nfs service on the bootstrap node only\n(by tagging only that node with the right property) and only later we\nadd the node property on all the other nodes.\n\nThe drawback of this approach is that, barring any failures, ceph-nfs\nwill always be started on the master node for that service.\n\nChange-Id: I78c16c9fb28211a7a8ec2187ae76b9a072b76ea2\n",
        "issue_summary": ""
    },
    {
        "commit_message": "HAProxy: Replace hiera by lookup (2)\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: Ic47931c0a12e9e38900a9cce3acdbdd69640f636\n",
        "issue_summary": ""
    },
    {
        "commit_message": "nova: do not manage nova-compute with pacemaker\n\nIn the case where all services are installed on the same node\n(All-In-One), we don't want Pacemaker to manage nova-compute. This patch\nmakes the Nova service more specific for overriding start/stop/restart\nactions, to be applied only for services that usually run on\ncontrollers.\n\nChange-Id: I81a86331cff4e7988e035ada82834a45a6bb99c1\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix bootstrap node for nova conductor\n\nThe doc was updated but the actual default value still the one.\nSee context in I48ec4549552910f3cb8db960b0ff10a6c61b4bb9\n\nPartial-Bug: #1792613\nChange-Id: I8e0f4bd90d22617a6451fa591f9ff50821d9c33b\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Remove neutron-managed firewall rules from /etc/sysconfig/iptables\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Fix Swift ring management in container deployments\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove all glance nfs changes from puppet-tripleo\n\nSince, mounting nfs would run via ansible in t-h-t,\npuppet-tripleo glance nfs_mount.pp would no longer be\nused.\n\nHence removing all glance nfs related part from here.\n\nDepends-On: I232577643c26d7eb0162c09b3c394b7f3e161154\nChange-Id: I617c38266d17fdf8cade660207e1e369dcd54fdb\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Added new parameter: $activate_httplog\n\nThis allows to get the full HTTP log (and TCP if not HTTP) from HAProxy,\nin case you need any debug from that central point.\n\nIn case you want timers for those entries, you might want to use the\nalready present \"$haproxy_globals_override\" parameter and set its\ncontent to:\n{ 'log' => '/dev/log local0 debug'  }\n\nChange-Id: I4667317cbd453875585521b22b0ccbdb208f5353\nCloses-Bug: 1733801\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add puppet profile for swift proxy\n\nBreaks out the swift proxy configuration from t-h-t to a\ncomposable profile\n\nChange-Id: I6bd72284911f3f449157a6fc00b76682dd53bd8c\nPartially-Implements: blueprint refactor-puppet-manifests\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Include nova::metadata to compute profile\n\nThe old DEFAULT/dhcp_domain setting was moved to api/dhcp_domain.\nnova::network::neutron::dhcp_domain will be removed later in the cycle.\nWe need include nova::metadata which sets the new [api]/dhcp_domain\nas this is used by the virt driver to generate the config drive.\n\nCloses-Bug: 1832537\n\nDepends-On: https://review.opendev.org/668663\nDepends-On: https://review.opendev.org/668666\nDepends-On: https://review.opendev.org/665131\nDepends-On: https://review.opendev.org/669066\nDepends-On: https://review.opendev.org/669208\n\nChange-Id: I5da1e67684f8317eec8c499c3534977e00a63098\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add Mistral profiles\n\nAdd Mistral profiles for non-ha and ha scenarios\n\nChange-Id: I1a072326091fd3b0c21d2f78041e3532b67c60eb\nImplements: blueprint refactor-puppet-manifests\nDepends-On: I6ce61054384c15876c498ba8cf582f88d9f7f54c\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Support cephfs_volume_mode parameter\n\nmanila now [1] supports configuring an octal value for the\nrwx permissions mode of the cephfs volumes and snapshots\nand groups of these that back manila shares, snapshots,\nand groups.\n\nExpose this parameter in the backend manifests for manila\nwith cephfs.\n\n[1] https://review.openstack.org/#/c/614332\n\nDepends-On: https://review.openstack.org/#/c/638770/\nChange-Id: Id8cbdfeff8299ff08a84c1c5902fb909353d4678\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix Redis TLS setup, including replication traffic\n\nThis patch reverts the revert of Redis TLS [1], and fixes the\nencryption of Redis replication traffic for HA deployments.\n\nIn order to encrypt replication traffic, Redis is configured to\ndrive outgoing replication traffic to a stunnel endpoint on\n<localhost:port_xxx>. Stunnel then manages the encryption up to\nthe peer Redis master.\n\nLikewise, slave Redis nodes advertise themselves as coming from\n<localhost:port_yyy> in order to let the Master initiate connection\nthe Slave over its own stunnel endpoint, should it needs to.\n\nEach redis node is assigned a unique replication port, and has\ndedicated stunnels to each one of its peer. This port mapping\ninfo is used by the redis resource agent to manage A/P failover.\n\nThe regular Redis port is unchanged, so Redis clients (OpenStack\nservices, HAproxy, CLI, firewall) are not impacted by this change.\nOnly SELinux needs to be adapted.\n\n[1] I37501c4c983c87e3a38841272eb176ebbe626a65\n\nChange-Id: I6cc818973fab25b4cd6f7a0d040aaa05a35c5bb1\nRelated-bug: #1737707\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Make sure tuned package is installed before calling tuned-adm\n\nWith https://review.openstack.org/#/c/511509 we start erroring out\nproperly on puppet errors.  One of the jobs that is now failing is:\n\nhttp://logs.openstack.org/09/511509/7/check/legacy-tripleo-ci-centos-7-undercloud-containers/5d3fecc/logs/var/log/undercloud_install.txt.gz\n\nReason for this is that we include the tripleo::base::tuned profile which has:\n  exec { 'tuned-adm':\n    path => ['/bin', '/usr/bin', '/sbin', '/usr/sbin'],\n    command => \"tuned-adm profile ${profile}\",\n    unless => \"tuned-adm active | grep -q '${profile}'\"\n  }\n\nSo if the tuned package is not installed by other means we get:\n\"Error: /Stage[main]/Tripleo::Profile::Base::Tuned/Exec[tuned-adm]: Could not evaluate: Could not find command 'tuned-adm'\",\n\nLet's add the package here in the profile instead of installing it\nvia tripleo.sh, that way also a split stack deployment is covered.\n\nChange-Id: I130cdc59000e0c5e5fa7c542fbe6b782651a7eb7\nCloses-Bug: #1724518\n",
        "issue_summary": ""
    },
    {
        "commit_message": "sshd: Remove unused implementation to restrict ssh access\n\nNow we strictly manage the networks used by the migration target sshd\nservice, so we don't need to implement additional restriction in\nthe sshd daemon.\n\nDepends-on: https://review.opendev.org/842860\nChange-Id: Ie6d8e59f3622546b07546cb2e03f43fdc16e83c5\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Only set the stonith property on the pacemaker_master node\n\nIt makes little sense to enforce the stonith property on remote nodes and/or\nall cluster nodes. We can just enforce it once on the pacemaker_master\nnode as it is a cluster-wide property anyway. We can also remove the\ntripleo::fencing -> pacemaker::stonith constraint in the pacemaker\nremote profile now as the fencing stuff happens on step 5 anyway and\nthe property is set at step 1.\n\nWhile this works in general it creates extra CIB changes for nothing and\nslows down the deployment.\n\nChange-Id: Ifef08033043a4cc90a6261e962d2fdecdf275650\nCloses-Bug: #1696336\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Added new parameter for HAProxy configuration\n\nThis allow to set the socket access level to admin instead of default\n\"user\".\nThis \"admin\" access adds the capability to interact with HAproxy in\norder to manage its configuration, at least temporarly.\n\nThis changes keeps the default \"user\" access level, as \"admin\" might\nbreak things if misused.\n\nChange-Id: I1a4612b9f8aacc410b48a04dac3bf300bbb0e08e\nCloses-bug: #1716692\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Revert \"Revert \"Update horizon manifest to use new ssl variable names\"\"\n\nThe stable/victora branch has been created, so we are now ready to\nmerge changes for Wallaby.\n\nThis reverts commit 313888ba96a48b9a2f97656aef5a90b35024b941.\n\nChange-Id: Ie20eec6eb8725d132b4036eeace23e649670c969\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Cinder: Use defaults defined in puppet-cinder\n\nCurrently we override default values for backend manifests by undef\nbut because of this we already need to define each parameters otherwise\npuppet-cinder raises validation failure or set empty values.\nThis change removes that redundant overrides and make puppet-tripleo\nrely on defaults in puppet-cinder (and most of them are\n$::os_service_default which result in defaults in cinder itself)\n\nChange-Id: I0089a53ce630a7e84b193af427455ab96b04ec48\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Disable ip_nonlocal_bind (rely on the HAProxy 'transparent' option)\"",
        "issue_summary": ""
    },
    {
        "commit_message": "syntax error extra comma in rabbitmq.pp\n\nbundle rake syntax\n\nCould not parse for environment *root*: Syntax error at ')'; expected '}'\n\nChange-Id: Idfb254df068b3d7342a6ea3c71dabd1316a61bdf\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Migrate Swift ring handling from tripleo-heat-templates to puppet-tripleo\n\nThis allows decoupling the Swift ringbuilding logic from the Controller\nand ObjectStorage roles. A follow up patch will modify\ntripleo-heat-templates and use this modified class.\n\nActually this downloads the Swift rings even if ring building is\ndisabled or if there is no need to rebalance. This is required, because\noperators can disable ring building, but use the same mechanism to\ndistribute pre-built rings to the nodes.\n\nIf ring building is disabled, these won't be uploaded at the end back to\nthe undercloud.\n\nRelated-Bug: 1665641\nChange-Id: Ifd6fa5b398d98e8998630ea0c9a2ce9867ceba2b\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Changes default MidoNet API port on HAProxy\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Add zaqar profiles\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove Combination alarms support\n\ncombination alarms are completely removed in Ocata.\nRemove this from tripleo.\n\nChange-Id: Icdf81d2f489db33533a1a0979cba3b5a652535d5\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Finish HAProxy config for metrics_qdr\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove deprecated keystone::enable_bootstrap\n\nThis patch removes usage of the keystone::enable_bootstrap parameter,\nbecause it has been deprecated[1] and has no effect now.\n\nNote that we currently implement bootstrap process in t-h-t, thus\nwe don't need to include keystone::bootstrap in puppet-tripleo.\n\n[1] bc1ff1d7cb01ac02790c3302a3da6e994598d9f6\n\nChange-Id: I9e29f774afe26c56f0091aa28ef5517f26fe1e4b\n",
        "issue_summary": ""
    },
    {
        "commit_message": "TLS-everywhere/libvirt: Make postsave command configurable\n\nThis is requires for when libvirt is running over a container, since\nwe shouldn't try to restart the libvirt process, but the container\nitself.\n\nbp tls-via-certmonger-containers\n\nChange-Id: I26a7748b37059ea37f460d8c70ef684cc41b16d3\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Run cinder's db sync only on bootstrap node\n\nThe sync_db variable (which is True only on bootstrap node) needs to be\npassed to the ::cinder::api resource to ensure the db sync only happens\non the bootstrap node.\n\nCloses-Bug: #1779112\nChange-Id: Ib7fcafbe769aadfcc58323ba3a06fa28a80a488a\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Ensure we set $haproxy_firewall_rules variable\n\nIf we do not set a default value for that one, we might hit the\nfollowing puppet warning:\n\nWarning: Unknown variable: 'haproxy_firewall_rules'. (file:\n/etc/puppet/modules/tripleo/manifests/haproxy/endpoint.pp, line: 303,\ncolumn: 54)\n\nChange-Id: I6eb75c88e06281c61e4317fe8722e4bdfa572fe4\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Allow using redis as a Zaqar messaging backend.\n\nChange-Id: I66ab40f8f993fbf4c3c9b1ded56de1f7a1a26c0c\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Certmonger: Only attempt to reload haproxy is it's active\n\nPreviously, certmonger tried to reload haproxy every time after a\ncertificate is requested. This is useful for certificate resubmits or\nrenewals. However, it turned out problematic on installation, when\nhaproxy is not yet active, as it would try many times and end up having\na race-condition with puppet.\n\nThis checks if haproxy is active and only then will it attempt to reload\nit.\n\nChange-Id: I51f9cccb5d1518a9647778e7bf6f9426a02ceb60\nCloses-Bug: #1712377\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix use of bootstrap_node in cinder base profile\n\nBy inspecting bootstrap_nodeid in cinder base profile we can\nset sync_db appropriately and not always default to true.\n\nChange-Id: I2484b1d70a17436c0d8eab9ea8df927d57783784\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Change haproxy check to tcpka for ec2_api\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Make galera-ready exec refreshonly\n\nPreviously we were always run the galera-ready exec every step. This\nchange switches it to be refreshonly so we only wait when the service is\nsetup or restarted.\n\nChange-Id: I5ff9d49c2590751913b96777bcd72c8a15627a01\nCloses-Bug: #1680586\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add puppet profile for snmp\n\nBreaks out the snmp configuration from t-h-t to a composable profile\n\nChange-Id: I7e6ab28a99b759594187e8571af6e22d836ae7bf\nPartially-Implements: blueprint refactor-puppet-manifests\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable deep_compare for fencing resource\n\nThis complements https://review.opendev.org/#/c/679407 allowing\ndeep_compare and update_settle_secs to be set globally via:\n\n  tripleo::fencing::deep_compare: true\n  tripleo::fencing::update_settle_secs: XXX\n\nDepends-on: https://review.opendev.org/#/c/679407\n\nChange-Id: I0e1a8da4112479f39ad72fd7184ad5838c5b59fe\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix rabbitmq haproxy configuration\n\nWhile rabbitmq currently does not use haproxy at all, the code for\nit inside haproxy is currently wrong.\nLet's get this right in case we ever want to put rabbitmq back under\nhaproxy's balancing\n\nChange-Id: Iaf1f818bdbde000ea3eedf0fb6503f60b3dddf75\nCloses-Bug: #1672356\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Allow vhost socket directory user/group as configurable from template\n\nFor ovs2.8 version, it is required to modify the vhost socket directory\npermissions as openvswitch:hugetlbfs instead of the earlier hardcoded\nvalues qemu:qemu. Making these values as input which could be configured\nfrom templates.\n\nChange-Id: Ia2d0a49567f51b8e6ecdf1967c515ef0dfe81567\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add NFS backend for cinder-backup service\n\nAdd a Cinder backup profile that uses NFS for the backend.\n\nRelated-Bug: #1744174\nChange-Id: Ic0adb294aa2e60243f8adaf167bdd75e42c8e20e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Snmpd: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: I8f784be9a77729c83b55da634796e1565656e9e1\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add new nova::compute::provider class to compute nodes\n\nDepends-On: If12d7f5a8c331e051eb543f88187c31e676f3b62\n\nChange-Id: I509eec3bf37368640ae8a3df8271b769d29f70c4\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable haproxy statistics unix socket\n\nBy enabling the statistics socket we allow the collection\nof statistics over time for haproxy.\n\nThis socket is set to \"user\" level, so this socket is limited\nto read-only. The \"stats timeout\" line is optional, but since the\ndefault timeout of the stats socket is 10s, we set this higher.\n\nChange-Id: I22d3ab771e981be0d2c74b60443d276973bc1639\n",
        "issue_summary": ""
    },
    {
        "commit_message": "nova-migration-target: Remove redundant options from match block\n\nThis change removes some options from match block because these are\ndefined in the core section now.\n\nDepends-on: https://review.opendev.org/844897\nChange-Id: I1a353bdfaf7ad323302991cf02b48dd932a12538\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Allow use of ssl for public api endpoints\n\nThere are two methods included: Setting $service_certificate will\nenable SSL for all public endpoints with the same cert file, while\nservice-specific certificate settings allow using a cert file for\njust one service.\n\nChange-Id: I6f87ed2ebbea08ff1a0dff981559c8f4fc8b67cc\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix eqlx chap password\n\nThe hiera key generated by THT is eqlx_chap_password and not\neql_san_password.\n\nhttps://github.com/openstack/tripleo-heat-templates/blob/master/puppet/extraconfig/pre_deploy/controller/cinder-eqlx.yaml#L63\n\nChange-Id: Ic062d9060f0ce437336e2bd6aaca3887fc33c8cf\nCloses-Bug: #1631527\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add the ability to configure ovn-remote-probe-interval\n\nThis parameter sets inactive probe interval of the JSON\nsession from ovn-metadata to the OVN SB database.\nBy default this it is 5s which not be sufficient in\nloaded systems or during high control-plane activity spikes,\nleading to unnecessary reconnections to OVSDB server.\nNow it is extended by default to 1 min and it\nis configurable.\n\nDepends-On: https://review.opendev.org/#/c/695577\nChange-Id: I0ff2f1b01abc4bad74532f4954c80509c02a2375\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove implementation to manage firewall rules by Puppet\n\n... because these are no longer used and now tripleo-ansibe is used\ninstead.\n\nThe tripleo::firewall::rule defined type is kept because it it still\nused to configure masquerade rules.\n\nDepends-on: https://review.opendev.org/841728\nChange-Id: I634720d9afe563d1e632c2c4c63a5845c6237300\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Resolve repeated ports for ssl frontends (nova vnc and swift proxy)\n\nNova vnc and swift proxy were listening on the same port if SSL is\nenabled in the load balancer\n\nChange-Id: Ibf4aa118d6c8e94f8f2a68bf270d5445ebda7593\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Stop the chronyd service\n\nSince the norpm provider can prevent the chronyd package from actually\ngetting purged, we need to make sure the chronyd service is stopped and\ndisabled so that it does not conflict with ntpd.\n\nChange-Id: I7a697aba7aa5a27ba4ab6e46018057f7f01dfab2\nCloses-Bug: #1665426\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add mechanism for cookie-based sessions in endpoints.\n\nIn order to allow SAML integration, we need to persist sessions for\nthe Keystone public API. Rather than use a one-off resource, this\npatch introduces a generic mechanism for adding cookie-based sessions\nto any endpoint that uses the endpoint resource and uses that mechanism\nto provide a session persistence option for the Keystone public API.\n\nChange-Id: I7e1c9a4ddc8b849b487b863635b8c45fc935a751\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add multiple backends for barbican\n\nDepends-On: I8cb8d3cd745fbf7ddba1ce8e5347b38342afd58d\nChange-Id: I07e52897897f453382f74aa4fdaa98c37e6eca30\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add basic structure for a Puppet module\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Let haproxy_defaults be overridable\n\nAdd the haproxy_defaults_override parameter so the defaults_options\nin haproxy are overridable. Tested by adding the following yaml to\nthe deployment:\nparameter_defaults:\n  ExtraConfig:\n    tripleo::haproxy::haproxy_defaults_override:\n      retries: 7\n\nObserved that haproxy.conf contained the following (retries defaults\nto 3):\ndefaults\n  retries  7\n\nChange-Id: I52b8f528e334e4d243ac7f506b9f293dab9f478d\nCloses-Bug: #1732176\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable X-Forwarded-Proto header for Heat and Nova\n\nChange-Id: Icd666d9988d14ac1e9581f55589bf95243cc7641\n",
        "issue_summary": ""
    },
    {
        "commit_message": "pacemaker/mysql: wait step 2 to remove default accounts\n\nremove_default_accounts is a mysql::server parameter that, set to True,\nwill execute some MySQL commands to cleanup MySQL defaults accounts\ncreated by packaging.\nIn order to successfully run the commands, we need MySQL up and running,\nwhich is not the case at step 1 but at step 2.\n\nThis patch make sure we run the commands at step 2 on pacemaker master\nonly.\n\nNo change for scenarios without Pacemaker.\n\nChange-Id: Ifad3cb40fd958d7ea606b9cd2ba4c8ec22a8e94e\nCloses-Bug: #1633113\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add /dev/log to ovn-dbs-bundle\n\nThis aligns it to the other containers that have OCF and makes it\nso that the ocf resource agent correctly logs things in the journal.\n\nChange-Id: Idbcdd4a745d29dc3580d20252f86a81735cdac6f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Fix rabbitmq haproxy configuration\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix wrong hiera key in ceph_rbdmirror\n\nThere is a typo in the bootstrap check which will lead to:\nCould not find data item ceph_rbdmirror_bootstrap_short_node_name in any\nHiera data file and no default supplied at\n/etc/puppet/modules/tripleo/manifests/profile/pacemaker/ceph/rbdmirror.pp\n\nWe need to be using the correct one:\n$ hiera ceph_rbdmirror_short_bootstrap_node_name\novercloud-remote-0\n\nChange-Id: Ic343e5f99e48360bdd2d2989781a4b6ca484e8fc\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Make sure python3-novaclient is installed before creating fence_compute\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Add manifest for networking_ansible ML2 plugin\n\nChange-Id: Id043105b663222ec217c300ed398ab2898684d92\nDepends-On: https://review.openstack.org/577073\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove manifest/profile/baseui.pp\n\nThis file is not needed anymore.\n\nChange-Id: I904443624c18cc5116bc6027c016b9ccdd5e10aa\nCloses-bug: 1698105\nDepends-On: Ie20ecabea91ca4c2040c5ef3bf6c71b2b53d26ef\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Decouple ceilometer user create from API\n\nCeilometer user is needed for other ceilometer services to\nauthenticate with keystone even when API is not present.\nSo the data can be dispatched to gnocchi. Lets keep these\nseparate so user always exists even when api is not.\n\nDepends-On: Iffebd40752eafb1d30b5962da8b5624fb9df7d48\n\nCloses-bug: #1677354\n\nChange-Id: I8f4e543a7cef5e50a35a191fe20e276d518daf20\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add option to set rsyslog reopenOnTruncate parameter for all services\n\nIf defined, set reopenOnTruncate rsyslog imfile option for all services. Paremeter definition set by the services takes precedence\n\nChange-Id: I5870c0689434eaca8d114cd83e1164e1454565d7\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Force --hostonly when regenerating the initramfs\n\nThe dracut-config-generic package (sometimes installed by default in\nthe overcloud image) provides a configuration file that turns off the\nhost-specific initramfs generation with dracut:\n\n$ cat /usr/lib/dracut/dracut.conf.d/02-generic-image.conf\nhostonly=\"no\"\n\nThe result is that the generated initrams does not contain:\n\n- /etc/systemd/journald.conf\n- /etc/systemd/system.conf\n- /etc/hostname\n- /etc/machine-id\n- /etc/vconsole.conf\n- /etc/locale.conf\n- /etc/modules-load.d/*.conf\n- /etc/sysctl.d/*.conf\n- /etc/sysctl.conf\n\nEspecially problematic is the absence of sysctl.conf when ipv6 is\ndisabled via \"KernelDisableIPv6: 1\" because we end up half-disabling\nipv6 and services like rpbcind end up in failed state.\n\nOriginal issue: https://bugs.launchpad.net/tripleo/+bug/1830574\n\nThis commit builds on top of https://review.opendev.org/#/c/661528/\nadding the '--hostonly' option to dracut so to bypass 'hostonly=\"no\"'\neventually contained in the default config file.\n\nChange-Id: Ia4a39721268fe9bb0fdcc8bf4eb148263d4df46e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "etcd: Make HAProxy terminate TLS connections\n\nWhen TLS is enabled for the internal network, HAProxy needs to handle\netcd's TLS termination. Else it will use plain text.\n\nbp secure-etcd\n\nChange-Id: I20651240edcff0953741d4e8e01fa9a7ab185863\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Create separate resource for HAProxy horizon endpoint\n\nThis removes clutter from the main haproxy manifest and allows TLS in\nthe internal network as well. Trying to keep the previous behavior.\n\nbp tls-via-certmonger-containers\nChange-Id: I1a68771cc7be7fb2b32abbad81db7890bd2c5502\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Resolve conflict during module installation for unit tests\n\nSince the change[1] in p-o-i is merged, selinux_core is automatically\ninstalled during unit test and inistallation of modules fails if we\nhave the same module included in Puppet_extras file.\n\nThis patch removes selinux_core from Puppet_extras because for\nthe current CI jobs of puppet-tripleo it's enough if the package is\nsomehow installed during unit tests.\n\n[1] ef3c5dc9b7294b38b95c4e900bd142987472f976\n\nCloses-Bug: #1894984\nChange-Id: I15e541a641969af7ac117faf13d67827662e7ca6\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Make reply_ and _fanout queues non HA\n\nBased on [0][1] for better performance of rabbitmq cluster,\nshort-living queues should not be replicated for HA. Those are not only\namq.* but reply_* for RPC calls and *_fanout for casts/notifications.\n\nNote: there had been quite a few fixes in oslo.messaging to address the\nmissing reply_ queues, and the most recent was [2]\n\n[0] https://wiki.openstack.org/wiki/Large_Scale_Configuration_Rabbit\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016569.html\n[2] https://review.opendev.org/q/Id5cddbefbe24ef100f1cc522f44430df77d217cb\n\nChange-Id: Ibf95bb7029cbe7f7bf8823fe2e724e9cafbf31c6\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Cleanup the firewall logic.\n\nWe added code in t-h-t to strip empty services from the service_names\nlist. (These are often the result of a service set to OS::Heat::None).\n\nAs such we can now drop this puppet reject statement.\n\nChange-Id: Ie66f14f183de7e44a1f69af862f7d4be9a14c904\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable usage of \"short names\" for Galera cluster\n\nWe're not able to use FQDNs yet, so to work around this, we give\nprecedence to a \"short name\" list we'll get from t-h-t.\n\nChange-Id: I4ef7786474c229d5212a0deb2ca02ee992b030d8\nRelated-Bug: #1628521\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Handle redirects for keystone\n\nIf keystone sends a redirect and we have TLS enabled, we need to\nmodify the response in order to indicate https.\n\nChange-Id: Icd61f527473bfe5153e058e94f9ed141cf13812d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add missing base apache configs when internal TLS\n\nSome services are missing the base apache configuration, when\nrunning with TLS and under WSGI. Address that in its base\nprofiles.\n\nRelated-Bug: #1835414\n\nChange-Id: I8148a039ab9dcbc97baff141aae6ebab4c27e16d\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable TLS for MySQL's replication traffic\n\nThis enables the options so Galera can use TLS for the replication\ntraffic.\n\nbp tls-via-certmonger\n\nDepends-On: I9252303b92a2805ba83f86a85770db2551a014d3\nChange-Id: I2ee3bf4bbda3f65f5b03440ecbc75f14225a2428\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Use rabbitmq ipv6 flag\n\nThe internal details of enabling IPv6 have moved upstream[1], so just\nset the ipv6 flag when desired and don't worry about the details\nanymore!\n\n[1] https://github.com/puppetlabs/puppetlabs-rabbitmq/pull/552\n\nCloses-Bug: #1710658\n\nChange-Id: Ib22507c4d02f0fae5c0189ab7e040efac3df7e2f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Make the rabbitmq-ready exec more stringent\n\nCurrently we use the following command to determine if rabbit is\nup and running *and* ready to service requests:\nrabbitmqctl eval \"rabbit_mnesia:is_clustered().\" | grep -q true\n\nNow we have occasionally observed that rabbitmqctl policies commands\nwhich are executed after said exec['rabbitmq-ready'] will fail.\n\nOne potential reason is that is_clustered() can return true *before*\nthe rabbit app is actually running. In fact we can see it does\nreturn true even though the app is stopped:\n()[root@controller-1 /]$ rabbitmqctl stop_app\nStopping rabbit application on node rabbit@controller-1 ...\n()[root@controller-1 /]$ rabbitmqctl eval 'rabbit_mnesia:is_clustered().'\ntrue\n\nLet's switch to a combination of commands that check for the cluster to\nbe up *and* the rabbitmq app to be running:\n()[root@controller-1 /]$ rabbitmqctl stop_app\nStopping rabbit application on node rabbit@controller-1 ...\n()[root@controller-1 /]$ rabbitmqctl eval 'rabbit_nodes:is_running(node(), rabbit).'\nfalse\n\nSuggested-By: Bogdan Dobrelya <bdobreli@redhat.com>\nCloses-Bug: #1835615\n\nChange-Id: I29f779145a39cd16374a91626f7fae1581a18224\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add missing ssl ports for ovn_sbdb and ovn_nbdb\n\nChange-Id: I1df3eaa5ebdaa16130501cd7afe6687c1a8e8aeb\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Restrict mongodb memory usage\n\nCurrently, mongodb has no limits on how much memory\nit can consume. This enforces restriction so mongodb\nservice limits through systemd.\n\nThe puppet-systemd module has support for limits. The\nMemoryLimit support is added in the follwoing pull\nrequest https://github.com/camptocamp/puppet-systemd/pull/23\n\nCloses-bug: #1656558\n\nChange-Id: Ie9391aa39532507c5de8dd668a70d5b66e17c891\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable object-expirer on Swift proxy profile\n\nThis service is required to delete expired automatically. It is often\nrun on the proxy nodes, therefore adding it to the Swift proxy profile.\n\nChange-Id: I3250c205ffc166ae628bc427de2e3492d086c3bb\nCloses-Bug: 1645657\n",
        "issue_summary": ""
    },
    {
        "commit_message": "rate limit iptables logging\n\nWe currently have the following rule in the post firewall section of our puppet code:\n\ntripleo::firewall::rule{ '998 log all':\n  proto => 'all',\n  jump => 'LOG',\n}\n\nThe problem is that with this rule we log every single packet which is rather suboptimal:\nJul 10 05:05:03 overcloud-controller-1 kernel: IN=vlan20 OUT= MAC=1a:1a:0a:72:8a:0c:ba:ac:11:55:28:28:08:00 SRC=172.16.2.10 DST=172.16.2.14 LEN=228 TOS=0x00 PREC=0x00 TTL=64 ID=59388 DF PROTO=UDP SPT=43036 DPT=5405 LEN=208\nJul 10 05:05:03 overcloud-controller-1 kernel: IN=vlan20 OUT= MAC=1a:1a:0a:72:8a:0c:ba:ac:11:55:28:28:08:00 SRC=172.16.2.10 DST=172.16.2.14 LEN=228 TOS=0x00 PREC=0x00 TTL=64 ID=59391 DF PROTO=UDP SPT=43036 DPT=5405 LEN=208\nJul 10 05:05:03 overcloud-controller-1 kernel: IN=vlan20 OUT= MAC=1a:1a:0a:72:8a:0c:ba:ac:11:55:28:28:08:00 SRC=172.16.2.10 DST=172.16.2.14 LEN=228 TOS=0x00 PREC=0x00 TTL=64 ID=59392 DF PROTO=UDP SPT=43036 DPT=5405 LEN=208\n...\n\n(undercloud) [stack@undercloud stonith-scalingup-issue]$ grep IN=vlan20 sosreport-overcloud-controller-1-20180710070209/var/log/messages |wc -l\n8682\n\nLet's start by ratelimiting this to a burst of 15 messages\nand 20 messages per minute. According to [1] this means that\nwe will have 15 messages logged before the 20 messages per minute\nlimit kicks in.\nLet's also add a parameter so that an operator can override this\nin case the defaults are not suitable for her/him.\n\n[1] https://netfilter.org/documentation/HOWTO/packet-filtering-HOWTO-7.html\n\nChange-Id: Ie8fe28e582bdcf51b819d5ca7f979b0a21597768\nCloses-Bug: #1781171\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Deploy cinder over Apache httpd\n\nThis adds the necessary resources to the manifest to run cinder\nto run over httpd. The service name will be moved to t-h-t in a\nsubsequent commit, but since this patch depends on t-h-t, we try to\navoid circular dependencies of repos.\n\nChange-Id: I950257e3b5d8db071752e53557115429574e98e2\nDepends-On: Ic1967a6f4f60a273965811516f33121115d518b4\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Always override X-Forwarded-Proto header for Heat\n\nHeat has the ssl middleware to handle the X-Forwarded-Proto header by\ndefault. We override this header when SSL is enabled because we need\nto, but overriding it even when we won't be terminating SSL will\nprevent some attacks using this header.\n\nChange-Id: I0b2c61cd4f47c8c08a84402af310983af752d3f2\n",
        "issue_summary": ""
    },
    {
        "commit_message": "placement: Initial extraction of the Placement service from Nova\n\nThis initial change duplicates the existing Nova Placement parameters\nand classes with extracted versions to avoid disrupting CI during the\nswitch.\n\nChange-Id: Ieb5b6586bfcdcf4fe5aef7338ee17f7c9e55b607\n",
        "issue_summary": ""
    },
    {
        "commit_message": "start nova-compute when keystone resources are created\n\n1. Move keystone resources management at step 4.\n2. Move nova-compute startup at step 5.\n\nThat way, we make sure nova-compute will start when all Keystone\nresources are ready.\n\nChange-Id: I6e153e11b8519254d2a67b9142bf774a25bce69d\nCloses-Bug: #1663273\n",
        "issue_summary": ""
    },
    {
        "commit_message": "MySQL client: Make CA file configurable\n\nIt used to be hardcoded to use the OpenSSL default CA Bundle, however,\nthis will be changed in t-h-t.\n\nChange-Id: I75bdaf71d88d169e64687a180cb13c1f63418a0f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable TLS in the internal network for RabbitMQ\n\nThis optionally enables TLS for RabbitMQ  in the internal network. Note\nthat this leaves enable_internal_tls as undef instead of using the\nregular default. This is because we don't want to enable this just now,\nsince we first want to pass the necessary hieradata via t-h-t. This will\nbe cleaned in further commits.\n\nbp tls-via-certmonger\nDepends-On: I4f37e77ae12e9582fab7d326ebd4c70127c5445f\nDepends-On: Ic32b2cb253fa0dc43aad7226b24919b7e588faa9\nChange-Id: Ic2a7f877745a0a490ddc9315123bd1180b03c514\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Neutron wrappers: lookup for THT parameter\n\nFor Neutron DHCP & L3 agents, lookup for DockerAdditionalSockets\nparameter in THT.\nIt basically replaces the default hiera that was taken from the docker\nprofile but this one will be deprecated in this release and removed\nsoon.\n\nAlso, we change the default to be '/var/lib/openstack/docker.sock'\nso it looks for the right socket in default deployments.\n\nChange-Id: I39c84c462793bfe819f876583782acbe0619a89d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Split ovn plugin and northd configuration\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Revert \"Add httpchk for http services\"\n\nhttps://bugs.launchpad.net/tripleo/+bug/1668493\nI thought about a fix for ceph_rgw, but I realized\nwe might have missed other services too, specially\nthe ones we're not testing in CI.\nWe need to revisit this work and probably\nmake the code more robust for the services where\nno CI coverage is done.\n\nRelated-Bug: #1668493\nThis reverts commit ebcc470ea8a632e6d5c13561a97e817d5f290aac.\n\nChange-Id: I3f79c881d8aeda361a59f9952948355986a7c835\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove database code from puppet-tripleo\n\nThe Galera code has been merged upstream directly into\ntripleo-heat-templates[1], since this code is not used we can remove it.\n\n[1] https://review.openstack.org/#/c/177765/\n\nChange-Id: I536cf9b561b93ff26d03183331b6a527ab851286\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Loadbalancer: Add support for Redis\n\nAdd support for Redis in the loadbalancer setup.\nRedis loadbalancing system is particular as it does not provide\nclustering capabilities yet, hence this pattern[1] will be applied.\n\n[1] https://github.com/falsecz/haredis\n\nChange-Id: I80a6c284af9eceb6b669a03c5d93256261523331\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Refactor SSHD config to allow both SSHD options and banner/motd to be set\n\nIn https://review.openstack.org/#/c/444622/7 the sshd_options and banner/motd\nare mutually exclusive. This patch, and the next patchset of that review,\nresolves the conflict.\n\nRelated-Bug: 1668543\n\nChange-Id: I1d09530d69e42c0c36311789166554a889e46556\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Revert \"Revert \"Set meta container-attribute-target=host attribute\"\"\n\nThis reverts commit 1681d3bceb2834e8788cc4456d65a76bcf4e1e55. \n\nNOTE: This needs to be tested against scenario004-containers before merging.\n\nThis is needed because when we run bundles we actually\nwant to store attributes on a per-node basis and not on a per-bundle\nbasis. By activating this attribute pacemaker will pass\nsome extra OCS_RESKEY_CRM_meta attributes that will help us in this\ndecision.\n\nWe can merge this once we have packages for pacemaker and\nresource-agents releases that contain the necessary fixes.\n\nProper pacemaker and resource-agents are now in the repo [1] so\nwe can merge it and backport it to pike.\n\n[1] https://buildlogs.centos.org/centos/7/cloud/x86_64/openstack-pike/\n\nCloses-Bug: #1713007\n\nChange-Id: Ie968470126833939c19223f04db29556e550673d",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove neutron-managed firewall rules from /etc/sysconfig/iptables\n\nSee https://bugzilla.redhat.com/show_bug.cgi?id=1541528\n\nWe don't want IPtables rules managed by Neutron to be persistent, it can\ncause issues when rule are recreated while a namespace doesn't exist.\n\nThis patch makes sure that in any Neutron node, no IPtables rule will be\npersistent if it contains \"neutron-\" in the name.\n\nChange-Id: Ife465c2c6739c3cbfb9923ed97f370baa745739c\nRelated-Bug: #1747960\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Puppet module to deploy Manila Share bundle for HA\n\nThis module is used by tripleo-heat-templates to configure and deploy\nKolla-based manila-share containers managed by pacemaker.\n\nWe use short-lived containers that call pcs via puppet to create\nthe needed pacemaker resources, properties and constraints.\n\nBased on work done in fc5bc07b3be401694681420ba453af29b95a9fcf\n\nChange-Id: I89f65e8a34a3a88029498463942016a9f5285f1c\nPartial-Bug: #1668922\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Allow user to define a custom tuned profile\n\nAdd custom_profile parameter to tripleo::profile::base::tuned\nwhich may a string in INI format describing a tuned profile\nwhich puppet will then create and apply with the name supplied\nby the profile parameter.\n\nChange-Id: Iba17d86bbdd710623ba1ba44b1ea5d4c1b99c541\nRelated-Bug: #1800232\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix a typo in haproxy.pp\n\nTrivialFix\n\nChange-Id: Ibbd79ef0db6585e1eed2936bb9aa08c894d5af13\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"xinetd: bind only on mysql network\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove share_backend_name from Dell-EMC manila backends\n\nThis parameter has a default value from puppet-manila\nex: [1], and doesn't need to be specified here.\n\n[1] https://git.openstack.org/cgit/openstack/puppet-manila/tree/manifests/backend/dellemc_unity.pp\n\nChange-Id: I7fa8ffd9af459f138bc182fd6bd307471c87f75d\nCloses-Bug: #1771656\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove explicit hiera calls for heat in keystone profile\n\nThese are now passed via the heat profiles in t-h-t (via\nheat-base.yaml and heat-engine.yaml) and use the actual names of\nkeystone parameters instead.\n\nChange-Id: Id0f5dd03b6757df989339c93b58a5b7eac3402a2\nDepends-On: I0e5124d57fdc519262fdec2dbeaaac85afaeebdf\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Trove integration\n\nAdds configuration for Trove to loadbalancer class.\n\nPartially-implements: blueprint trove-integration\nChange-Id: I3cdf43b6d63ad0ee68db047518743c62b6689f56\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Octavia: Add optional inclusion of driver_agent class\n\n... so that we can maintain all of class inclusions in puppet-tripleo.\n\nChange-Id: Ia90921a840a1dd0dad7d6617d123c59e79f803bf\n",
        "issue_summary": ""
    },
    {
        "commit_message": "ironic: add support for the ansible deploy method\n\nChange-Id: Idc521e2664f5fcd9884f44824d91385049221685\nImplements: blueprint ansible-deploy\nDepends-On: I55aecb95bc3ab1264487bcda5870b6e4fc7aa787\n",
        "issue_summary": ""
    },
    {
        "commit_message": "HPELeftHandISCSIDriver support for cinder\n\nCinder Backend configuration support for\nHPELeftHandISCSIDriver for VSA storage\n\nChange-Id: Ia7e5f3d436283f7949b0eb8f109b3dc0309af4f5\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Ensure package updates don't happen unexpectedly\n\nI'm seeing this run yum update on deploy, even though hiera\ntripleo::packages::enable_upgrade says false.\n\nI assume these are needed because we're getting \"false\", but I'm\nunclear if this is a recently introduced problem (I only noticed it\ntoday as my image has outdated centos packages and it thus hung on\nstep2 of the deploy.\n\nChange-Id: If09cdde9883f2674dbbc40944be5fe4445caa08e\nCloses-Bug: #1652107\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Glance: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: I1e2dcec22f74e47a48d6f29b177c14cd2b41a666\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Pacemaker: Replace hiera by lookup (1)\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Add panko service support\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"profile/nova/compute: add iscsi bits\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Re-organizes Contrail services to the correct roles\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove duplicate entry of collectd-python package\n\nhttps://github.com/voxpupuli/puppet-collectd/commit/672452018abefde44f18de9cb75a3102e0745f61\nin puppet-collectd adds supports of CentOS-8 and collect-python\npackage is already defined there.\n\nIn puppet-tripleo, it started complaining about duplicate entry of\ncollectd-python package, removing the same fixes for puppet-tripleo\nfixes the issue.\n\nCloses-Bug: #1866965\n\nChange-Id: If1a2c65c4208c2255a3140134204e240496ec8b6\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add explicit logging class inclusion\n\nThese have been dropped from some of the puppet classes by default. We\nstill need to include them so our debug logging works.\n\nChange-Id: I4e65219d9669fdd16b2663b7239354330ffbae38\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Unpin puppet-rsyslog\n\n... because usage of removed rsyslog::server has been replaced.\n\nChange-Id: I3a2a5f41d829c53af520dac1619fea30fa623823\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Update resource references for dependencies\n\nThe latest version of puppet now reports these as catalog failures so\nthis change removes the unnecessary references and the references\nshould be updated.\n\nCloses-Bug: #1702964\nChange-Id: Iebc547aa92f9f40e4a633c57d79e6c9cddb5dd28\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Rebuild initramfs after applying change in kernel parameters\n\nThis patch makes sure that initramfs is rebuilt after applying\nchange in kernel pamraters, so that we also have these change\napplied in initramfs.\n\nChange-Id: I3de131c022e183cb29aa1c5c9913af736afd0c4d\nCloses-Bug: #1830574\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Normalize civetweb binding address if IPv6\n\nThe civetweb binding format is IP:PORT; this change ensures the IP\nis enclosed in brackets if IPv6.\n\nTo do so we add the bind_ip and bind_port parameters to the\nrgw service class.\n\nChange-Id: Ib84fa3479c2598bff7e89ad60a1c7d5f2c22c18c\nCo-Authored-By: Lukas Bezdicka <social@v3.sk>\nRelated-Bug: #1636515\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Include ovs_driver and sriov_driver classes in base neutron profile\n\nThis classes are needed to configure things related to the\nsriov or ovs mechanism drivers on neutron server like e.g.\nvnic_type_blacklist.\n\nDepends-On: https://review.opendev.org/756527\n\nChange-Id: Ia014cb098591a28ddfcd8b3dff536fa2337d23a8\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Revert \"set innodb_file_per_table to ON for MySQL / Galera\"\n\nThis reverts commit 621ea892a299d2029348db2b56fea1338bd41c48.\n\nWe're getting performance problems on SATA disks.\n\nChange-Id: I30312fd5ca3405694d57e6a4ff98b490de388b92\nCloses-Bug: #1661396\nRelated-Bug: #1660722",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"MySQL: configure ::zaqar::db::mysql selectively\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix broken rabbitmqctl commands when using ipv6\n\nWhen deploying via ipv6, rabbitmq-ctl commands have the following\nissues:\n\n- `rabbitmq cluster_status` shows nodedown alerts\n- list_queues / list_connections hang\n- `rabbitmqctl node_health_check` fails with an error.\n\n* There is no any issue while performing activity on RHOS setup(From\n* horizon/cli). i.e. RHOS environment is functioning as expected.\n\nFor example:\nsudo rabbitmqctl node_health_check -n rabbit@node1\nChecking health of node 'rabbit@node1' ...\nHeath check failed:\nhealth check of node 'rabbit@node1' fails: nodedown\n\nThe problem is that we are missing the following in\n/etc/rabbitmq/rabbitmq-env.conf:\nRABBITMQ_CTL_ERL_ARGS=\"-proto_dist inet6_tcp\"\n\nFix these by setting the appropriate RABBITMQ_CTL_ERL_ARGS when\ndeploying ipv6.\n\nCloses-Bug: #1633693\nChange-Id: I53f4e76e687b3966fbb74fd0c2d83f05176630de\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Let haproxy_defaults be overridable\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Expose enable_combination_alarm setting\n\nCombination alarms are deprecated in Newton and hence turned off\nby default. This allows users still using this type of alarms to\nflip the flag and use until they migrate themselves to composite\nalarms.\n\nChange-Id: I9220b7d020dc8ed45dd6ca83ea9647efd67ea648\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Support both rabbitmq and oslo.messaging service nodes\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Disable midonet unit tests\n\n'https://github.com/midonet/puppet-midonet' doesn't exist anymore, we\nneed to migrate to 'https://github.com/openstack/puppet-midonet' but\ntests will fail.\n\nWe need to work with Midokura to get them fixed. In the meantime, let's\ndisable it.\n\nChange-Id: Id39bc5a8cd229df3e9b597a0a0f3eada838f4953\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Allow the Redis specific monitor to use authentication\n\nWhen accessing Redis, if password protected, we need to update\nthe HAProxy checks so that they use a password or we won't be able\nto gather which node is the replica master.\n\nAlso adds PING/PONG and QUIT/OK sequence before and after the info\ncommand is sent.\n\nMore at https://bugzilla.redhat.com/show_bug.cgi?id=1320036\n\nChange-Id: Ia9e61e66c5426061eab8172f0a25820989597780\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix Swift ring management in container deployments\n\nThe ring up- and downloading was never executed if run within a\ncontainerized environment. This is due to the fact that this manifest\ngets executed within step 6(5) only. There is also an ordering issue,\nwhich actually tries to create the tarballs before rebalancing.\n\nThis patch fixes the step conditions and also chains the tarball\ncreation to the rebalance.\n\nThe check to query rings on all nodes can now be disabled. This is\nrequired on containerized environments: the local ring will be modified\nand rebalanced, but rings on the existing servers are not yet modified.\nTherefore a recon-check will fail, and needs to be disabled.\n\nCloses-Bug: 1694211\nChange-Id: I51c5795b9893d797bd73e059910f17a98f04cdbe\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Glance: Add support for cinder_os_region_name\n\n... so that we can replace the deprecated os_region_name parameter.\n\nDepends-on: https://review.opendev.org/719338\nChange-Id: I618f915fcba9c0151c039a22dbad5b48a6da1e77\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add Ceph RGW profile\n\nThis patch adds tripleo::profile::base::ceph::rgw\n\nCo-Authored-By: Giulio Fidente <gfidente@redhat.com>\nChange-Id: Ib69b8171321284bb64e348d45b7eea2f00f8d506\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Include neutron::server::notification::nova class\n\n... because all parameters for nova notifications have been migrated\nfrom neutron::server::notifications.\n\nDepends-on: https://review.opendev.org/#/c/740616/\nChange-Id: Id16d5fefa22707823f0bd2b0831d574ac217e4aa\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Deprecate the swift_store_config_file parameter\n\n... because we don't expect that users will override that parameter to\nuse their own configuration file instead of the file generated by\npuppet-glance.\n\nRelated-Bug: #1908917\nDepends-on: https://review.opendev.org/768103/\nChange-Id: I5af64632783bc98002333389f32ed255e5f87acb\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Extend fencing to hosts using fence_rhevm agent.\n\nThis commit extends the fencing class allowing operators to use\nfence_rhevm for nodes running on oVirt / RHV.\n\nChange-Id: I1499ef2efce2b5708262d587bf5786a329e10b09\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Use on-marked-down shutdown-sessions for redis haproxy conf\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Add unit tests for tripleo::firewall::service_rules\n\nIn order to get a proper unit test suits, we need to change the\nseparator from the \"dot\" to \"double-semicolons\".\n\nThe \".\" is a reserved character in YAML for hashes. In puppet world,\nwe commonly use \"::\".\n\nUnit tests don't work if we let the \"dot\" separator, and apparently it's\nan intended outcome with that kind of syntax.\n\nFact it's working in the deploy process is kind of black magic (see the\ntripleo::haproxy::service_endpoints resource for example). And the \"dot\"\ncreates something weird, as all other resources are using the standard\ndouble-semicolon.\n\nChange-Id: If53d632ab458b0c04a8b7211194c18ebc8978d23\nCloses-Bug: 1737086\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Support for proxying ironic-inspector via Apache\n\nFuture work in the UI requires Apache to proxy for the\nironic-inspector service the same as it has for other\nrelated services.  This adds support for ironic-inspector\nthrough Apache's mod_proxy\n\nCloses-Bug: 1695202\nDepends-On: Id395604f1dfbc4bf4f26adbe05f484a10227fd76\nChange-Id: I9dcb0769ff90a2fc9561cb86bb822be8087ffe8e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "qdr: Add SSL support\n\nChange-Id: Ia878bc4a877753bc4784b13bf1c22c22e8324c1f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add FFU support for ceph_nfs\n\nThis patch fixes the ceph_nfs upgrade process checking\nfor the short_name variable definition.\nThis is required to properly handle the FFU process for\nthis service.\n\nChange-Id: I89c848bdae1b997b38a5164302acdcca94619471\n",
        "issue_summary": ""
    },
    {
        "commit_message": "haproxy: Remove logic for non-containerized haproxy service\n\n... because current TripleO no longer supports running haproxy service\nat host.\n\nChange-Id: Ic21f33d9a1003b32a1724d2bc4672a646afae211\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Support cinder-volume running active-active\n\nAdd the ability to run the cinder-volume service in an active-active\nconfiguration. This involves two settings:\n\n1) Configure the service's cluster name. This is the signal to the\n   cinder-volume service that it should run in active-active mode.\n\n2) Configure the \"backend URL\" cinder uses for its distributed lock\n   manager (DLM). This patch assumes that DLM is etcd3, and it's\n   accessible via an HTTP gateway.\n\nDepends-On: Ib37c75952fed7c762a71dae3cd169b7753faf6f7\nChange-Id: I615af64086d46356f322094d9f3b4e29557ed899\n",
        "issue_summary": ""
    },
    {
        "commit_message": "SSL/Cinder: enable ssl_header_handler filter\n\nEnable oslo_middleware.http_proxy_to_wsgi:HTTPProxyToWSGI.factory in\nssl_header_handler middlewarefilter so we can run Nova API with SSL\nsupport.\n\nChange-Id: If88dcdf9f4905e2a792b2fdc656eab51c85f637e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fluentd: fixed configuration by service\n\nThe configuration file by service was not\nproperly configured.\n\nAlso clean some double tasks on the tests\n\nChange-Id: I3149902401d68d6fd236073a73a20f982d4b952a\nCloses-Bug: #1746952\nRelated-Bug: #1715187\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove unused parameters\n\nThese parameters were used before we introduced tripleo-ansible roles\nto manage keystone resources.\n\nChange-Id: Ib23ceb4c15cc4f430bfd037f72c119c50fce7203\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Remove support for manila::backend::cephfsnative class\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix typo in SSL file resource\n\npresent=>exists is in valid value and hence we are hitting issue [1].\nThis makes it to use correct value.\n\n[1] https://tickets.puppetlabs.com/browse/PUP-3885\n\nChange-Id: I54a8a6d86ebdb5211ec18eb619351baffb8f2478\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Allow overriding pacemaker_node_ips for staged upgrade\n\nWe already have pacemaker_short_node_names_override, and we need a\nmatching pacemaker_node_ips_override as the two variables must be\noverriden together.\n\nChange-Id: Ibd95f4536c033af2094bd079cc81eeba18a36352\nPartial-Bug: #1832361\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Update DellEMC Manila VNX driver\n\nThis patch adds following 3 options:\n* network_plugin_ipv6_enabled\n* emc_ssl_cert_verify\n* emc_ssl_cert_path\n\nCloses Bug: #1778123\n\nChange-Id: I99c2d9a27502af76e98e4c0b161bb3a31828520c\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Dell EMC SC: Add use_multipath_for_image_xfer\n\nThis change adds support for\ncinder::backend::dellsc_iscsi::use_multipath_for_image_xfer.\n\nChange-Id: I69360b1ee167f8417876c9f6513981ef73e949ae\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Make haproxy.pp honor EnableInternalTLS for rgw\n\nhaproxy.pp assumes that Ceph rgw instances cannot be SSL\nencrypted and generates invalid haproxy configuration files\nin setups where EnableInternalTLS is set to true.\n\nThis patch makes haproxy.pp honor EnableInternalTLS and\ninclude internal_tls_member_options in the member_options\nfor Ceph rgw instances.\n\nChange-Id: If59a27b28eb61ab2c1ff84f5047261e8695234d4\nCloses-Bug: #1883296\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Do not create VIP for pacemaker OVN OCF resource\n\nThe commit with change id [1], added the pacemaker HA support\nfor OVN DB servers. That commit created a new VIP which is\nreally not required.\n\nThis patch removes the code to create a new ip resource. Instead\nit expects the pacemaker ip resource (with the ip address in the\n'ovn_dbs_vip' parameter and with the name \"ip-$ovn_dbs_vip\") to be\ncreated before ovn_northd class is called, which is the case anyway\nif 'ovn_dbs_vip' is taken from the ServiceNetMapDefaults (in t-h-t).\n\n[1] - I9dc366002ef5919339961e5deebbf8aa815c73db\n\nChange-Id: I94d3960e6c5406e3af309cc8c787ac0a6c9b1756\nPartial-bug: #1670564\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove ineffective ovn_remote_probe_interval\n\nThis parameter was introduced to puppet-neutron but it was completely\nwrong and the actual parameter has never been implemented in neutron.\n\nThe interval should be configured in ovn controller, and this is\nalready implemented using puppet-ovn.\n\nDepends-on: https://review.opendev.org/839157\nChange-Id: I53fd5c4795b3f27c58d7731d4b6f43dc45c11092\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable communication between UI and the Undercloud by making HAProxy\nproxy for the UI\n\nChange-Id: I74eac4bbfc16720eeb6e2bf0ee251689dde3bafc\nImplements: enable-communication-ui-undercloud\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable Octavia service_auth configuration\n\nThis patch enables configuring Octavia's service_auth section which is\nrequired for service-to-service communication.\n\nDepends-On: Ifcd38386db386ee6d61aa7f262b1e14ac6516eb7\nChange-Id: I67ab537d1b2a82f17657ed90f794f0fa13c5207f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Include octavia::controller\n\nCommits https://review.openstack.org/#/c/612395/ and\nhttps://review.openstack.org/#/c/619013/ deprecated some\nparameters in class octavia::worker and moved them to the new class\noctavia::controller. The latter commit also removed the include of the\ncontroller class so because of that we have to include it in the Octavia\nservices manifest files in puppet-tripleo.\n\nPartial-Bug: #1805345\n\nChange-Id: I0256e125de367615c21343683ed5311521d8337c\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable support for openidc federation in keystone\n\nThis enables the support for OpenIDC federation in\nkeystone::federation::openidc.\n\nChange-Id: Id2ef3558a359883bf3182f50d6a082b1789a900a\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add unit test for tripleo::haproxy::service_endpoints\n\nIn order to get a proper unit test suits, we need to change the\nseparator from the \"dot\" to \"double-semicolons\".\n\nThe \".\" is a reserved character in YAML for hashes. In puppet world,\nwe commonly use \"::\".\n\nUnit tests don't work if we let the \"dot\" separator, and apparently it's\nan intended outcome with that kind of syntax.\n\nFact it's working in the deploy process is kind of black magic (see the\ntripleo::firewall::service_rules resource for example). And the \"dot\"\ncreates something weird, as all other resources are using the standard\ndouble-semicolon.\n\nChange-Id: I78625a6e69f58dfb2bbad83fdd4f798cd3f4c281\nCloses-Bug: 1737086\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Configure Ceph/OSD after Ceph/Mon when on same node\n\nWhen both the Ceph Monitor and OSD roles are deployed on the same\nnode, we need the OSD configuration to happen *after* the Monitor\nconfiguration is finished.\n\nChange-Id: Id2ea099a0aaba344004870e82108da288cba2cb7\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Make pipeline config more flexible\n\nThis patch:\n  - moves Ceilometer notification agent to correct class\n  - adds posibility to configure query parameters\n  - avoid setting gnocchi publishers by default\n\nChange-Id: I5cd0b6e99f5ffcc495225c61f0773240d90e7930\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Cover gnocchi api step 4 and 5\n\nUpdate the gnocchi api to expose the redis information as a class\nparameter so it can be tested correctly.\n\nChange-Id: I075b4af5e7bb35f90f7b82f8fb1b6d6ad6363b71\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Split ovn plugin and northd configuration\n\nThis allows us to use the composable services interfaces to handle\nproviding the IP address for northd, and will be more flexible in\nthe event folks want to deploy northd/ovndb on a different node to\nthe neutron plugin.\n\nThis also adds ovn_northd to the haproxy configuration so we can access\nit via the ovn_northd_vip in other service profiles.  Note we need\nto ensure the haproxy config only hits the bootstrap node as northd\nwon't be running on the other nodes.\n\nChange-Id: I9af7bd837c340c3df016fc7ad4238b2941ba7a95\nPartial-Bug: #1634171\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Ironic-inspector: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: I4d5659cca512a35b72823bc8f7a048bd1abb786d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Make docker network configurable\n\nThe default docker0 address conflicts with the InternalApiNetCidr value\nset in environments/network-environment.yaml. We should provide a way\nto make the docker network configurable.\n\nChange-Id: Ie803b33c93b931f7fefb87b6833eb22fd59cd92d\nRelated-Bug: #1726773\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove some of the excessive rabbitmq bundle logging\n\nBy removing the pam-systemd optinal session line we get rid of the\nfollowing line:\npam_systemd(su:session): Failed to connect to system bus: No such file or directory\n\nIt is useless inside a container anyway since the pam_systemd module\nregisters user sessions.\n\nBy adding a sufficient pam_succeed_if call fo when the user belongs to the\nrabbitmq group we get rid of the following spurious log:\nOct 23 13:52:52 overcloud-controller-0 su: pam_unix(su:session): session opened for user rabbitmq by (uid=0)\nOct 23 13:52:54 overcloud-controller-0 su: pam_unix(su:session): session closed for user rabbitmq\n\nWe do not need this inside a container anyway. In the future (w/\npam_unix 1.2.0 and onwards we will be able to use the quiet option\ninstead).\n\nDepends-On: Ic0789da4645a4ee186d82ad7d943de78d4d5c443\n\nChange-Id: Icd199ca4ce4848c971488d8ab69e668add86b150\nRelated-Bug: #1806451\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Add openshift API to haproxy LB configuration\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Bind openshift-master to the public network\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Allow external Ganesha for the cephfs manila backend\n\nParameters are added here [1]; however one can use\nControllerExtraConfig to configure the missing params.\n\n[1] https://review.opendev.org/#/c/661287/\n\nSee: blueprint manila-external-ganesha\nCo-Authored-By: Giulio Fidente <gfidente@redhat.com>\nChange-Id: Ib8e7ef5b58cc0a6d125502081c1459ccf6648ee2\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable config for docker daemon debug\n\nExposes a way to configure the docker daemon with debug enabled.\n\nChange-Id: I654a70c8bb7753679be83d78ca653ed44c3a7395\nRelated-Bug: #1710533\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Create heat user in keystone profile\n\nRather than use the heat::keystone::domain class which also includes the\nconfiguration options, we should just create the user for heat in\nkeystone independently of the configuration.\n\nChange-Id: I7d42d04ef0c53dc1e62d684d8edacfed9fd28fbe\nRelated-Bug: #1638350\nCloses-Bug: #1638626",
        "issue_summary": ""
    },
    {
        "commit_message": "Cinder: Include new puppet classes for castellan options\n\nThe keymgr_* parameters are deprecated and these parameters will be\ncompletely migrated to cinder::key_manager. This change ensures the new\nclasses are included.\n\nDepends-on: https://review.opendev.org/772139\nChange-Id: I5f75433dcb0804cfa1f0007bed70f91371105e5a\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Correct wrong name in certmonger_certificate for ovn_controller\n\nChange-Id: I69f48b174381f3959b2819aec714bbba8bf9cda8\n",
        "issue_summary": ""
    },
    {
        "commit_message": "loadbalancer: remove controller_host\n\ncontroller_host was deprecated and is not used anymore anywhere.\nLet's drop it.\nAlso make controller_hosts really required, by not setting a default\nparamter, so Puppet catalog will fail if no value is given.\n\nChange-Id: Iad760115f925e848e4b72009db5177f88ceb4ad8\n",
        "issue_summary": ""
    },
    {
        "commit_message": "packages: run upgrade at 'setup' stage\n\nInstead of using an operator to make sure we upgrade package before any\nservice, which causes dependency cycles with iptables puppet module,\nlet's do another approach where we upgrade rpms in the 'setup' stage,\nwhich is a stage that runs before configure and running services.\n\nIn that way, we'll remove dependency cycles and make sure packages are\nupgrades before configure and running TripleO services.\n\nChange-Id: I1be83f88be1959885c980ab4f428477d412751f7\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Convert ceph_pools into a hash type\n\nBy using create_resources we can create ceph::pool resources from\na hash. This will make it possible to define custom attributes\nfor the single pool from the heat templates.\n\nChange-Id: I38978f0f3119e4ab7dd45021e598253cb066cb5a\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Include missing config classes\n\nIf a user wants to use an extra config to tune something that we do not\ncurrently expose then they need to use the various config classes\navailable in the puppet modules. This change adds an include for the\nmissing classes for congress, ironic, sahara, tacker and zaqar.\n\nChange-Id: Ic3bea5a2081fc5194471e35b765e7ef8a9f5b036\nRelated-Bug: #1793361\n",
        "issue_summary": ""
    },
    {
        "commit_message": "haproxy: Use healthcheck middleware to monitor service availability\n\nThis change makes that haproxy monitors service availability by sending\nHTTP request which is responsed by healthcheck middleware, to ensure\nthat backend api can respond to requests.\n\nChange-Id: Idbfe6a8e110ec24d9fe64e43d82772bb05fa00ba\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove table 17 from OVS OF pipeline sync\n\nOpenFlow flows for table 17 now only appear after a port is created and\nthere is no longer a default flow during the deploy stage. Therefore\nremove the check for table 17 existing during deployment.\n\nCloses-Bug: 1781616\n\nChange-Id: Ie988ba6a2d444a614e97c0edf5fce24b23970310\nSigned-off-by: Tim Rozet <trozet@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Retry Swift ring up-/downloads on failures\n\nThe current way never retries up- or downloading the rings from the\nundercloud. This is risky, for example when there are temporary network\nissues.\n\nThis patch adds retries to the curl commands. It does so in two ways:\n\n1. curl retries up to 3 times if there is an HTTP error. This could\nhappen for example if the proxy is accessible, but the proxy itself\ncan't connect to a backend server. Note that curl returns an exit code\nof 0 if there is an HTTP error, so curl itself needs to retry in this\ncase.\n\n2. If curl fails hard (for example due to an network error, proxy being\ndown etc) the whole command will be re-executed up to 3 times by Puppet\nitself. The default timeout has been set to 30 seconds instead of the\ndefault timeout of 300 seconds.\n\nChange-Id: I21f732c1afa9d472f4a2fb840b6ddad9b8d65d07\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Ssh: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: I1c8402cc7a5edad14d8f8fc159f0b2aa1a350a77\n",
        "issue_summary": ""
    },
    {
        "commit_message": "mysql: fix root password update for containerized mysql\n\nSince the mysql service has been containerized, we lost the ability\nto update the root password during a stack update.\n\nWhen the mysql root password in hiera differs from the one currently\nset in the mysql DB, connect to the DB with password from .my.cnf and\nupdate credentials of the root user before the puppet mysql module\ntries to access the database. Also update other root DB users.\n\nChange-Id: I8fe9a640ba36288a1f9cb18563b363159d4731c0\nDepends-On: I5bdbc89897a6dcd5bd57f2132e2acf99702b28ea\nCloses-Bug: #1792416\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Ensure basic Ceph configuration is performed by RBD mirror\n\nPreviously we missed to perform the basic Ceph client configuration\non a node where only the RBD mirror service was deployed.\n\nChange-Id: Ie6a4284a88714bcee964a38636e12aa88bb95c9d\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\nRelated-Bug: #1652177\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add support to configure token caching in keystone\n\nAdd support to configure token caching in keystone[1] using\nmemcached, so that we can improve performance about token\nvalidation.\n\n[1] https://docs.openstack.org/keystone/latest/admin/configuration.html#caching-layer\n\nChange-Id: I351eb64ff1df652b0a284d8cd3d835cec58a310f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove unused netmask_to_cider function\n\nThis function was used by contrail manifests which were already removed\nby [1].\n\n[1] 5967b1ff65857ae406f48160968b2ff7122afbb6\n\nChange-Id: I2b20252a70feeb52d7723ed1aab26115187a91ed\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Manila: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: I2614b8f42c45ba9f5143d51401c1d48d469a4ef8\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Make sure neutron [placement] config section is set\n\nEven if the hiera keys for the [placement] config section\nget created [1], the section is not being created/filles as the\n::neutron::server::placement class is not included anywhere.\n\nThis includes ::neutron::server::placement to have the section\ncreate in the neutron.conf\n\n[1] https://github.com/openstack/tripleo-heat-templates/blob/master/deployment/neutron/neutron-api-container-puppet.yaml#L391-L400\n\nDepends-On: https://review.opendev.org/700250\nChange-Id: Iededba802be4b88e3b232a7b7474f2f981e40a08\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove OpenDaylight support\n\n... because OpenDaylight tempmates and environemtns were alredy removed\nin tripleo-heat-teampltes[1].\n\n[1] 9c3638b8a13ea08a1bab95c9cd6ab335b729b6b3\n\nChange-Id: I0204b6985de71441e0f63f21cfda24d55fd340e5\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Tuned should be configured properly\n\nCurrently tuned uses the wrong profile on compute nodes. This patch will\nallow users to update their tuned profile.\n\nFixes bug 1667524\n\nChange-Id: Ic67aca7f5338ea4bb2d3843201e122c72d97056e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Set bootstrap_nodeid to undef by default\n\nbootstrap_nodeid is a parameter looked-up with Hiera but only set on\ncontrollers. With the transition to composable roles, we don't need to\nset this parameter on compute nodes, so let's just default this value by\nundef so we can deploy Neutron classes on compute nodes.\n\nChange-Id: I94034f696c163969a7489d9cb0a20423210d3b84\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Allow neutron_options customization for dashboard\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Add barbican profile\"",
        "issue_summary": ""
    },
    {
        "commit_message": "ironic/api: include cors config\n\nNeeded to configure API cors.\n\nChange-Id: Ide044fa1e7bb6a2fd1d80e380868f85a519679af\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Change the name of the HAProxy service to reflict the new name\n\nChanged the name of the haproxy service so it will reflect the \nnew name of the service, and a reload will be possible for the cron\njob.\n\nChange-Id: I66ee58f3b4fd2f10ceba6306497ac796daaf98e8\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove puppet-certmonger related puppet-files\n\nImplements: blueprint ansible-certmonger\nDepends-On: https://review.opendev.org/771832\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/786053\nChange-Id: I5305bce78e9bbf382b00e3f3b5803b983a059db7\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Increase haproxy client/server timeout for swift-proxy\n\nThe upload and extraction for the plan tarball to swift can take\nlonger than the default one minute in slower environments. Doubling\nthe timeout to two minutes has proven to help.\n\nThis is only a partial fix, because the error reporting for this\nissue also needs to be improved.\n\nChange-Id: I06592d38fdfefacc8bdf76289a0bfa20eb33a89b\nPartial-Bug: 1635269\n",
        "issue_summary": ""
    },
    {
        "commit_message": "gnocchi: move statsd and metricd at step5\n\nGnocchi statsd and metricd require Keystone resources to be in place\nwhen using Swift backend, because those services will try to access to\nSwift containers.\n\nTo do so, we want to move the service start at step 5 instead of 4 and\nalso require Keystone resource to be managed before starting the\nservices.\n\nChange-Id: Ie5bc1481a8700c7cd080a76d0978146a84825767\nCloses-Bug: #1621164\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Pin puppet-collectd\n\npuppet-collectd introduced a change which requires stdlib 4.25:\nde0a96e86651 - (2018-03-17 00:12:21 +0100) feat: bump minimum puppetlabs/stdlib version to 4.25.0\nc0c5ba9357ea - (2018-03-16 23:54:58 +0100) feat: use Stdlib::Fqdn type for package_keyserver\n\nLet's pin the repo to the change which is already being used in RDO at\nhttps://github.com/redhat-openstack/rdoinfo/blob/master/rdo.yml#L1467\n\n(aka 93c8d0bd32bb5610652f30e785ba6644fc82a8b6 \"Merge pull request #751 from bastelfreak/test\")\n\nCloses-Bug: #1756890\nChange-Id: I197e8036a4f5c790a833d037d03ba6822f5488eb\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Pacemaker support for OVN DB servers\n\nThis patch enables OVN DB servers to be started in master/slave\nmode in the pacemaker cluster.\n\nA virtual IP resource is created first and then the pacemaker OVN OCF\nresource - \"ovn:ovndb-servers\" is created. The OVN OCF resource is\nconfigured to be colocated with the vip resource. The ovn-controller and\nNeutron OVN ML2 mechanism driver which depends on OVN DB servers will\nalways connect to the vip address on which the master OVN DB servers\nlisten on.\n\nThe OVN OCF resource itself takes care of (re)starting ovn-northd service\non the master node and we don't have to manage it.\n\nWhen HA is enabled for OVN DB servers, haproxy does not configure the OVN DB\nservers in its configuration.\n\nThis patch requires OVS 2.7 in the overcloud.\n\nCo-authored:by: Numan Siddique <nusiddiq@redhat.com>\nChange-Id: I9dc366002ef5919339961e5deebbf8aa815c73db\nPartial-bug: #1670564\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add openstack-kolla to docker-registry profile\n\nKolla will be used to build container images and populate the local\ndocker registry.\n\nChange-Id: I325a5248754d269d77eaf78224c7379dd81d6053\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Extra variables to reprovision pacemaker cluster one node at a time.\n\nFor the upgrade we have to re-provision the controller cluster, one\nnode at a time.\n\nUsing extra override variable set in hiera we are able to specify to\npacemaker which nodes should be added to the cluster.\n\nChange-Id: I2f6ef4679265718fbbe8726ee6c81832bc468f3e\nImplements: blueprint upgrades-with-os\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Update cephx keys with ACLs for openstack services.\n\nThis patch will set file system ACLs on the ceph client keyring.\nThis will help resolve (1) for OSP Ocata and before\n\nChange-Id: I0c1bc3d2362c6500b1a515d99f641f8c1468754a\nPartial-Bug: #1720787\n1: https://bugzilla.redhat.com/show_bug.cgi?id=1462657\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Split Heat pacemaker roles into separate services\n\nIn order for each service to operate independently when used with Pacemaker,\nthe roles needed to be separated.\n\nThis also drops all pacemaker constraints, as they do not make much sense\nin the composable realm.\n\nChange-Id: I3fa76562c13191884a53848ad5adcbc9f5a24f61\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Prevent haproxy to run iptables during docker-puppet configuration\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Disable keystone domain creation by keystone::ldap_backend\n\nChange-Id: Id299aef6eb7209ea6a9c8897c0d8312603c479bd\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Pin puppet-redis to 8.0.0\n\n... because recent change to adopt to stdlib 8.0.0[1] causes duplicated\ndeclaration of Package['redis'] when stdlib 7.y.z is used.\n\n[1] https://github.com/voxpupuli/puppet-redis/commit/a5cc0a194afd2b17564e90939ff5e08f63d3d3f8\n\nCloses-Bug: #1941772\nChange-Id: Ibb4ad7bf54b1e41f1cd62373e711c8efa00d7751\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Implement tripleo::network::os_net_config class\n\nThis class will be used on the undercloud to deploy os_net_config.\n\nChange-Id: I507c237a35250b660b37ea8cfc4e8e7f97ae21e2\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix manila conditional statement\n\n- s/manila/$manila\n\nChange-Id: I7aaa8f83fe758484ab39af28c914fa3d78464633\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Set tunnel timeout for nova_novncproxy\n\nWhen using websockets in HAProxy, like nova_novncproxy does, we\nneed to set \"timeout tunnel\" to avoid disconnections after a short\nperiod without traffic.\n\nChange-Id: I1b66cd9a1d20cbbe35a2ada5782a76a01b14bcd1\nCloses-BZ: 1267043\n",
        "issue_summary": ""
    },
    {
        "commit_message": "noop package installations inside containers\n\nWhile deploying on a rhel8 os beta + pure f28 containers we noticed that\nduring docker-puppet or during docker-puppet-apply.sh dnf is invoked to\ninstall packages (in this case it was specifically MySQL-python).\n\nIt makes zero sense to install packages inside a container because if\nyou don't commit the container the content will be lost at restart\nanyway and so the installed package will be missing anyway.\n\nroot 60586 0.0 0.0 13948 2936 ? Ss 15:29 0:00 \\_ /bin/bash /var/lib/docker-puppet/docker-puppet.sh\nroot 60623 6.8 0.7 366532 118236 ? Sl 15:29 0:04 \\_ /usr/bin/ruby-mri /usr/bin/puppet apply --summarize --detailed-exitcodes --color=false --logdest syslog --logdest console --modulepath=/etc/puppet/modules:/usr/share/openstack-puppet/modules --tags file,file_line,concat,augeas,cron,cinder_config,cinder_type,file,concat,file_line /etc/config.pp\nroot 60879 24.1 0.8 613968 137800 ? Ss 15:29 0:11 \\_ /usr/bin/python3 /usr/bin/dnf -d 0 -e 1 -y install MySQL-python\n\nThe packages *must* be preinstalled in the container images all the\ntime, assuming we can invoke yum/dnf inside the container makes little\nsense.\nThe reason for this is that this hiera key should not have any effect\ninside a container:\n[root@win1 hieradata]# hiera -c /etc/puppet/hiera.yaml tripleo::packages::enable_install\ntrue\n\nTested this change by redeploying a standalone env (which forces package\ninstallation to true) and observed no dnf calls like the ones described\nabove.\n\nChange-Id: I2bd247af2b54f3a834cdc8a2f253600527c7acd8\nCloses-Bug: #1812923\n",
        "issue_summary": ""
    },
    {
        "commit_message": "swift: normalize memcache servers IP addresses\n\nIn the case of memcache servers are IPv6, make sure brackets set in the\nway we construct the list of memcache server + memcache port parameter.\n\nAlso add unit-tests to test that the output is what we want in the\nconfiguration.\n\nDepends-On: I8d361ce9cfcfe6a3f8592b2b7991971a3c748c75\nCloses-Bug: 1625335\nChange-Id: I9fb8168d8fb56c9d8465d58a45fd8c6edfee6fdd\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add the neutron-dnsmasq.conf to neutron profile\n\nThis was in the initial neutron profile patches but got removed\nmid-way (see patch 16 comments here:\nIda781badbcd63bbcb481a2170638aefe262b717b). The file is in fact\nrequired in order to get the ping test properly passing with TripleO.\n\nChange-Id: Ibbfd79421f871e41f870745a593cca65e8c0e58a\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Allow enabling authentication on haproxy.stats\n\nRight now we always deploy the haproxy.stats endpoint with no\nauthentication, which is a security concern.  Allow setting a\npassword on the endpoint so it isn't accessible to the world.\n\nWhile this allows configuring SSL on the stats endpoint, it does\nnot use the service_certificate parameter because that certificate\nis intended to be used only for public endpoints, and the stats\nendpoint is actually on the admin VIP.  Once we have support for\nSSL on admin endpoints we can have stats use it by default.\n\nChange-Id: I8a5844e89bd81a99d5101ab6bce7a8d79e069565\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add keystone and db sync profiles\n\nImplements: blueprint refactor-puppet-manifests\n\nAdd keystone profiles for both pacemaker and non-ha.\nAdd db sync profiles for pacemaker and non-ha.\n\nHA profiles are designed such that they include the base\nprofiles, disabling features as needed, while the base\nprofile can be used independently.\n\nChange-Id: I2faf5a78db802549053ec41678bf83bf28108189\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Set memcached server list from memcached_node_names\n\nThis follows other clustered services (like RabbitMQ) and\nuses *_node_names (which contain FQDNs), instead of *_node_ips.\n\nCertificate for Memcached TLS is also created using FQDN.\nBecause of this, validation failed when using pymemcache.\nThis patch fixes this issue.\n\nCloses-Bug: #1929574\nChange-Id: I9d0ddcc88098a5b891829192f1ce656842d0aa15\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Add haproxy firewall rules for galera and redis\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Correct Neutron RabbitMQ User Param Mapping\n\nChanged parameter mapping for RabbitMQ user name\noverrides. THT maps the user name override to\nneutron::rabbit_user for the Neutron service only.\n\nThis will allow the transport_url string to be built\ncorrectly when a deployer wishes to override the default\nguest username.\n\nChange-Id: I0e35a6979765a453e2ed219e6026f6c0a17b2013\nCloses-Bug: 1746034\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Dell SC: Add exclude_domain_ip option\n\nThis option allows users to exclude some fault domains.\nOtherwise all domains are returned.\n\nChange-Id: I6eb2bcc7db003a5eebd3924e3e4eb44e35f60483\nDepends-On: I8ac91e6720e52da9cf7480f80bcfb456bf0c2433\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove unused resource to set up ceilometer DB\n\nThe ceilometer_collector_enabled key is never set, thus the resource\nhas never been used actually.\n\nChange-Id: Id5f5afddbaf6fffec43900dbbe12e3c85969ba7b\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Remove puppet-redis from additional dependencies\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix tls - zaqar wss default port\n\nIn https://review.opendev.org/746671 we updated the\nendpoint map. It seems this broke the undercloud as\nhaproxy still listen on port 9000.\n\nUpdate the default zaqar wss port in puppet as well.\n\nAlso set the request header Host to use the service\nport so that handshake does not fail on port missmatch.\n\nChange-Id: I0c9dd4e9457c7cfa8cd54b5eaa167bf4e8e6bcc1\nCloses-Bug: #1893621\nRelated-Bug: #1832168\nRelated-RHBZ: #1868910\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Update parser functions to 4.x api\n\nThis change updates additional parser functions we have to use teh\npuppet 4.x function api.  This includes some basic unit tests to ensure\nthey continue to function as expected.\n\nChange-Id: Iebeb82b2890216bed139219441718fffc4004391\nRelated-Bug: #1799786\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Trove integration\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Composable role for RabbitMQ\n\nAdd RabbitMQ composable role, and keep the same logic that we had in\nTHT.\n\nImplements: blueprint refactor-puppet-manifests\nChange-Id: I961bdbe1cc6dd1d4a315de616439f9fc77d793ae\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Resolve duplicate base::ceilometer issues\n\nWe are seeing CI failures in Ia0a59121b9ffd5e07647f66137ce53870bc6b5d6\ndue to duplicate Tripleo::Profile::Base::Ceilometer.\n\nAlso, this patch gets the pacemaker_master variable out of the\n'base' tree.\n\nChange-Id: I2cf3362528235fcdeaef1491f86c05f4995938da\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Generate HAProxy certificates in base profile\n\nThis gives the option to generate the service certificate(s) that\nHAProxy will use. This will be used for both the overcloud and the\nundercloud.\n\nbp tls-via-certmonger\n\nChange-Id: I3d0b729d0bad5252c1ae8852109c3a70c0c6ba7d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add Sahara profiles\n\nAdd Sahara profiles for non-ha & ha scenarios.\n\nImplements: blueprint refactor-puppet-manifests\n\nChange-Id: I0c8bd68f9a98626e9d67ef713c72c9dd05b7cc12\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fluentd deprecation\n\nCentral logging will be performed by rsyslogd on client side, which makes\nfluentd service deprecated. This patch just adds warning message about\nthe fact.\n\nChange-Id: I6c88a4c8378591500df45740cbf202caef3fc357\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add norpm package provider and helper class.\n\nThis patch adds a new norpm package provider that extends the\nPuppet provided default RPM package provider and stubs out\nall of the package install, update, purging so that no\npackages will get installed. This may be useful when\ndeploying pre-built images where we effectively just\nwant to use Puppet for configuration (not installation).\n\nIncludes a ::tripleo::package_provider class that will assist\nin cleanly disabling package installation via hiera.\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add QDR profile for metrics purposes.\n\nThis patch adds a profile class to enable deploying edge routers\nfor metrics collection purpose.\n\nChange-Id: I68f39b6bda02ba3920f2ab1cf2df0bd54ad7453f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Convert ringbuilder to build devices array\n\nCurrently we have some hard-coded mangling in t-h-t but we\ninstead need to build the array based on the nodes running swift\nstorage, combined with the SwiftRawDisks parameter.\n\nThis will enable running SwiftStorage on nodes other than Controller\nand SwiftStorage roles, and is required for custom-roles due to\nthe hard-coded stuff in the role templates and overcloud.yaml\n\nChange-Id: I11deed1df712ecccf85d36a75b3bd2e9d226af36\nPartially-Implements: blueprint custom-roles\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Implements AIDE Intrusion Detection System\n\nIntroduces a puppet service to configure AIDE Intrusion\nDetection. This service init's the database and copies the\nnew database to the active naming. It also sets a cron job,\nusing email is `AideEmail` is populated, otherwise the reports\nare sent to /var/log/aide/.\n\nAIDE rules can be supplied as a hash, and should the rules ever\nbe changed, the service will populate the new rules and re-init\na fresh integrity database.\n\nRelated-Blueprint: tripleo-aide-database\nChange-Id: Iac2ceb7fc6b610f8920ae6f75faa2885f3edf6eb\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Do not include manila ceph key resource twice\n\nWhen mds creates manila key [1], then manila manifest needs to check\nfirst if this resource already exists otherwise puppet fails.\n\n[1] I6308a317ffe0af244396aba5197c85e273e69f68\n\nChange-Id: I3f18bbe476c4f43fa4e162cc66c5df443122cd0c\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"loadbalancer: drop undef on required params\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove support for heat-api-cloudwatch service\n\nIn 6d55417f80384ead56e176beec9e2fc4eb162d61 cloudwatch api\nhas been removed from heat.\n\nChange-Id: Ic11d8803bb260fe302da929eda9ec8d547a92176\nDepends-On: https://review.openstack.org/541132\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable Manila Service\n\nAdds bindings to the Manila service for HAProxy.\n\nChange-Id: I175d5b7e35a781d04452fc6aee610e8dca005419\n",
        "issue_summary": ""
    },
    {
        "commit_message": "ironic-inspector: enable support for dnsmasq PXE filter\n\nChange-Id: I67809c7a754fb2569baf389daa056b3cdac071f0\nDepends-On: I056cdadc025f35d8b6fd22f510a7c0a8e259a1f0\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix comparison to control_virtual_ip\n\nWhen managing the vip's, we were incorrectly comparing the vip to\n$control_virtual_interface instead of $controller_virtual_ip when\ndetermining if we needed to actually create the vip or not.\n\nThis caused the vips for internal api, storage, and storage mgmt to\nalways be created even if they were the same as the control vip. Afaict,\nthis didn't actually cause any problems, other than having extra vip's\ncreated when they weren't needed. Still, this corrects the code to do\nwhat it was intended to do.\n\nChange-Id: I29aee95afcba25008b8b7bee37ba636eb2595cca\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add Manila CephFS backend to manila class\n\nChange-Id: Idaad75238a2884fe82b1e5fce3ed910d866b98a2\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Logging: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: I9ddceedcf1b7d5335beea542e671de8f9f143e5f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fail more gracefully when passed an empty ip\n\nIntroduce a new function called is_ip_addresses which will verify\nif a string or an array of strings are composed of correct ip addresses.\n\nWe do this in order to fail a bit more clearly if we are passed an empty\nor broken ip address. Without this the failure will be in pacemaker\nfailing to start a VIP called 'ip-'.\n\nAlso convert the only use of legacy is_ip_address stdlib function in\nmysql::client to this new function (for consistency reasons).\n\nSuggested-by: Rhys Oxenham <roxenham@redhat.com>\n\nChange-Id: Ie15c585a9a902b577f35a75de191bfa91c132668\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add ports filtering support to XtremIO Cinder driver\n\nIf there are some iSCSI or FC targets (ESXi for example) that\nare not connected to the OpenStack host,\nattach volume operation waits until timeout.\nThe XtremIO Cinder driver needs a new option to support ports\nfiltering.\n\nDepends-On: https://review.opendev.org/#/c/776260\nRelated-Bug: #1915800\nChange-Id: I29e3e8b5dab256816ea108d23ccb1f0558e43e82\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Configuration changes to support Qdr-mesh topology.\n\nThese changes update router mode to edge or interior\ndepending on the node type. The mesh topology is\nformed on controller nodes and remaining nodes will\nconnect to this topology.\n\nCo-Authored-By: Martin Magr <mmagr@redhat.com>\n\nChange-Id: I195dbf70f490984cedb32d48fe09f4562cbf94fa\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Use correct manage_firewall hieradata\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Removes logic dependent on 'odl_on_controller'\n\nSince moving to composable service/roles there was some logic here that\nwas relying on a variable to enable ODL rather than enabling the service\nitself to decide where ODL was enabled.  Now that ODL and ODL OVS\nconfiguration are split into 2 different services we can make these\ntruly composable.\n\nPartial-Bug: 1633625\n\nChange-Id: Ia55c05e12d5d434111a13e1ed795da530e3ff4a5\nSigned-off-by: Tim Rozet <trozet@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Include nova::compute::image_cache class explicitly\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Include local CA installation outside of HAProxy cert setup\n\nIt used to be the case that we would only do the local CA setup if we\nwould require a certificate for HAProxy. This is no longer the case as\nwe're trying to do TLS by default in the overcloud. So this instead\nmoves that setup to the certmonger_user class which should always get\nused.\n\nChange-Id: I5b4dc0a60ccc988b1ffbbb04231e6688377dd0eb\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Neutron: Avoid undefined variables\n\nThis is follow-up of 93d102ea57628147b9b2412703664d5c7f2f6bed and fixes\nthe undefined tls_* variables when internal tls is disabled.\n\nChange-Id: Ib2abe2c31be55a13318a331e5ba2192d84641d5f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS usage with a proper override mechanism\n\nIn THT we allow RabbitAdditionalErlArgs to set some additional\nparameters which should be passed to RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS\nwhen starting rabbit. The problem is that when we use internal tls\nthat parameter gets ignored and so we lose our default '+sbwt none'.\n\nLet's do this via a proper parameter while also considering the fact\nthat historically the default value of RabbitAdditionalErlArgs had\napices around it.\n\nChange-Id: I3bf244a70538209773804eb85fae6be035c587f4\nRelated-Bug: #1884922\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Improve failed mysql node removal time in HA deploys.\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Disable ip_nonlocal_bind (rely on the HAProxy 'transparent' option)\n\nChange-Id: Ib57a4bf463900e68cbf97900027f972e590799c2\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove unnecessary references to neutron core plugin hiera\n\nIf the tripleo::profile::base::neutron::sriov is included it\nis expected that the SR-IOV agent should be deployed and configured so\nreferences to core plugin configuration is out of place and currently\nbreaks deployment.\n\nChange-Id: Ie5d8cd7863c0d042cc6a4e1fc52602d8a03a1935\n",
        "issue_summary": ""
    },
    {
        "commit_message": "redis: Remove default post-save command for certmonger\n\nThe default command didn't work, so we need to fix that.\n\nThe script additionally copies the certificates in the right place\nand instead of restarting stunnel, triggers a configuration reload.\n\nRelated-Bug: #1811401\nNeeded-By: I49811a6cab5416d965ce1da93a71728ad5b1d27c\nChange-Id: I437d69fef45d1662e8908c5ca0f7063be6cb9b32\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable service token in nova and cinder\n\nThis patch enables service token feature in nova and cinder, which\ncan be used to avoid problems in inter-component request caused by\ntoken expiration for long running tasks.\n\nDepends-on: https://review.opendev.org/#/c/666467/\nDepends-on: https://review.opendev.org/#/c/666471/\nDepends-on: https://review.opendev.org/#/c/666746/\nChange-Id: Ia9cab3080a6e0ef7433fa0be19b98f8e63bae587\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add lookup_hiera_hash function\n\nThe lookup_hiera_hash function is meant to lookup for the value\nof a given key from a given Hiera hash. In the manifests this is\npossible by saving the value of the hash in a variable first but\nwhen driving lookups from the Heat templates we can't do it.\n\nChange-Id: Ie31bb70314db44a0a18e86090cc74aa4df5de169\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Use TLS proxy for Glance API's internal TLS\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix front/back-end options\n\nFollow the rule:\n - *log is only needed for frontend usually (by default)\n - tcpka and other \"durability\" related options are set for both\n   sides, based on a service case by case\n - move the frontend-only options, like 'client X' to frontend hashes\n - move the backend-only options, like 'server Y' to backend hashes\n\nChange-Id: I3fd753fc3a4522faf565999a019df0f4095ebd9c\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add support for trust_flush cron job in keystone\n\nThis patch introduces a cron job configuration to purge expired or\nsoft-deleted trust from keystone database.\n\nDepends-on: https://review.opendev.org/#/c/739378/\nChange-Id: Ic140f8466e5f561b2936e7e4b29fdd8393cea01c\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove unused extract_id function\n\nThis function was used by Zookeeper manifests which were removed when\nMidonet support was removed[1].\n\n[1] 1fa66c49c036bf473ef7bb7008778331e117bb71\n\nChange-Id: Ibb593d32a91cc7fe67e6af7b7ce2c97e1dc0f468\n",
        "issue_summary": ""
    },
    {
        "commit_message": "[ui] Add option to configure apache expires\n\nFor tripleo-ui files served by apache\n\nChange-Id: I23baca51069f11007e7d4ba7d05c62ed05b7071b\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Heat: include an independent class to set up [trustee]\n\nThe new heat::trustee class was added to puppet-heat, which will be\nrequired to set up the [trustee] parameters. This change ensures that\nthe new class is included.\n\nDepends-on: https://review.opendev.org/813739\nChange-Id: If263e44583e0e1eb005edefe3b90868aea750dee\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove contrail from haproxy\n\nThis patch removes contrail from haproxy, so that the new tripleo haproxy\ndynamic endpoint infrastructure can be used.\n\nChange-Id: I4203055e87f9e319c8a27bcd37b3159c15d6c0a3\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove Tacker service\n\nCleaning up the puppet tacker code since we're removing the service\ndefinitions.\n\nChange-Id: Iee2e75c1afd836b08132823ffe26cccdd6ef0002\nDepends-On: https://review.opendev.org/#/c/682463/\nRelated-Bug: #1714270\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Include octavia task_flow manifest for octavia services\n\nThe Octavia worker, housekeeping and health-manager services should\ninclude the task_flow manifest to configure jobboard persistence in\nOctavia.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-octavia/+/816434\n\nChange-Id: I2d8338d64b3f9887fdd067c820b10baab8eb0446\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Manila: Remove usage of cephfs_enable_snapshots\n\nThe parameter was deprecated and has no effect in puppet-manila since\nVictoria[1]\n\n[1] 2388d7510d600e358c76becf13d08581b489f2a7\n\nDepends-on: https://review.opendev.org/799099\nChange-Id: Ifdeb92cf0fcdc563fc37b6e3c97e89a8300ce122\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Do not use hardcoded controller_node_names when setting up the cluster\n\nCurrently we chose the pacemaker cluster node by simply taking\nhiera('controller_node_names'). We should instead use the\npacemaker_short_node_names array which is built dynamically\nfrom all the nodes that include the pacemaker service.\n\nChange-Id: I0a3e4acaab11e078da5eeb2ef2adde5387785927\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Support TLS deployments with KernelDisableIPv6 enabled\n\nThis will listen on 127.0.0.1 in case ipv6 is disabled.\nThe localhost_address is set in t-h-t kernel-baremetal-puppet.yaml\nin a related patch.\n\nChange-Id: Ic77281cc69230b77224421e3d79d93803ea18bad\nNeeded-By: Ide761c21dc87dadc722e27c9b8a7b68194164cb2\nRelated: rhbz#1703460\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix panko port to match tht\n\nIn templates we use 13977 as the port for panko. The\nold 13779 is reserved for trove so it conflicts.\n\nCloses-bug: #1712566\n\nChange-Id: I77444199eef6c2b9abbd819829b4fea2d698e2db\n",
        "issue_summary": ""
    },
    {
        "commit_message": "openstack-core resource does not have interleave=true\n\nThe dummy openstack-core resource was meant to replace keystone so that\nrestarting keystone would not restart the whole cloud. When this\nresource was introduced the paramter interleave=true was mistakenly left\nout.\n\nThis causes a simple promote operation on the galera resource to restart\nopenstack-core and its children.\n\nChange-Id: Ic590005a9419be87e6e6ea131b0ac0630c5afc19\nCloses-Bug: 1603381\n",
        "issue_summary": ""
    },
    {
        "commit_message": "MySQL: configure ::zaqar::db::mysql selectively\n\nAdds the ability to create an empty MySQL database for Zaqar\nif zaqar is enabled and settings for the mysql backend are\nalso available in hiera. This should allow Zaqar's database to\nget created when needed, but skipped if MongoDB is used\ninstead (per overcloud defaults).\n\nChange-Id: I3598e39c0a3cdf80b96e728d9aa8a7e6505e0690\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Only run the VIP creation code when enable_load_balancer is set to true\n\nWhen we use an external loadbalancer we do not want neither haproxy nor\nVIPs on our control plane, since they will be managed externally.\n\nSo a user will usually include something like the following template:\n/usr/share/openstack-tripleo-heat-templates/environments/external-loadbalancer-vip.yaml\nor implement a similar set of parameters/resource mapping.\nThe main needed params are: EnableLoadBalancer set to false, the\nnoop-ing of the haproxy service via 'OS::TripleO::Services::HAproxy: OS::Heat::None'\nand the hard-coding of the external VIPs via the *VirtualFixedIPs\nparameters.\n\nTo make sure we do not create the OVNDbs VIP we will use\nthe listen_on_master_ip_only as the variable to\ndetermine if an external loadbalancer is used:\n- no -> external LB used\n- yes -> pcmk+haproxy i.e. our own loadbalancer\n\nWe cannot use the enable_load_balancer hiera key that is normally\nset by haproxy, because the haproxy service will be nooped.\n\nRelated-Bug: #1864409\n\nChange-Id: Ie313c0410ed684661aeea77158572035ddfcfcd5\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Correct vrrp script for haproxy status\n\nCurrently, on a containerized undercloud, we get error messages from\nkeepalived container:\n/usr/bin/systemctl status haproxy.service exited with status 1\n\nEven if the undercloud is currently not in HA, it's still a good thing\nto get clean logs.\n\nNote: the command is launched by the keepalived container, hence we\ncannot use pgrep nor anything else. We also need the /var/lib/haproxy\nmount in the keepalived container, shared from the haproxy container on\nthe host.\n\nChange-Id: Ib5050a3a6af262e26b5523974d1d4a80c4e92834\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Prevent haproxy to run iptables during docker-puppet configuration\n\nWhen docker-puppet runs module tripleo::haproxy to generate haproxy\nconfiguration file, and tripleo::firewall::manage_firewall is true,\niptables is called to set up firewall rules for the proxied services\nand fails due to lack of NET_ADMIN capability.\n\nMake the generation of firewall rule configurable by exposing a\nnew argument to the puppet module. That way, firewall management can\nbe temporarily disabled when being run through docker-puppet.\n\nChange-Id: I2d6274d061039a9793ad162ed8e750bd87bf71e9\nPartial-Bug: #1697921\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Include security_compliance manifest in keystone\n\nThis enables us to configure the security compliance options through\nt-h-t.\n\nDepends-On: Ic4d962910343ad30de7840124bbc7773ea3697a1\nChange-Id: I089f2e28cce2688ed080096c88ab539393627cfb\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add a new configuration option for GUI loggers\n\nThis allows us to set up logging for the TripleO GUI.  By default, it enables\nthe 'console' and 'zaqar' loggers.\n\nChange-Id: Iafc874643c29e63ff670831fe80f6601c3051865\nCloses-Bug: #1716458\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove ovn specific logic for octavia\n\nWe probably should not have the ovn neutron driver specific\nlogic here. This deprecates and ignores 'neutron_driver'\nparameter.\n\nChange-Id: I9ba293d6a245ee875bf273d116baf64e44d0a554\nCloses-Bug: #1839436\n",
        "issue_summary": ""
    },
    {
        "commit_message": "[keepalived] fix netmask for vip\n\nFor pacemaker we ensure netmask of virtual IP to 64bit for IPv6 and\n32bit for IPv4. We should have feature parity in keepalived setup.[1]\nThe issue is that puppet picks first IP orf ifconfig output as and\ninterface IP. In case of IPv6 keepalived would add new IP to\ninterface with netmask 128 causing interface_for_ip to fail on\nsecond puppet run.\n\n[1] - https://github.com/openstack/puppet-tripleo/blob/master/manifests/pacemaker/haproxy_with_vip.pp\n\nCloses-Bug: #1659309\n\nChange-Id: Icb0c9a8d51a9bfcdc4b2caef9e52fdeb6f634cba\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Use nova_metadata related hiera and make cell aware\n\nSince nova metadata runs via wsgi and can be run on its own\nuse nova_metadata_ related hiera keys to configure the\nproxy in haproxy.\nIt is now also possible to configure nova_metadata local\nto a nova cellv2.\n\nChange-Id: I364436ed6ca451dfaa079dc891c2cb6516eb3907\nRelated-Bug: #1823760\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove extra keystone admin haproxy listen and allow TLS\n\nThe current code exposes an unused public listen directive in HAProxy\nfor the keystone admin endpoint. This is not ideal and should be\nremoved, as it exposes the service unnecessarily. We should stick to\njust exposing it to the ctlplane network as is the default.\n\nIf folks really need to expose it to the public network, they can do so\nby modifying the ServiceNetMap through t-h-t and setting the keystone\nadmin endpoint's network to external.\n\nNow, for \"single\" or \"internal\" haproxy endpoints, this adds the ability\nto detect if they're using the external network, and thus use TLS on it.\nWhich is something a deployer would want if they exposed the keystone\nadmin endpoint in such a way.\n\nChange-Id: I79563f62fd49a4f7654779157ebda3c239d6dd22\nCloses-Bug: #1710909\nCloses-Bug: #1639996\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable TLS for rabbitmq's replication traffic\n\nThis follows the RabbitMQ docs [1] for enabling TLS for the replication\ntraffic. It reuses the certificate that rabbitmq already has.\n\nUnfortunately, pacemaker uses the shortname for the rabbitmq nodes, so\nwe are not able to do proper verification of the certificates, since we\ncan't allocate a certificate for shortnames. So, until pacemaker can\ntrack the rabbit nodes through their FQDNs, we don't set any verification\noptions.\n\n[1] https://www.rabbitmq.com/clustering-ssl.html\n\nDepends on: https://github.com/voxpupuli/puppet-rabbitmq/pull/574\n\nbp tls-via-certmonger\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nChange-Id: I265c89cb8898a6da78a606664a22c50f5e57a847\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Use --live-restore when setting up the docker service\n\nIf you rerun an overcloud deploy command or do a minor update, while you\nchanged any of the options in the tripleo::profile::base::docker puppet\nmanifest, you are at risk of triggering a restart of the docker service\n(e.g. you changed the url in the insecure_registries parameter).\n\nThis has a number of drastic consequences:\n1) *All* the containers will be shut-down and restarted (this will\neffectively bring down all the APIs at the same time in the overcloud\ndeploy case)\n2) Pacemaker can potentially fail to start/stop/monitor the bundles (due\nto the docker API not being available) which can have a few possible\noutcomes (depending on timing): it could fence a node in case of failure\nto stop, it could stop any of the bundles, it could recover from such a\nsituation.\n\nEffectively now that we run stuff inside containers, restarting docker\nis a bit like taking down PID 1 and starting it again.\n\nIn order to ameliorate this situation we make sure that docker is\nactually started with the '--live-restore' option which was introduced\nin docker 1.12 via https://github.com/moby/moby/issues/6851 and avoids\nrestarting all the containers when the docker daemon gets restarted.\n\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\n\nChange-Id: Ib3ea6de7f235d2a2d53a6576e0876ab171128b34\nCloses-Bug: #1747851\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Adding manifest for Cisco VTS ML2 mechanism driver configuration\n\nChange-Id: I4329d54d66c8a02f651887c90f43b0658ebab384\nImplements: blueprint ml2-cisco-vts\nSigned-off-by: Wojciech Dec <wdec@cisco.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Quote the hiera dot notation\n\nWith puppet 5, dots mean something special in hiera. You can still use\nhiera lookups with dots but you need to quote the key part.\n\nhttps://puppet.com/docs/puppet/5.4/hiera_automatic.html#hiera-dotted-notation\n\nChange-Id: I94831c09821f519b81016f943a251a5b12d72750\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Run octavia-api under apache\n\noctavia-api uses wsgiref simpleserver which does not work well with\nhaproxy so we need to move to running it under apache.\n\nChange-Id: I00f537ce27b1d4642738f0eb90d7ed1f2c21e729\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add fence_cisco_ucs support in tripleo fencing manifests\n\nAdd fence_cisco_ucs support in tripleo fencing manifests since\npacemaker puppet modules supports this easily.  We already tested\nthis patch and it worked flawlessly.\n\nChange-Id: I0cbefd2b23c890e0f4d97153895fbeedff861ace\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add TLS in the internal network for Swift Proxy\n\nThis adds the necessary bits for a TLS Proxy to be placed in front of\nswift proxy when TLS-everywhere is enabled.\n\nThis will be furtherly cleaned up once the t-h-t bits are added.\n\nbp tls-via-certmonger\n\nChange-Id: I6e7193cc5b4bb7e56cc89e0a293c91b0d391c68e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Default neutron dhcp_agents_per_network to number of agents\n\nThis patch will set neutron's dhcp_agents_per_network equal to the\nnumber of deployed neutron DHCP agents unless otherwise explicitly set.\n\nPartial-bug: #1632721\nChange-Id: I5533e42c5ba9f72cc70d80489a07e30ee2341198\n",
        "issue_summary": ""
    },
    {
        "commit_message": "cinder: remove support for the Veritas HyperScale Driver\n\nFollowing the change in tripleo-heat-templates, this change removes\nall implementation to support the Veritas HyperScale Driver, since\nthe driver itself has been removed from cinder.\n\nDepends-on: https://review.opendev.org/787587\nChange-Id: I4131fcd5bb39dc09527f17b5d149fe18be3f2fd5\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Use TLS proxy for Glance API's internal TLS\n\nThis uses the tls_proxy resource added in the previous commit [1] in\nfront of the Glance API server when internal TLS is enabled. Right\nnow values are passed quite manually, but a subsequent commit will use\nt-h-t to pass the appropriate hieradata, and then we'll be able to clean\nit up from here.\n\nNote that the proxy is only deployed when internal TLS is enabled.\n\n[1] I82243fd3acfe4f23aab373116b78e1daf9d08467\n\nbp tls-via-certmonger\nDepends-On: Id5dfb38852cf2420f4195a3c1cb98d5c47bbd45e\n\nChange-Id: Id35a846d43ecae8903a0d58306d9803d5ea00bee\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Bad example in firewall.pp\n\nIt was an error in the example to set firewall rule\n\nTested on newton.\n\nCloses-Bug: 1691990\n\nChange-Id: I091ad0305ac9d9fbb63853e46169fcaa6092456b\nSigned-off-by: Cyril Lopez <cylopez@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Don't use defined\n\nThe 'defined' function is always true for defined variables\neven when the value is undef. This makes the conditionals useless\nand this patch makes the module to test value instead.\n\nChange-Id: I9228d84e02b485f089fce84ea12ca8afba903a61\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove remaining implementation for TripleO UI\n\nTripleO UI was alreday retired, so cleanup all implementation for it.\n\nChange-Id: I821e09c36ef9e2ba652f871eda3dd780822dd895\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Use network entries for nova placement\n\nHaving these available from t-h-t, we should be able to use these now.\n\nChange-Id: I7272df25c4fdba152fe15d40444311bc35ace4d9\nDepends-On: Id0d34c7c3939ee81126ffd26d0658c0a87805a44\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Allow tuning timeouts for mysql pacemaker resource\n\nThis change introduces several timeout parameters so that users can\ntune operation timeouts about mysql resource in pacemaker.\n\nChange-Id: Ib1e0e687e2f8dd5dba53a37f6d4e5f149b933fd4\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fixes ODL issue where OF port may be set wrong\n\nThere is a case where OVS needs to have the OpenFlow configuration\nresynced. The regsubst was only replacing one of the ports instead of\nall, so sometimes the OpenFlow controller settings on OVS would have\nports 6640 instead of the right port (6653).\n\nCloses-Bug: 1786037\n\nChange-Id: I93e3d355625508fdc42f44bdd358f3ba86fbd8d7\nSigned-off-by: Tim Rozet <trozet@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix ntp module version to an existing tag/branch\n\nThe 4.2.x was apparently removed at some point, and this makes the\nunit tests fails.\n\nThis patch will need to be backported down to Queens.\n\nChange-Id: I6a5a0541d2cccc2e210954c4d3b3c45d24d1d649\nCloses-Bug: #1823838\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"ironic-inspector: enable support for dnsmasq PXE filter\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable innodb_buffer_pool_size configuration\n\nAdds a hiera-enabled setting for mysql.pp to\nallow configuration of innodb_buffer_pool_size, a key\nconfigurational element for MySQL performance tuning.\n\nChange-Id: Iabdcb6f76510becb98cba35c95db550ffce44ff3\nCloses-bug: #1704978\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Avoid Yum/RPM prefetch in norpm provider\n\nWhen package installation is disabled we still prefetch packages.\nThis disables the package prefetch by returning an empty array\nwhich should be fine in the normal case and fixes issues when\nrunning puppet in some docker containers.\n\nChange-Id: Ia483c5f8500b804ba37a80e9ca1ec9c038f0a867\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Create a Mesh of qdrouterd links for messaging high availability\n\nFor multi-node deployments of the dispatch router, a mesh of\ninter-router links is created. Note that bi-directional links must\nnot be configured.\n\nExample: For nodes A, B, C\n  Node    Inter-Router Link\n   A:           []\n   B:           [A]\n   C:           [A,B]\n\nChange-Id: If43beea7a53c1f8f1dff062341c7ea81751c3122\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add ceph grafana dashboard endpoint to haproxy\n\nThis review adds the ceph grafana endpoint to\nhaproxy.\n\nDepends-On: https://review.opendev.org/#/c/672536\nChange-Id: If1a111662203896ee51fd61183f720a4cef18a3e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Ensure panko::db class is initialized\n\nChange-Id: If2f6559a7d76b26fa9b0a3ecfa2e2101aae93e3c\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Move nova-metadata api to httpd wsgi\n\nUpstream will deprecate usage of eventlet of all the WSGI-run\nservices, including nova-api and nova-metadata-api.\nSee https://review.openstack.org/#/c/549510/ for more details.\n\nWith this change we move nova-metadata to run via httpd wsgi\nand therefore uses its own config volume.\n\nDepends-On: Ic65736cb0e95c400a728cd699ecf06c6aecff832\n\nChange-Id: Ic46acdbac280ac648ec5ed9d7af0139126334fe0\nCloses-Bug: 1781405\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Configure ovn sb connection for the ovn provider\n\nThe OVN provider requires connections to the OVN sb db in order to\nreceive events for associating FIP/VIPs and healthchecks.\n\nChange-Id: I0b2250aa2d98e6ed02ccb7194183ebdcede97c9e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Include ::swift::config in Swift API and Storage roles\n\nThis changes makes the Swift API and Storage roles to include the\n::swift::config class, as we do for the other OpenStack services,\nwhich is useful to push arbitrary config settings into Swift.\n\nChange-Id: Iaf2c2f0f0103fe9264ce875099a1578b353a5558\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Handle redirects for Horizon\n\nAs for Heat, we need to be able to handle 30X redirects from Horizon\nwhen configured to use SSL.  Because Horizon's redirects are\nhandled directly by Apache, we can't use middleware to handle the\nX-Forwarded-Proto header like we are planning to do for the other\nservices.  However, in this case we don't need to worry about\nrewriting urls in the payload like we do for the other services\nbecause Horizon is just serving standard web pages, not custom\nHTTP bodies with JSON contents.\n\nOne other change from the previous Heat patch is to drop the IP\nfrom the rewrite regex.  This is because Horizon will generally be\naccessed via a DNS name, so the IP won't appear in the Location\nheader.  The heat regex should probably be changed as well since\nwe now support registering endpoints with DNS names, but since we\nplan to move all the other services to the X-Forwarded-Proto header\nmiddleware anyway we can probably just wait until that happens and\nthen remove the Heat rule entirely.\n\nChange-Id: I039a3036be17eeabe3cff68e0ef24f70907cc568\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix RabbitMQ locale for CentOS 7 (Puppet part)\n\nIt seems that CentOS 7 does not have C.UTF-8 locale. Since we need\nUTF-8-based locale, use en_US.UTF-8 instead.\n\nChange-Id: I25d2b9a227a7c5de127bdfd9d2f387be9eea01e0\nPartial-Bug: #1823062\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable TLS in the internal network for horizon\n\nThis enables the usage of TLS by the apache vhost that hosts horizon.\n\nbp tls-via-certmonger\n\nChange-Id: I7f2e11eb60c7b075e8a59f28682ecc50eeb95c3e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add parameter for chap_algs in iscsid.conf\n\nWe need to be able to specify the CHAP algorithms in iscscid.conf\nso that we can, for example, remove MD5 from the list.\n\nThis will allow iscsid to run on FIPS enabled systems where MD5\nis disallowed.\n\nCo-Authored-By: Alan Bishop <abishop@redhat.com>\nChange-Id: I89023603147e21d5c211041f70fc2c988d5f4de1\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Allows customization of the HAProxy default timeouts\n\nChange-Id: I3fdb705bbac26b4bc43a18131407a0a86d36a8a5\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Use leastcon and socket-level TCP keep-alives for Heat API\n\nAccording to the HAProxy docs, when the protocol involves very long\nsessions with long idle periods (eg: querying Heat API for large\nresources), there is a risk that one of the intermediate components\ndecides to expire a session which has remained idle for too long.\n\nIn some NFV cases with hundreds of VM/port resources, multiple API\nrequests are being sent in parallel towards the Heat API service to\nretrieve the OS::Nova::Server resources from an big Heat stack, and\nthis is causing the Heat API backends to be unavailable and requests\nto fail. This also ends up with all of its backends considered down\nby HAProxy, leaving the system in a cascading failure scenario:\n\nxx:12:09 overcloud-ctrl-0 haproxy[13]: Server\nheat_api/overcloud-ctrl-1.internalapi is DOWN, reason: Layer7 timeout,\n  check duration: 10001ms. 2 active and 0 backup servers left. 0\n  sessions active, 0 requeued, 0 remaining in queue.\n\nxx:12:09 overcloud-ctrl-0 haproxy[13]: Server\nheat_api/overcloud-ctrl-2.internalapi is DOWN, reason: Layer7 timeout,\n  check duration: 10001ms. 1 active and 0 backup servers left. 0\n  sessions active, 0 requeued, 0 remaining in queue.\n\nxx:12:09 overcloud-ctrl-0 haproxy[13]: Server\nheat_api/overcloud-ctrl-0.internalapi is DOWN, reason: Layer7 timeout,\n  check duration: 10001ms. 0 active and 0 backup servers left. 0\n  sessions active, 0 requeued, 0 remaining in queue.\n\nxx:12:09 overcloud-ctrl-0 haproxy[13]: proxy heat_api has no server\navailable!\n\nxx:13:55 overcloud-ctrl-0 haproxy[13]: Server\nheat_api/overcloud-ctrl-1.internalapi is UP, reason: Layer7 check\npassed, code: 200, info: \"OK\", check duration: 1ms. 1 active and 0\nbackup servers online. 0 sessions requeued, 0 total in queue.\n\nxx:13:55 overcloud-ctrl-0 haproxy[13]: Server\nheat_api/overcloud-ctrl-2.internalapi is UP, reason: Layer7 check\npassed, code: 200, info: \"OK\", check duration: 2ms. 2 active and 0\nbackup servers online. 0 sessions requeued, 0 total in queue.\n\nxx:13:56 overcloud-ctrl-0 haproxy[13]: Server\nheat_api/overcloud-ctrl-0.internalapi is UP, reason: Layer7 check\npassed, code: 200, info: \"OK\", check duration: 1ms. 3 active and 0\nbackup servers online. 0 sessions requeued, 0 total in queue.\n\nMitigation steps proposed:\n\n* Enabling socket-level TCP keep-alives makes the system regularly send\n  packets to the other end of the connection, leaving it active.\n\n* tl;dr - round-robin LB does not fit scenarios with cascading\n  failures. Enabling leastcon LB makes the cascading failure to happen\n  less likely, when high numbers of client connections become aligned by\n  real counts instead of the numbers-unaware round-robin rotation.\n\n* the default balance algorithm for Heat API therefore becomes\n  'leastconn' instead of 'roundrobin' (this is controlled by a new\n  parameter).\n\nCascading failures (when backends go down one-by-one) result in unfair\ndistribution of load, consider the following example:\n\n- do round-robin of a 100 connections amongst 3 backends (normal operation)\n  -> 34/33/33,\n- ... another 100 but among only 2 (a 3-1 failure) -> 84/83/-,\n- ... another 100 in a cascading failure -> 184/-/-,\n- ... +100, after one more gets recovered -> 214/33/-\n- ... +100, after all recovered -> 244/63/33\n(repeat until all goes down after the 1st backend takes enormous\nnumber of connections)\n\nPartial-Bug: #1882927\n\nChange-Id: I5b85675c97a899b94c78ba9e19865a156e054fcb\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove cinder resource for setting SSL middleware\n\nNow that cinder enables http_proxy_to_wsgi by default[1], we no\nlonger need to add it ourselves. So this is now safe to remove.\n\n[1] If5aab9cc25a2e7c66a0bb13b5f7488a667b30309\nDepends-On: I6141b6caf9b04ee73fae3ae2b94b3001b21b9999\n\nChange-Id: I3581d11519b664863f47c5aeeec6efcc4182a5fc\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"loadbalancer: add Aodh API support\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove the manifest for the Keepalived service\n\n... because the service is removed from tripleo-heat-templates.\n\nRelated-Bug: #1926314\nDepends-on: https://review.opendev.org/788200\nDepends-on: https://review.opendev.org/788095\nChange-Id: Ibc9911b62f8131fbe8dd9e061e61c56a4e5d301e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"mysql: use clustercheck credentials to poll galera state\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Add nova::cinder to nova compute\n\nChange https://review.opendev.org/#/c/657918/ added\ncinder credentials to nova.conf in cinder group.\n\nIncluding the required manifest in nova compute\nprofile.\n\nRelated-Bug: #1734025\nDepends-On: https://review.opendev.org/#/c/657918\nDepends-On: https://review.opendev.org/#/c/657919\nChange-Id: I39e6bbe4432025a05e6dcc3f6b263073dd8624c5\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove management of login.defs\n\n... because it is now managed by ansible[1].\n\n[1] 2ae95677fe7b83ca1678f6e572d1fea7cfb75c21\n\nChange-Id: Ic6e41876df0b5bc86c2f7d9b56ad6bd6e651aaad\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Deprecate Keepalived\n\nKeepalived is deprecated in Ussuri and will be removed in the next cycle.\n\nblueprint replace-keepalived-undercloud\nChange-Id: I8b72e35e5ea4bb5c7a8ff60792d96236fa8b3554\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Allow override of mysql/galera open files limit\n\nThis commit removes the hard coded value of open-file-limit (16384)\nand allows operators to override it via:\n\ntripleo::profile::pacemaker::database::mysql::open_files_limit\ntripleo::profile::pacemaker::database::mysql_bundle::open_files_limit\n\nChange-Id: I4927eb65a2dc1b5a86fc2141c7b2713f36ad49de\nResolves: rhbz#1812969\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Ensure basic Ceph configuration is performed by RBD mirror\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Configure VIPs for all networks including composable networks\n\nConfigure all VIPs including those on custom composable networks.\nHard-coded network names are removed and instead a hiera parameter\ncontaining all networks is used.\n\nFor keepalived, the vrouter_id is generated from an index for each\nnetwork in the hiera data.  This will change the vrouter_ids for\nsome VIPs.\n\nChange-Id: I117454afe750451ad1f2633fa0f196bb71740b8d\nPartial-Bug: 1741129\nDepends-On: If8d3219a0714e3db34980e884dce84912a837865\n",
        "issue_summary": ""
    },
    {
        "commit_message": "logging: support service_config_settings configuration mechanism\n\nThis commit implements the necessary support in puppet-tripleo to\nprocess fluentd configuration delivered via service_config_settings.\n\nAdded the fluentd unit test regarding the new configuration:\n- A file by service\n- Added the group to the fluentd user\n\nPartial-bug: #1715187\nChange-Id: I2b057190ec0e4e75ee4ee47ebe0164c2644e5ab7\n",
        "issue_summary": ""
    },
    {
        "commit_message": "galera: expose 2-node mode for the galera resource\n\nWhen deploying a 2-node HA overcloud, the galera resource\nagent can be configured to enable a \"2-node mode\" heuristic,\nthat allows it to restart a galera node in the event of a\nnetwork split.\n\nMake this resource agent's option available in puppet via\nthe new parameter \"two_node_mode\".\n\nCloses-Bug: #1903051\n\nChange-Id: I543ee77ec38b6429989435122ae0c257d279e507\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Include a class to manage network_api:neutron parameters\n\nDepends-on: https://review.opendev.org/824974\nChange-Id: Id447f61daae970f0e884b3d011613cec4a527eb4\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add firewall::service_rules define\n\nThis patch updates the tripleo::firewall class so that it will\nsupport loading firewall rules defined in composable services\nvia the following hiera keys (for nova-api for example):\n\n  tripleo.nova_api.firewall_rules\n\nThis patch relies on a new 'service_names' hiera array that should be\nprovided on all TripleO overcloud nodes.\n\nDepends-On: I60861c5aa760534db3e314bba16a13b90ea72f0c\nChange-Id: Id370362ab57347b75b1ab25afda877885b047263\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Horizon: Enable octavia-dashboard configurations\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Automatically configure neutron with designate\n\nThis sets up designate integration with neutron when designate is\nenabled.\n\nChange-Id: Ibc7c131ce92cecaf4230931c8217a2aa32a9e98a\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Move stonith resource creation to step2\n\nWith the merging of the pcs on host patchset for train we are seeing a\nproblem with FFUs on Instance HA environments.\n\nPreamble:\nTripleo keeps the stonith-enabled cluster property set to false until the puppet step 5\n\nWith the pcs on host patchset the enablement happens still at step 5 but\nit gets triggered during tripleo_ha_wrapper deployment task of\ncinder-volume which tries to restart the cinder-volume service (during\nthe leapp of the first controller) and this hangs forever because\npacemaker is in the following transition:\n- stonith-fence_compute-fence-nova is configured\n- pacemaker wants to call stonith on for controller-0 (which is probably\n  dumb, but it is unlikely we'll be able to change that in the right\n  timeframe as it seems a potentially involved change in behaviour)\n- Any other action, like cinder-volume restart in this case, is stuck\n  and the FFU fails.\n\nIf we simply move the stonith resource creation (and change nothing else\nin the stonith-enabled property being set at step 5) to step 2, we\nfix this.\n\nTested and with the injection of this puppet-tripleo review into the\nFFU queens->train upgrade on an IHA system, now the FFU passes.\nAlso applied this patch to a Train based IHA deployment and verified\nthat deployment, redeploy, minor update and scaleup all keep on working.\n\nCloses-Bug: #1923723\n\nChange-Id: Ib3e2d9c93221dfc2e15974142f30e8c84e7afd63\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Added Contrail Composable Services\n\nchanged parameter order\n\nfor tripleo heat templates see https://review.openstack.org/#/c/346799/\n\nImplements: blueprint contrail-services\n\nChange-Id: I8de63b6e21f8fdf3c2fd13bf5475cce4a85311d6\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add class to use certmonger's local CA\n\nThis class extracts the certificate and adds it to the trusted certs.\n\nbp tls-via-certmonger\n\nChange-Id: I6dc1e0469cd7dbbb51659c8f29975d25b2941ec3\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Make ::tripleo::profile::base classes work with multiple nodes\n\nIn the Next Generation HA architecture a number of active/active services\nwill be run via systemd. In order for this to work we need to make sure that\nthe sync_db operation only takes place on the bootstrap node, just like it is\ndone today for the pacemaker profiles.\n\nWe do this by removing sync_db as a parameter and instead set it to true\nor false depending if the hostname matches the bootstrap_node as it is done\ntoday in the pacemaker role.\n\nNote that we call hiera('bootstrap_nodeid', undef) because if a profile\nis included on a non controller node that variable will be undefined.\n\nThe following testing was done:\n- HA puppet-pacemaker.yaml scenario with three computes\n- NonHA with one controller\n- NonHA with three controllers\n\nFixes-Bug: 1600149\n\nCo-Author: cmsj@tenshu.net\n\nChange-Id: I04a7b9e3c18627ea512000a34357acb7f27d6e0e\nImplements: blueprint ha-lightweight-architecture\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Include heat base profile outside of step\n\nThe base profile can already take the steps into account. so it's not\nnecessary to include it inside the if statement.\n\nChange-Id: I7b22063db7ff4807242cc0e353dccc34be848b8d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Disable chrony-wait\n\nThe chrony-wait service also prevents ntpd from starting on reboots.\nThis service should be disabled if present and running on the host when\nusing ntp.\n\nChange-Id: I4833525ae98d95c3ad84e3f79f30b8078c394ee1\nCloses-Bug: #1795986\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove manifests for Contrail deployment\n\nThis change removes puppet manifests to deploy Contrail components.\nThese have never been tested in upstream, and no longer used in\nthe recent integration method maintained in [1].\n\n[1] https://github.com/tungstenfabric/tf-tripleo-heat-templates\n\nChange-Id: I47870cc5bd12af0919774536cb23026450db6c14\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Make sure remotes are fully up before proceeding\n\nWe currently rely on 'verify_on_create   => true' to make\nsure that pacemaker remotes up before proceeding to Step2 (during\nwhich a remote node is entitled to run pcs commands).\nSo if the remote is still not fully up pcs commands can potentially\nfail on the remote nodes with errors like:\n\nError: /Stage[main]/Tripleo::Profile::Pacemaker::Compute_instanceha\n       /Pacemaker::Property[compute-instanceha-role-node-property]\n       /Pcmk_property[property-overcloud-novacomputeiha-0-compute-instanceha-role]:\nCould not evaluate: backup_cib: Running: /usr/sbin/pcs cluster cib\n/var/lib/pacemaker/cib/puppet-cib-backup20180519-20162-ekt31x failed with code: 1 ->\n\nverify_on_create => true has an incorrect semantic currently\nas it does not really wait for a single resource to be fully up.\nSince implementing that properly will take quite a bit of work\n(given that pcs does not currently support single-resource state\npolling), for now we avoid using verify_on_create and we simply make\nsure the resource is started via an exec.\n\nRun 25 successful deployments with this (and the depends-on) patch.\n\nCloses-Bug: #1773754\nDepends-On: I74994a7e52a7470ead7862dd9083074f807f7675\nChange-Id: I9e5d5bb48fc7393df71d8b9eae200ad4ebaa6aa6\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add port to rabbitmq node ip list\n\nWe use the rabbit_hosts configuration for most of our services but we\nhaven't been adding the configured port. This patch appends the IP port\nused provided to the service's heat template to the IPs in the list.\n\nNote: while we could use the value set for the rabbitmq server in\nrabbitmq::port, it doesn't allow for dealing with SSL. This also is also\nbackwards compatible with the RabbitClientPort parameters used in the\nheat templates.\n\nChange-Id: I0000f039144a6b0e98c0a148dc69324f60db3d8b\nCloses-Bug: #1633580\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Change rabbitmq queues HA mode from ha-all to ha-exactly\n\nIt turns out that reducing number of rabbitmq queues in cluster\nsignificantly improves performance of cluster especially in the case of\nfailover recovery time. Right now the cluster uses ha-all mode for rabbitmq\nqueues.\n\nIt is best to change this to \"ha-exactly\" mode and reduce the number\nof queue copies to ceil(N/2) where N is number of controllers in the\ncluster - so in typical scenario of 3 controller It would be 2 by\ndefault.\n\nIt does not make much sense to keep the copies of queues over whole\ncluster since if the quorum of nodes is lost then the rest of cluster\nnodes will be stopped anyway. We let the user override this with a\nparameter.\n\nI.e. for a 3 node controlplane cluster we will go from this:\npcs resource show rabbitmq\n Resource: rabbitmq (class=ocf provider=heartbeat type=rabbitmq-cluster)\n  Attributes: set_policy=\"ha-all ^(?!amq\\.).* {\"ha-mode\":\"all\"}\"\n\nTo this:\npcs resource show rabbitmq\n Resource: rabbitmq (class=ocf provider=heartbeat type=rabbitmq-cluster)\n  Attributes: set_policy=\"ha-all ^(?!amq\\.).* {\"ha-mode\":\"exactly\",\"ha-params\":2}\"\n\nAccording to Marin Krcmarik's testing recovery time from failure was\nreduced significantly.\n\nCo-Authored-By: Marian Krcmarik <mkrcmari@redhat.com>\n\nChange-Id: Ib62001c03e1e08f58cf0c6e0ba07a8879a584084\nPartial-Bug: #1628998\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add authtoken security options\n\nAdd ability to specify the memcache_security_strategy and\nmemcache_secret_key for keystone authtoken middleware.\nThe keys for individual services are hashed with a salt,\nto isolate them.\n\nChange-Id: I8d558cac3c23c3c0708e7e00d7bb83ac91795bb7\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add noop service provider and use it for httpd\n\nAdd noop service provider that we use when configuring Apache in\ncontainers. Supresses actions performed on the httpd service.\n\nChange-Id: Ibed34a9eeecc9d8ab310816e05652bdd5962f772\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "nova: manage migration bits in a composable way\n\nAllow to enable/disable migration bits from a single place, and select\nwhich services are running on a node.\nThe use case here is to allow container deployements where libvirt &\nnova-compute are separated.\nAlso support collocation for backward compatibility.\n\nChange-Id: I0b765f8cb08633005c1fc5a5a2a8e5658ff44302\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Adds ability to populate SSH Banner text\n\nA puppet manifest to allow the toggle of 'Banner' in sshd_config\nand enable population of an SSH login banner needed for security\ncompliance such as DISA STIG\n\nIf `Bannertext` is set as a parameter, the `Banner` key within\nsshd_config is toggled to `/etc/issue` and the content is copied\ninto the `/etc/issue` file\n\nChange-Id: Ie9f8afdfa9930428f06c9669fedb460dc1064d5e\nCloses-Bug: #1640306\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Memcached: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: Iaf86bb11e43432399d67b64c7a439cc85519c678\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add support for Cinder \"NAS secure\" driver params\n\nAdd ability to set Cinder's nas_secure_file_operations and\nnas_secure_file_permissions driver parameters. Two sets of identically\nnamed parameters are implemented by Cinder's NFS and NetApp back end\ndrivers.\n\nThe ability to control these parameters is crucial for supporting deployments\nthat require non-default values.\n\nPartial-Bug: #1688332\nDepends-On: Id92cfd4190de8687d4731cf301f2df0bde1ba7d9\nChange-Id: I76e2ce10acf7b671be6a2785829ebb3012b79308\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Haproxy endpoint resource: set defaults for server_names and IPs\n\nIt's not trivial to set the server names and IP addresses for dynamic\nhaproxy endpoints due to the fact that hiera renders the array as a\nstring. In order to make this work, we try to be clever and get the\nserver names and IPs from hiera directly as a default value. This should\nwork as long as the endpoint uses the same name as the service.\n\nCloses-Bug: #1743626\nChange-Id: I51eebfeceb5915fb0add8332c50386f6df93dca5\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Rework GDPR compliant logrotate config\n\nSet the logrotate maxage parameter to purge_after_days\nas well.\n\nRework additional retention rules of files in\n/var/log/containers in the containerized logrotate\npostrotate script. The rules are based on any of the\nlisted criteria met:\n\n* time of last access of contents (atime) exceeds\npurge_after_days,\n* time of last modification of contents (mtime) exceeds\npurge_after_days,\n* time of last modification of the inode (metadata, ctime)\nexceeds purge_after_days.\n\nForcibly purge expired files with each containerized\nlogrotate run triggered via cron. Note that the files creation\ntime (the Birth attribute) is not taken into account as it\ncannot be accessed normally by system operators (depends on FS\ntype). Retention policies based on the creation time must\nbe managed elsewhere.\n\nRelated-Bug: #1771543\n\nChange-Id: I9afa22f7dd344a29747206b286520a76d70d704b\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "mysql/client: create tripleo.cnf everytime\n\nIf TLS isn't enabled, Augeas won't create tripleo.cnf but Docker will\ncreate the file itself while mount binding it into the container.\nWith podman, the files/dirs that don't exist aren't created (probably\nfor the best), so let's create this empty file so podman can mount it\nanyway.\n\nBlueprint podman-support\nCo-Authored-By: C\u00e9dric Jeanneret <cjeanner@redhat.com>\nChange-Id: I28fa68f5a802ad60a2cac0dd2644804dd1f47e9e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Replace rsprep directive with http-response replace-header\n\nHaproxy 2.4.x errors out when using rsprep directive:\n<13>Sep  4 08:07:09 puppet-user: [NOTICE] (34) : path to executable is /usr/sbin/haproxy\n<13>Sep  4 08:07:09 puppet-user: [ALERT]  (34) : parsing [/etc/haproxy/haproxy.cfg20210904-13-18ckjh5:44] : The 'rsprep' directive is not supported anymore since HAProxy 2.1. Use 'http-response replace-header' instead.\n<13>Sep  4 08:07:09 puppet-user: [ALERT]  (34) : parsing [/etc/haproxy/haproxy.cfg20210904-13-18ckjh5:58] : The 'rsprep' directive is not supported anymore since HAProxy 2.1. Use 'http-response replace-header' instead.\n<13>Sep  4 08:07:09 puppet-user: [ALERT]  (34) : parsing [/etc/haproxy/haproxy.cfg20210904-13-18ckjh5:81] : The 'rsprep' directive is not supported\n\nTested with haproxy 2.4 and now the config is accepted by haproxy -c.\nThe rsprep directive has been removed in 2.1:\nhttps://www.haproxy.com/blog/haproxy-2-1/#deprecated-configuration-options\n\nTested this by deploying an overcloud with tls-e and this patch and\nverifying that tempest still works.\n\nThe config lines now look like the following:\n\n  http-response replace-header Location http://(.*) https://\\1\n  http-response replace-header Location http://10.0.0.5(.*) https://10.0.0.5\\1\n\nTested the horizon redirect is still working:\n[stack@undercloud-0 ~]$ curl -v -L http://overcloud.localdomain:80/\n*   Trying 10.0.0.5:80...\n* Connected to overcloud.localdomain (10.0.0.5) port 80 (#0)\n> GET / HTTP/1.1\n> Host: overcloud.localdomain\n> User-Agent: curl/7.76.1\n> Accept: */*\n>\n* Mark bundle as not supporting multiuse\n< HTTP/1.1 301 Moved Permanently\n< content-length: 0\n< location: https://overcloud.localdomain/\n\nCloses-Bug: #1942675\n\nChange-Id: Ie29a03affbbf8d6d47a5c50ef1c17bab9847f460\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Set enabled_share_protocols based on enabled backends\n\nWhen deploying manila with cephfs, share creation fails because\n'enabled_share_protocols' sticks to NFS,CIFS and does not get updated\nwith CEPHFS. This change aims at fixing it by building the list of\nenabled protocols based on the list of enabled backends.\n\nCo-Authored-By: Tom Barron <tbarron@redhat.com>\nCloses-Bug: 1630564\nChange-Id: I86ba8b9d5872c0f1a94e74215e97b796ad129bfb\n",
        "issue_summary": ""
    },
    {
        "commit_message": "HA overcloud: wait for db before running grant commands\n\nWhen using the pacemaker profile, some collectors ensure that\nmysql is up before trying to create databases or users.\nExtend the ordering constraints to include grant operations.\n\nChange-Id: Ib2af5dfe5af5a1f0db806c04ee83ed48724673db\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\nCloses-bug: #1776485\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Manage tripleo-ui configuration files with puppet\n\nThis commit ensures the tripleo-ui configuration files are present and\nare matching the environment.\n\nChange-Id: I0deeffa9026b1f5cd36a9810aaee7832e31c3c93\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix legacy nova/cinder encryption key manager configuration\n\nRecent changes in Nova [0] and Cinder [1] result in Barbican being selected\nas the default encryption key manager, even when TripleO is not deploying\nBarbican.\n\nThis change ensures the legacy key manager is enabled when no key manager\n(such as Barbican) has been specified. This restores the previous behavior,\nwhere the legacy key manager was enabled by default.\n\n[0] https://review.openstack.org/484501\n[1] https://review.openstack.org/485322\n\nCloses-Bug: #1706389\nChange-Id: Idc92f7a77cde757538eaac51c4ad8dc397f9c3d3\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Glance: Include new puppet classes for castellan options\n\nThe keymgr_* parameters are deprecated and these parameters will be\ncompletely migrated to glance::key_manager. This change ensures the new\nclasses are included.\n\nDepends-on: https://review.opendev.org/772141\nChange-Id: Idc5b51db85b007abad34d0d69cf5be9fe51c5f0d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Do not include client classes\n\nThe client classes are used to install client packages like aodhclient,\nbut there is no need to install these client packages when installing\nservices. In addition, package installation is no longer enabled since\nservices are containerized, so these classes are no longer effective.\n\nChange-Id: Iced0d69556f61e6facfb1462de3ad241b5dfcfcb\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add verify required and CA bundle to haproxy\n\nThis only takes effect is internal-tls is used, and forces haproxy to\ndo proper verifications of the SSL certificates provided by the\nservers.\n\nbp tls-via-certmonger\nChange-Id: Ibd98ec46dd6570887db29f55fe183deb1c9dc642\n",
        "issue_summary": ""
    },
    {
        "commit_message": "gnocchi/ceilometer upgrade workflow fix\n\nThe current workflow for gnocchi/ceilometer upgrade doesn't\nwork well with swift backend.\n\nNotification agent push data into Gnocchi on step4, but\nCeilometer-upgrade run only on step5, So Gnocchi have not been populated\nwith latest resource schemas.\n\nGnocchi-api is started in step3 but gnocchi::storage configuration have\nnot been done and database upgrade have not been done.\n\nWhen configuration is done on step4, httpd will be restarted.\n\nThis change will fix this issue by:\n\n* Doing only the Gnocchi database upgrade on step3 because swift is\n  ready only on step4.\n* Configuring gnocchi::storage on step3 to avoid gnocchi-api restart on\n  step4.\n* Add dependencies between ceilometer-upgrade and gnocchi-api in case of\n  non multinode deployment.\n\nThis ensures:\n\n* gnocchi-api will be correctly configured at the end of\n  step3 (configuration+database-sync).\n* No new measures will be pushed to Gnocchi before ceilometer-upgrade have\n  upgraded the Gnocchi resource schemas.\n* Gnocchi-api have database updated before ceilometer-upgrade need it.\n* We continue to upgrade storage/incoming data of Gnocchi on step4 after\n  swift is up.\n\nCloses-bug: #1724328\nChange-Id: I3f9a784e507e03454b335ba8319601fba208ba0a\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Implement Nova ec2api profile\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Add replication_probe_interval for ovsdbs\n\nAdd posibilities to configure replication_probe_interval for ovsdb-server.\nIt configure probe interval for connection for ovsdb-server when it is\nin backup mode and connects to the active ovsdb-server for replication\n\nChange-Id: I6e5af0cfc00778e251bae0fc42c116a24c8fabc3\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Drop non-bundle manila\n\nJust like we did via Id1340c45679d720cdf5ed9b5b15347d73cffc445\n(Drop all non bundle implementations), let's also drop the non-bundle\nimplementation of manila\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/812654\n\nChange-Id: I2097c9e578713ac43e7360566e786dd92b4ebec0\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add non-pcmk Trove API/Conductor/Taskmanager profiles\n\nPartially-implements: blueprint trove-integration\nChange-Id: I667f40f1fa0a7f5c63be52412e3625bbe9b5fbd7\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Redirect keystone admin endpoint to public endpoint\n\nThis adds the option to specify an additional port which\nhaproxy will listen on, making sure that all requests to\nthe admin endpoint are redirected.\n\nChange-Id: I293c1e57a2a04ff4ba7e5b01842ca2535291cfdf\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Close OVN VIP race by adding an ordering constraint\n\nCurrently there is a race with the high-availability of ovn when resetting a\ncontroller. Namely, the VIP that OVN uses (namely the internal_api VIP\nby default) only has a colocation constraint with the master role of the\novn-dbs resource. This leaves the following race open:\n1) We reboot ctrl-0 hosting the master role of ovn-dbs\n2) OVN becomes master on ctrl-1 from pacemaker's POV (but the\n   promotion operation running in the background is not completed)\n3) OVN VIP moves to ctrl-1 even though it is still in slave mode\n  (there is only a colocation constraint between vip and master role for\novn)\n4) OVN controllers on the overcloud connect to the VIP but it is in\n  read-only mode because it was a slave\n5) OVN controllers that connected at 4) stay in read-only forever\n   until they get restarted manually.\n\nWith the addition of this constraint we force the VIP move only after\nthe master role has been promoted. This makes it much more unlikely\nfor a client to connect to the VIP and get a read-only db in the\nbackground. With only this patch applied I did not manage to reproduce\nthe issue (even after 7 reboots of controllers).\nNote that there is still a small race window possible because the\ncurrent OVN resource agent has a bug: it promotes a resource to master\nafter issuing the promotion command to the DB but without waiting for\nthis promotion to complete. A patch for OVN-ra will also be submitted\nbut from initial testing this change seems to be largely sufficient.\n\nAlso note that this change introduces a small less desirable\nside-effect:\nA failover of the internal VIP will now take a bit longer because it\nwill happen only after ovn-dbs gets promoted to master.\nWe plan to take care of this fully by decoupling the OVN VIP from the\ninternal_api one. This change addresses the immediate issue related\nto ovn_controllers being stuck in read-only due to premature promotion.\n(OVN upstream is discussing how to make connections to read-only VIP\ntrigger a reconnection eventually)\n\nCloses-Bug: #1835830\n\nChange-Id: I3fa07e28c4e37197890664d12a265f1673c780f2\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add socat listen backend to clustercheck service\n\nAllow clustercheck to be started on-demand by either socat or\nxinetd. T-h-t configures the backend to be run by Kolla at\ncontainer start.\n\nChange-Id: Ie7ede82a755e729d66e077f97e87b3d6c816ed3c\nRelated-Bug: #1928693\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Make cipher suite and SSL options configurable\n\nThis CR enables the ability to set the cipher suite to be used by\nHAproxy and the SSL options. So now the user can enable these through\nhiera.  The cipher suite comes from the Fedora system crypto policy.\n\nChange-Id: Ia5751d4049026683fa13d4bc4cbf4eaffe054b48\nDepends-On: I4943c6c74e0be96c1d7e190908b9262df05d059a\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Configure keystone endpoints in service profile\n\nThis commit enables the configuration of the service users and\nkeystone endpoints in the keystone profile. Since with the\ncomposable services work, we can't assure that the APIs will be in\nthe same node as keystone, this needs to be done from the keystone\nprofile.\n\nDepends-On: I62273f403838893602816204d9bc50d516c0057f\nChange-Id: I36e1c478e7c92be61da6a0d710e9025d4d354072\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Allow the Mistral tunnel timeout to be configurable.\n\nChange-Id: Ibfd5587476d5a411206f62e8b4b886db662bf7d1\nRelated-Bug:  #1872823\nSigned-off-by: Luke Short <ekultails@gmail.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Use pcs 0.9 style authkey/remotes when doing an upgrade\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Ceilometer: Skip configuring db parameters\n\n... because these parameters are not used actually.\n\nChange-Id: I2ee3e942f07eda5c61a348e058fcf43ce2c7af70\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Make install of kolla optional on the undercloud\n\nThis defaults to 'True' to keep backward compatibility and can be\ndisabled by setting 'enable_container_images_built' to false in\nundercloud.conf.\n\nDepends-On: Ia3379cf66b1d6b180def69c2a5b22b2602baacef\nChange-Id: I33e7e9a6a3865fed38f7ed6490455457da67782b\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add kubernetes API to haproxy LB configuration\n\nThis is to enable our existing haproxy & vip management to work as an\nexternal loadbalancer for kubernetes when it's deployed as part of the\novercloud.\n\nChange-Id: I89c63720921db5e9c63536645694f2c35ef8b2f1\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Use clustercheck credentials to poll galera state in container\n\nThe clustercheck service currently connects to mysql as root\nto poll the state of the galera cluster.\n\nUpdate the generated config to use clustercheck credentials.\n\nDepends-On: If8e0b3f9e4f317fde5328e71115aab87a5fa655f\nCloses-Bug: #1707683\n\nChange-Id: I4ee6e1f56a7880ccf456f5c08d26a267fb810361\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Use pcs 0.9 style authkey/remotes when doing an upgrade\n\nWe leverage the _override keys for pacemaker and pacemaker_remote\nservices in order to decide if we should use the old way of managing\nremotes (managed authkey and pcs 0.9 way of doing remotes).\n\nThe pacemaker_remote override keys are introduced via\nhttps://review.opendev.org/741610\n\nRelated-Bug: #1888398\n\nChange-Id: Iad23663d6c98e4fd3a507980638870e0ad0cee45\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Check rabbitmq user at step >= 2\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Allow certmonger mysql resource to use several DNS names\n\nThis allows for several SubjectAltNames which will subsequently be\nused for the replication traffic as well.\n\nbp tls-via-certmonger\n\nChange-Id: Ic68266eaf39d6803f7c3e299095578bbcfd63b88\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Use exec for CA CRL instead of file resource\n\nThis is because the file resource doesn't properly handle query\nparameters in URLs. So we are forced to use an exec resource here. It's\nfine if we always trigger the CRL downloading, as that's a file that\ngets udpated often.\n\nAlso ensure we get proper escaped source/destination for the download.\n\nCo-Authored-By: C\u00e9dric Jeanneret <cjeanner@redhat.com>\nChange-Id: I15ad3ab0cd129a8e1b9261341c0510265bda8016\nCloses-Bug: #1787878\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Explicitly set certmonger's CA cert's permissions\n\nWe were relying on the default permissions that were being set by the\ncommand that extracts the certificate into a PEM file. This wasn't the\nright approach, as it could be too restrictive in some setups.\n\nHere, we explicitly tell puppet to set the appropriate permissions\ninstead.\n\nGiven this is a certificate file, and there's no private key involved,\nwe can set it as world readable (0644). As folks in the system need to\naccess the file.\n\nChange-Id: I4b2cb1071e3fd5a1277d54b86822e8fef2df0d78\nCloses-bug: #1788257\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Use memcached for token caching in cinder authtoken\"",
        "issue_summary": ""
    },
    {
        "commit_message": "loadbalancer: Enable backup mode for Galera\n\nThis commit allows to enable backup mode for non master galera node.\n\nChange-Id: I8b27f470ae171d77c8c8283797ff1502ef44e17f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Add Ceph RGW listener to HAProxy\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Include vendordata in nova-api and nova-metadata-api\n\nSince the removal of deprecated vendordata parameters in each classes\nin puppet-nova[1], we should explicitly include nova::vendordata class\nin nova-api and nova-metadata-api so that required parameters are set\nin controller nodes.\n\n[1] https://opendev.org/openstack/puppet-nova/commit/296b10691680dd364ba8eaa0e938f9691c3744bb\n\nCloses-Bug: #1879418\nChange-Id: I62d21ea910a976b1ba36b3c9a943d3547b40b7fc\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Adding support for Bagpipe Agent as BGPVPN driver\n\nPartially-Implements: blueprint bgpvpn-service-integration\n\nChange-Id: I54ef40f9d958e87d187a6d124995aa6951c0651a\nSigned-off-by: Ricardo Noriega <rnoriega@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Horizon: Enable manila-dashboard configurations\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove the usage of cinder::ceilometer\n\n... because all parameters in cinder::ceilometer are now implemented\nunder cinder class.\n\nDepends-on: https://review.opendev.org/#/c/717413/\nChange-Id: Id3425badc492ea07e34b99629dec771cf483cb5d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove unused tripleo::network::os_net_config\n\nThis class was used to run os-net-config in undercloud node, but since\nwe containerized undercloud we use ansible instead of puppet to run\nthe command.\n\nChange-Id: Id8036e9eed8c2f1ba6df37dd58f85e03fcfb6c30\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove the unused parameter\n\nThis change removes the unused parameter which should have been\nremoved when we removed implementation to manage the default volume\ntype by puppet[1].\n\n[1] 91629ff680213c1f7adfd5496b9f9efea3c987b1\n\nChange-Id: I7a979a48ddf8d5c52c33ffba604e92d2ff4e08d8\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Configure cinder's default volume type\n\nAdd a resource that creates Cinder's default volume type. The\ncinder::type provider executes osc commands, so this is only done once\non the bootstrap node, and at step 4 when the cinder_api service is\nrunning.\n\nPartial-Bug: #1782217\nChange-Id: Ia23996abefdd1410fb86f04ed84a314f4364339c\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Move gnocchi upgrade and api to step 4\n\ngnocchi upgrade requires storage sacks to be initialized. This means\nwe need to ensure the storage backends are up before running the\nupgrade and starting the api. Lets move the api to step 4 so we can\nensure other dependencies are in place.\n\nCo-Authored-By: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nDepends-On: Ibfa9fb39f60c1e4a802d189b32ff4c34476c93d3\nChange-Id: If2ae48b21389e76fd638c0b48c148a5d4f227630\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add option to disable running mistral-api via wsgi\n\nThe tripleo container do not yet have the required packages to run\nmistral-api on top of apache so we're looking for a way to disable it.\n\nChange-Id: I54627f1c5a8867738a55bee42075bb6087830c61\nRelated-Bug: #1724607\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove the unused tripleo::host::sriov class\n\nThe tripleo::host::sriov class is no longer used since we removed\nthe OS::TripleO::Services::NeutronSriovHostConfig service resource[1].\n\n[1] 4f198c32cb7e23b07bb1d722383d81b8ffaf4241\n\nChange-Id: I2bf9ca64f8fcbec074e8242f4fe9e2ef5b7f924b\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Allow configuration of NFS backend for Nova\n\nAllow NFS configuration of storage backend for Nova.\nThis way the instances files will be stored on a shared\nNFS storage.\n\nImplements: bp tripleo-nova-nfs\n\nChange-Id: Id15aec6324814a871e87f19f24999b0e3b8a8f05\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix MySQL service name parameter\n\nThis was wrongly set to service_name while it should have been\nserver_service_name.\n\nChange-Id: Ia802857cc585bb9b057a02f6a13c16981baa5b76\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Pass mistral::api service_name from t-h-t\n\nIn order to have the chicken-egg work, service_name had to be explicitly\npassed to ::mistral::api. This switches to using values from t-h-t.\n\nChange-Id: Ib94e51f863ba59a1a1db47d58aed3ba4e5fc9650\nDepends-On: Ie98dd5061d92dbc3c15bdd8926b0e3d62cc471f6\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Revert \"Add support to configure token caching in keystone\"\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Don't include api/scheduler manifests on manila share service set up\n\nManila pacemaker manifest (which sets manila share service only)\nincludes also manila api and scheduler manifests. There is no\nreason for this. Also it causes that on whichever node manila share\nservice runs also manila api and scheduler services are started.\n\nChange-Id: Ia1b39ef36c5bc34813cd6430b69ad9b698acc3cf\nCloses-Bug: #1653500\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove unnecessory usage of hiera\n\nWe don't need to use hiera if the parameter is actually implemented\nin the class.\n\nChange-Id: Ia916707eaecb7a6d48f992ff2112fe8507544ee1\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Cinder: Remove implementation for HPE Lefthand driver\n\nRelated-Bug: #1933709\nDepends-on: https://review.opendev.org/798175\nChange-Id: I0ac7bb0d811cd0b2fa7b4e5a5de102f111e22556\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Correct haproxy's stat unix socket path\n\nWe currently set the haproxy stat socket to /var/run/haproxy.sock.\nOn Centos/RHEL with selinux enabled this will break:\n\navc: denied { link } for pid=284010 comm=\"haproxy\"\nname=\"haproxy.sock\" dev=\"tmpfs\" ino=330803\nscontext=system_u:system_r:haproxy_t:s0\ntcontext=system_u:object_r:var_run_t:s0 tclass=sock_file\n\nThe blessed/correctly-labeled path is /var/lib/haproxy/stats\n\nNote: I am setting only Partial-Bug because I would still like\nto make this a parameter so other distros may just override the path.\nBut that change is more apt for pike and not for ocata.\n\nChange-Id: I62aab6fb188a9103f1586edac1c2aa7949fdb08c\nPatial-Bug: #1671119\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Override X-Forwarded-Proto header\n\nRight now, the only manipulation done to the X-Forwarded-Proto header\nis done if an SSL connection is established. This is not sufficient as\none might be able to erroneously put values through that header.\n\nThis patch disables that behaviour by defaulting to plain http if an\nSSL connection is not established.\n\nChange-Id: I4bf6def21e21148834c2baa9669190bab8fa95ef\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Bind-mount iscsid IQN by its real host path\n\nContainerized or running on baremetal services\non a node must use the same iSCSI Qualified Name (IQN).\nHowever, overcloud nodes must have a unique IQN.\n\nTht's puppet config bind mounts the real hosts' /etc/iscsid\ndirectory so that puppet ensures the IQN is unique and\nis reset once, and only once.\n\nSwitch the host path bind mount for cinder bundles to catch up\nthat configuration path as well.\n\nRelated-bug: #1735425\n\nChange-Id: I7e9f0641164691682516ac3e72e2145c7d112409\nCo-authored-by: Alan Bishop <abishop@redhat.com>\nCo-authored-by: Martin Andr\u00e9 <m.andre@redhat.com>\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Ironic inspector support\n\nThis includes a new ironic-inspector profile, and updates\nto the mysql and keystone profiles so that a database\nand endpoints are also created when the inspector\nis enabled.\n\nChange-Id: I4a71a95efb87a10528df0600277768969a32117b\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add replication_probe_interval for ovsdbs\n\nAdd posibilities to configure replication_probe_interval for ovsdb-server.\nIt configure probe interval for connection for ovsdb-server when it is\nin backup mode and connects to the active ovsdb-server for replication\n\nChange-Id: I80c2377ea0223f0003e8e0982f1bc3c1b32b6d06\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix interface_for_ip for newer facter versions\n\nIn facter 3.x, the networking facts are in a complex hash. Previously\nthe interface facts where flat so we would lookup the vars. This change\nfirst tries the facter 2.x lookup before falling back to the facter 3.x\nsyntax.\n\nChange-Id: I260b18ae3479da4f5176027d4b26b3e1c6b22063\nCloses-Bug: #1812938\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix grafana listener options to allow affinity\n\nLike the other web based services, we need to enable\nthe source affinity to access the grafana instance\nthrough the haproxy vip.\n\nCloses-Bug: 1854337\nChange-Id: I3c6e8dd2d4a48f5c63311d9c37181c2f26b595ea\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove `validate_ip_address` validator.\n\nIt is already merged on the puppetlabs-stdlib module:\n\nhttps://github.com/puppetlabs/puppetlabs-stdlib/commit/88a9a314c3e9cccbea5add95081655f2c14ec4c1\n\nAnd we don't need to carry with this validation anymore.\n\nChange-Id: I2cee12e7601c546e616e2c249157e7739af29490\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Clean up code for novajoin\n\n... because support for the novajoin service was removed from tht.\n\nDepends-on: https://review.opendev.org/833508\nChange-Id: Ib43b5debdc9d946ac9c9f61dd9bd78045c703fe7\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove the ceilo wsgi transient flag\n\nThis was a temporary flag until the tht changes got merged.\nNow that the tht changes are merged we can remove this as\nparams are set for wsgi classes by tht.\n\nDepends-On: I728d0980f7742aa390f11a0f0b8598d1299e2886\n\nChange-Id: I93ea8ebb9053f269de8974880bd33d1b3e487f96\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Replace deprecated is_string/is_array/is_hash method\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Resolve repeated ports for ssl frontends\n\nkeystone and heat_cfn were listening on the same port if SSL is enabled\ninm the load balancer.\n\nChange-Id: I099119198ebf3322a783581f0c6758417e705a2e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Write restart flags to restart services only when necessary\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable internal network TLS for etcd\n\nbp secure-etcd\n\nChange-Id: I0759deef7cbcf13b9056350e92f01afd33e9c649\nSigned-off-by: Feng Pan <fpan@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Refactor enabled languages from an array to a hash\n\nChange-Id: I5173361818508849e5012a943a984af69d9d08cd\nDepends-On: I2d28d9019e8bcf9f6b8ef5698958932d44321679\nCloses-Bug: #1668978\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Allow custom per-service bind_options for haproxy\"",
        "issue_summary": ""
    },
    {
        "commit_message": "RabbitMQ: always allow promotion on HA queue during failover\n\nWhen the RabbitMQ experience a rolling restart of its peers, the\nmaster of an HA queue fails over from one replica to another.\n\nIf there are messages sent to the HA queue while some rabbit\nnodes are restarting, the latter will reconnect as unsynchronized\nslaves. It can happen that during a rolling restart, all rabbit\nnodes reconnect as unsynchronized, which prevents RabbitMQ to\nautomatically elect a new Master for failover. This has other\nside effects on fanout queues and may prevent OpenStack\nnotification to be consumed properly.\n\nChange the HA policy to always allow a promotion even when all\nreplicas are unsynchronized. When such rare condition happens,\nrely on OpenStack client to retry RPC if they need to.\n\nCloses-Bug: #1823305\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\nChange-Id: Id9bdd36aa0ee81424212e3a89185311817a15aee\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix wrapper containers for podman w/o sockets\n\nAdapt wrapper containers for podman, which has no a socket available.\n\nAdd container_cli parameter for base neutron class, default to docker.\nPossible values: podman/docker (default). It is used by the wrappers\ntooling to issue CLI commands to the host containers system.\nDeprecate bind_socket so it does nothing for podman CLI.\n\nAdditionally, add debug triggers for the wrapper scripts messages to\nbecome captured to the wrapper containers' stdout.\n\nDo not stop and remove the existing container before launching a new\none. Allow the neutron parent process to control the process life\ncycle. Although make the wraper containers cleaning up any exited\ncontainers after its main process terminated by the neutron parent\nprocess. Additionally, If a name is already taken by a container,\ngive it an unique name and assume all the smooth transitioning work\nto be done by the parent neutron process and that clean up logic\nin the wrapper.\n\nCloses-Bug: #1799484\nChange-Id: Ib3c41a8bee349856d21f360595e41a9eafd79323\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix mistral profile steps\n\nFixing Mistral profile\nwhen deploying the service.\n\nChange-Id: I942d419be951651e305d01460f394870c30a9878\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Refactor nova migration config into client & target profiles\n\nThe nova migration config has always been applied by the base::nova profile.\nIt assumed that libvirtd/nova-compute and are all running on the\nsame host.\nWhere this config didn't apply (e.g a nova api host) it was disabled by a flag.\n\nThis approach is not compatible with containers. Hieradata for all containers\nare combined so per-host flags no longer work, and we can no longer assume\nlibvirtd and nova-compute run in the same context.\n\nThis change refactors the profiles out of the base nova profile and into\na client profile and a target profile that can be included where appropriate.\n\nChange-Id: I063a84a8e6da64ae3b09125cfa42e48df69adc12\nImplements: blueprint tripleo-cold-migration\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Fix comparison to control_virtual_ip\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Add monitor interval for ovn dbs\n\nAdd parameter for configuring the ovn dbs monitor interval. Under load,\nthis can create extra stress and since the timeout has already been\nbumped. It makes sense to bump this interval to a higher value as a\ntrade off between detecting a failure and stressing the service.\n\nChange-Id: I0572f02f1bb8e099ce7647bc2f2f9b095a9c390c\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Include barbican modules to swift proxy\n\nIncluding new modules to be deployed with the Swift proxy\nThese new modules enable barbican support in Swift\n\nDepends-On: https://review.openstack.org/525321\nChange-Id: I1ceda973733acb081967ab04a5fd57eb1609c9a7\nSigned-off-by: Thiago da Silva <thiago@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "set innodb_file_per_table to ON for MySQL / Galera\n\nInnoDB uses a single file by default which can grow to be\ntens/hundreds of gigabytes, and is not shrinkable even\nif data is deleted from the database.\n\nBest practices are that innodb_file_per_table is set to ON\nwhich instead stores each database table in its own file, each of\nwhich is also shrinkable by the InnoDB engine.\n\nCloses-Bug: #1660722\nChange-Id: I59ee53f6462a2eeddad72b1d75c77a69322d5de4\n",
        "issue_summary": ""
    },
    {
        "commit_message": "IPv6 VIP addresses need to be /128\n\nWe currently hardcode /64 as our VIP addresses when using IPv6.\nThe problem with this is that some server code might bind to that\nIP as a source address when doing inter-cluster communication\n(rabbitmq/galera for example). So when the VIP moves there will\nbe effectively a network outage between the nodes, which should not\nhappen.\n\nLikely this was hardcoded to /64 because the RA IPaddr2 needs a nic\nparameter when /128 is specified. This is due to:\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1445628\n\nWe also make sure we use the ipv6_addrlabel option set to 99 so that\nthey will never be used as source ip addresses.\n\nDepends-On: I7fcf15a00aedbdcfb21db501ad46c69fb97ec30c\nPartial-Bug: #1686357\n\nChange-Id: Ibefde870512ad1e03ff12f7aea91b3734f03f96f\nCo-Authored-By: Sofer Athlan-Guyot <sathlang@redhat.com>\nCo-Authored-By: Marios Andreou <mandreou@redhat.com>\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Automatically install packages when upgrading\n\nThis simplifies use of tripleo::packages so that when\nenable_upgrade is set to true you no longer have to enable_install\nas well.\n\nChange-Id: Ic3050a64530be9e2b6827ed8566f59d28547ae81\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix default for barbican documentation\n\nChange-Id: Id4dc2379b0c423012a0b3aaf49d1e1a7d633a03b\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Cinder: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: I77cb622a7ec1471715bb3e4fcb0157e5a6b80e74\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove cluster_enabled setting for etcd\n\nSetting cluster_enabled to false causes ETCD_INITIAL_ADVERTISE_PEER_URLS\nto be unset, which will cause deployment failure when etcd is deployed\nin a single node mode.\n\nCloses-Bug: #1673188\n\nChange-Id: Iadff36bf7beb247d0408913c89f83fa5c8ac6874\nSigned-off-by: Feng Pan <fpan@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add support for native TLS encryption on NBD for disk migration\n\nThe NBD protocol previously runs in clear text, offering no security\nprotection for the data transferred, unless it is tunnelled over some\nexternal transport like SSH. Such tunnelling is inefficient and\ninconvenient to manage. Support for TLS to the NBD clients & servers\nprovided by QEMU was added. In tls-everywhere use case we want to\ntake advantage of this feature to create the certificates and configure\nqemu to use nbd tls.\n\nRelated-bug: 1793093\nDepends-On: Ifa5cf08d5104a62c9c094e3585de33e19e265110\nChange-Id: I1db1b60be4907511f0ec0f5aa0f0a45e1c5d9b45\n",
        "issue_summary": ""
    },
    {
        "commit_message": "horizon: be more flexible in hiera neutron\n\nRequiring the neutron mechanism driver from hiera is too rigid, if\nNeutron is not deployed in the catalog.\nBe more flexible so catalog won't fail if the value is not set in Hiera.\n\nChange-Id: I1475687c4dc53c77e763f42a440355a7c8d014bc\nPartial-Bug: #1659662\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix redis when hostname has capital letters\n\nThe bootstrap_nodeid comparison should be case insensitive.\n\nChange-Id: I1e6672bb0219c1cf56ab21dd911c6f33e2436cc3\nCloses-Bug: #1698190\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Upgrade all packages after puppet managed ones\n\nThis updates tripleo::packages so that when enable_upgrade\nis used it will:\n\n 1) upgrade puppet managed packages (will trigger puppet dependencies)\n 2) then upgrade all packages via exec\n 3) then restart services\n\nNOTE: the intention here is that the Exec['update-packages'] will\nalways execute if enable_upgrade is set. It is not idempotent\nin this regard because I think we always want to execute it\nif enable_upgrade is set.\n\nChange-Id: I02f7cf07792765359f19fdf357024d9e48690e42\nRelated-bug: #1522943\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix etcd's support for internal TLS\n\nFixes for etcd's certmonger cert and key generation:\n- Do not chown the cert and key files generated on the host. In addition\n  to the fact that \"etcd\" is not a valid user|grep name on the host, an\n  ACL must be used to allow other services (such as cinder) to access\n  the files. That ACL will be handled at the THT layer.\n- New $dnsnames parameter supports adding a list of subject alternative\n  name (SAN) to the cert.\n- Remove obsolete default $postsave_cmd (see comment in the code), but\n  make it a parameter so it can be overridden if necessary.\n\nThe cinder-volume service uses etcd when cinder is configured for\nactive/active mode. When internal TLS is enabled, the backend_url must\ninclude references to etcd's cert and key files.\n\nPartial-Bug: #1869955\nChange-Id: Ifa7452ec15b81f48d7e5fb1252f20b5af1dff95c\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Manila: Use manila::backend::ganesha to set up ganesha options\n\nDepends-on: https://review.opendev.org/790317\nChange-Id: I1a789a7f2fdcad88e019b9a761678985dc43ba7f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"haproxy: Use healthcheck middleware to monitor service availability\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Support for PowerFlex Cinder Backend\n\nAdding support for PowerFlex Volume Backend Driver\n\nDepends-On: https://review.opendev.org/#/c/742016/\nChange-Id: I33d56f1443f224c56654c5ec4a54aa9297a48497\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Ensure haproxy::balancemember::ports is a string\n\nThe recent change[1] in puppetlabs-haproxy introduced data type check\nand now the ports parameter accept only string or array of strings and\nno longer accepts an integer.\n\nThis ensures the value is converted to avoid validation errors.\n\n[1] https://github.com/puppetlabs/puppetlabs-haproxy/commit/95ca912f77966ed0da7a5bec9265cdacbf09da4c\n\nCloses-Bug: #2003882\nChange-Id: I65720576249f2242331e38762dd0d5860d74de9d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Adding nova::network::neutron to nova-conductor\n\nWhen deploying multiple compute cells, conductor module needs to source\nthe nova::network::neutron module otherwise the neutron settings are not\nconfigured on the cell conductor node.\n\nCloses-Bug: #1929427\nChange-Id: I236ab69175877f8ec5d3b1bef732486ae2b15b9d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Revert \"Add support to configure token caching in keystone\"\n\nChanging cache/enabled=False by default has dropped performance.\nkeystone local cache also got disabled with this.\n\nThis reverts commit 469d432195d1f5b5e15ce72ce1624d4ed4447e4e.\n\n\nDepends-On: https://review.opendev.org/#/c/688770/\nCloses-Bug: #1847585\nChange-Id: I2af70755746f3fc3eb10eba2188ad2772704d988\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove the duplicated word\n\nChange-Id: I65a4867b883f216dde10482166f9827c498ff083\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove dependency on memcached_node_ips_v6\n\nThis is set via all_nodes_config in t-h-t, but it's a special case for\nthis service, so it'll be better if we handle the ipv6 transformation\nin puppet instead of relying on the service specific list mangling in\nt-h-t (one aspect of which has been identified as a potential performance\nproblem).\n\nRelated-Bug: #1684272\nChange-Id: Iccb9089db4b382db3adb9340f18f6d2364ca7f58\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix HAProxy config for Nova EC2 API\n\nEC2 API returns 400 for unauthenticated requests, making HAProxy believe\nthat the service is down. We'll use TCP check instead of HTTP check for\nEC2 API.\n\nChange-Id: Ide7f9390603c9893b95cacd51d468461255dcf07\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Add TLS for ec2api metadata service\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Implement aodh profiles\n\nChange-Id: Ie48a123cc5bc402aee635a5daf118b158c6f3b6a\nImplements: blueprint refactor-puppet-manifests\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Remove the usage of cinder::ceilometer\"",
        "issue_summary": ""
    },
    {
        "commit_message": "First implementation of tripleo::database::mysql\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Use http mode for nova_novncproxy\n\nHaproxy warns us with the following:\nstderr F [WARNING] 121/195330 (7) : parsing [/etc/haproxy/haproxy.cfg:116] : HTTP log/header format not usable with proxy 'nova_novncproxy' (needs 'mode http').\nstderr F [WARNING] 121/195330 (7) : config : 'http-request' rules ignored for proxy 'nova_novncproxy' as they require HTTP mode.\n\nLet's add mode http to avoid this which is used in most other services\nanyways.\n\nChange-Id: Ib3daf19ed7318a0a04349b62ea4c821e1d87e648\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Use memcached for token caching in barbican authtoken\n\nUse memcached to cache token in barbican authtoken, as in-process\ncache, which we currently use, was already deprecated[1].\n\n[1] Ied2b88c8cefe5655a88d0c2f334de04e588fa75a\n\nChange-Id: I5dc9be5a9c6fff46b22064aa1f684be8e48ffa66\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add Puppet 4.x lint checks\n\n- This changes the puppet-lint requirement to 1.1.x, so that we can use\n  puppet-lint plugins. Most of these plugins are for 4.x compat, but some just\n  catch common errors.\n\nChange-Id: I2660b960b6ef696bd5dc8a6965b4a9aa25409b66\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Make neutron server/ml2 profiles match t-h-t\n\nThis patch brings the neutron profiles and the\nassociated steps in line with what already happens in\nt-h-t. Specifically:\n\n -we want to create the db $step >= 2 and $sync_db\n -we want to make sure plugin.ini exists before the neutron dbsync\n -we want to make sure the db sync runs before neutron::server starts\n  when using pacemaker\n -split the neutron server profiles. They are quite different across\n  pacemaker and base.\n\nChange-Id: I52815f45a04bf3e39940b9cb116261730580a3e2\n",
        "issue_summary": ""
    },
    {
        "commit_message": "nova/libvirt: switch vnc server binding\n\nOn compute nodes, instead of binding vnc server on 0.0.0.0, use the IP\naddress provided by libvirt's t-h-t profile (hiera).\n\nCo-Authored-By: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nDepends-On: Ie377c09734e9f6170daa519aed69c53fc67c366b\nChange-Id: If6b116b238a52144aad5e76c9edc7df6aa15313c\nCloses-Bug: #1660099\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Include swift::storage::loopbacks class\n\nThis makes it possible to create loopback devices for Swift by using\nadditional Hieradata. For example, to create a 100M loopback device that\nwill be mounted on /srv/node/d1:\n\n  parameter_defaults:\n    ControllerExtraConfig:\n      swift::storage::loopbacks::args: {\"d1\": {'seek': '100000'}}\n\nDepends-On: I11a230b7cf08a4cc2a144d9af0e6c81bb3827348\nChange-Id: I8741acc8afa1f1d23c5b25fa4bf27622f674a561\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Ironic: Manage [nova] options by puppet\n\nThis enables the ironic::nova class, to manage [nova] options in\nironic.conf, to disable/enable power notifications from ironic to\nnova.\n\nPartial-Bug: #2000308\nChange-Id: I273524330c11910e15f8eccdb9025db6e7c881e1\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Correct typo in manila/share.pp resource chaining\n\nA typo error resulted in an attempted resource chaining of\nCeph::Key[client.manila] to Exec[exec-setfacl-manila-manila]. The\nactual exec resource is Exec[exec-setfacl-manila]\n\nChange-Id: I78eec6022211b0e82c06599dea300961a2309f0c\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add support for share backend availability zones\n\nAdd the ability to override the \"backend_availability_zone\" parameter\nin every manila share backend.\n\nDepends-On: Ie7af8408fe8cec9349593fd9b4cb5bc7deb565cd\nChange-Id: Ic71545d786b851e7d3f3ce8502e913b81fc70059\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix deployment steps for AODH profiles\n\nThe services in the AODH profiles were\nlimited to be executed only in the\nbootstrap master node.\n\nChange-Id: I85cfa97f0e5e9a70e86e51d8188a2abf86e2ec1c\n",
        "issue_summary": ""
    },
    {
        "commit_message": "firewall: don't reload IPtables after cleanup\n\nThis patch stops the IPtables reload when doing Neutron rules cleanup.\n\nFull context:\npuppetlabs-firewall only manages the current state of iptables\nrules and writes out the rules to a file to ensure they are\npersisted. We are specifically running the following commands after the\niptables rules to ensure the persisted file does not contain any\nephemeral neutron rules. Neutron assumes the iptables rules are not\npersisted so it may cause an issue if the rule is loaded on boot\n(or via iptables restart). If an operator needs to reload iptables\nfor any reason, they may need to manually reload the appropriate\nneutron agent to restore these iptables rules.\n\nrhbz#1541528\nRelated-Bug: #1747960\nChange-Id: I1ab3a52306b91baadb70d2210a378417087f1ecf\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Fix the port for Panko API\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Retry ceilometer-upgrade\n\nWhen the ceilometer-upgrade command is run in step5, it talks to gnocchi\nand keystone on all the controllers. Since these other nodes might have\nhttpd restarted mid-upgrade we should retry if we get a failure.\n\nChange-Id: I874cf9c34b41d055a258704dabe9150eab0f7968\nCloses-Bug: #1703444\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add support for ODL-OVS IPv6 deployment\n\nMake necessary changes for proper deployment\nof ODL on IPv6 network.\n\nChange-Id: Id7a0986f886a81b2041987b0d5a95edf2160e05e\nDepends-On: Idd257cf4666b853eb4c52861f9f400b6dbdeeadb\nPartial-Bug: #1783196\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove deprecated cinder parameters\n\nClean up parameters and hiera data associated with deprecated cinder\nparameters removed from puppet-cinder by [1].\n\n[1] https://review.opendev.org/678965\n\nChange-Id: Ie763c985d32ecf942b32af2ff0eb5c531547b5c4\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \" Enable TLS in the internal network for Barbican API\"",
        "issue_summary": ""
    },
    {
        "commit_message": "nova: include nova::cinder in more common place\n\n... because the cinder_catalog_info parameter, which is used by api\nand compute, have been migrated from nova to nova::cinder[1].\n\n[1] 72103db985d00b3289b8b936956166f20ef8f3d0\n\nChange-Id: Ic90e3eb0898d9c8317fb994db4275be2db0bc679\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Replace mysql invalid open_files_limit of -1 with 65536\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Added X-Forwarded-Proto headers for horizon\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix containerized logrotate configuration\n\nUse copytruncate and 'hourly' log rotation by default.  Increase the\ndefault max number of rotated files to 336, which corresponds to 14\ndays, so that default period retained as is.\n\nWith the copytruncate option enabled, logs should be hourly rotated to\ndecrease disk IO load when copying log files around. The default\nmaxsize of 10M is better maintained for often rotations done within a\nday as well, so log files will not happen to become unexpectedly huge\nat the end of it.\n\nW/o copytruncate, the containerized logrotate sends no signals to\nprocesses, as files are only renamed and not unlinked. That makes the\nfiles deletion based filter failing, until the default period of 14\ndays expires. To fix that non-copytruncate case, post-rotate always\nsends HUP (USR1 for httpd) signals to all processes holding open files\nin the /var/log/containers host path. That also makes all services\nreloaded hourly (there is still a random splay applied by cron though)\nas a side effect.\n\nWith copytruncate ON, each rotation ensures the old log files will also be\ndeleted, so only affected services will be reloaded.\n\nAdditionally, send USR1 instead of HUP to reload httpd in containers\ngracefully.\n\nCloses-Bug: #1785659\n\nChange-Id: I15fa0eab1625ac63fd57b6a6d5cd22a6ac85f221\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Designate: Manage [producer_task:*] parameters\n\nDepends-on: https://review.opendev.org/821531\nChange-Id: Ieca3d36a0156989186efa71d383ff05dedbe8d86\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Neutron sidecar wrappers use netns they were invoked with\n\nNeutron uses namespaces with different prefixes depending on\nconfiguration and the nature of the resource. This patch changes the\nwrappers to use the \"ip netns identify\" command to determine the target\nnamespace for the sidecar instead of trying to guess from the command\nline options.\n\nChange-Id: If58bb9dabebf201b592fb450a663ae2f24374e00\nCloses-Bug: #1773823\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Change neutron backend's timeout in haproxy to 10 minutes\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove manifests for networking-ansible plugin\n\n... because it is no longer supported by t-h-t.\n\nDepends-on: https://review.opendev.org/864607\nChange-Id: Ie76536c8e3f80feee09ff5b5f8781e938a6e3e56\n",
        "issue_summary": ""
    },
    {
        "commit_message": "keystone: fix a race condition in bootstrap\n\nBefore, we had bootstrap_master set to 'undef' by default that was\nused to whether or not run keystone bootstrap exec during deployment.\n\nSetting the value to undef was a mistake, because enable_bootstrap in\npuppet-keystone is set to true by default, so bootstrap was running\non all controllers at step 4 for HA scenario, while we want it to run on\na single controller (pacemaker_master) at step 4, like we do for\ndb-sync.\n\nThis patch:\n\n* removes bootstrap_master.\n* re-use sync_db to whether or not run keystone bootstrap.\n  so it will only run on a single node when database is ready and\n  db-sync done (orchestration dones by anchors in puppet-keystone).\n\nChange-Id: I1042862f7c346d1c358b908c33eae0f33afd5e9f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Do not configure state matching when using GRE\n\nThe firewall rule quite reasonably sets up a default state matching rule\nbut this is invalid for GRE. This patch conditionally adds the state\nmatching if the protocol is not GRE.\n\nCloses-Bug: #1644360\nChange-Id: Ie4ca41d0f36e79ba6822c358e21b827105736dd7\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix parameters and headers inconsistency in the puppet manifests.\n\nAs we are staring to manually check overcloud services\nthe first step is to check that the puppet profiles\nare all aligned.\n\nChanges applied:\n\n  No logic added or removed in this submission.\n\n  Removed unused parameters.\n\n  Align header comments structure.\n\n  All profiles parameters sorted following:\n  \"Mandatory params first sorted alphabetically\n  then optional params sorted alphabetically.\"\n\nNote: Following submissions will check pacemaker,\ncinder, mistral and redis services in the base profiles\nas some of them has the $pacemaker_master parameter\ndefaulted to true.\n\nChange-Id: I2f91c3f6baa33f74b5625789eec83233179a9655\n",
        "issue_summary": ""
    },
    {
        "commit_message": "loadbalancer: document required parameters\n\nRemoves the (optional) comment from some of the required\nparameters.\n\nChange-Id: I0f2c96e0d77dfdb96d6b246c5f24511773592623\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Ironic: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: Ie280f3dcab6c887c3e5a6662c8d05c8fe98a8cf9\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Implement Pacemaker service profile\n\nChange-Id: I46215f82480854b5e04aef1ac1609dd99455181b\nCloses-Bug: #1601970\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove support for manila::backend::cephfsnative class\n\nThis class was replaced by manila::backend::cephfs\nin openstack/puppet-manila in the Pike release.\n\nSee corresponding change in openstack/puppet-manila [1]\n\n[1] Ib13dfc6ffa77e96f5738c2ca3f9646a80aded659\n\nChange-Id: I6757cd2368021b55775ad54931aa0b78c8383a68\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable setting SubjectaltNames for haproxy and httpd certs\n\nThis enables setting the subjectAltNames for HAProxy and httpd certs.\nThese will eventually replace the usage of many certs, to have instead\njust one that has several subjectAltNames.\n\nChange-Id: Icd152c8e0389b6a104381ba6ab4e0944e9828ba3\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add resource profile for vmware nsx_v3\n\nAdd support for VMware NSX neutron plugin.\n\nChange-Id: I9a50e608b08dce4e1409c89db1614974beb811f4\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add powermax support\n\nAdd powermax support\n\nDepends-on: https://review.opendev.org/c/openstack/puppet-manila/+/818108\nChange-Id: I09358592c9af03c9ffc0c7d734e7ed5ad72dbc7b\nPartial-bug: #1951131\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Change parameter to 'coordination_uri'\n\nclass neutron::plugins::ml2::networking_ansible has 'coordination_uri'\nparameter and not 'coordination_url'.\n\nChange-Id: Ic7d9ba1c46e71b9d39cacf541e7c91d5caf48a60\nCloses-Bug: #1857605\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Haproxy has non-working Horizon session persistence.\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Deprecating ScaleIO Volume Config\n\nA new Dell EMC VxFlexOS  config is added with\nnew parameters. Use that instead.\nSee https://review.opendev.org/#/c/728720/\n\nChange-Id: I9a820e4ed83a3e22fafa8e0cfe2153fd33f09090\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Terminate Zaqar websocket endpoint in HAProxy\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Gnocchi: Do not manage facl of ceph keyring\n\n... because this logic is never enabled and blocking usage of the exec\nresource now.\n\nChange-Id: I65842685b026eca1eb18f458c1b81096d9bd51bf\nRelated-Bug: #1922282\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove stack_action parameter\n\nThis is not used anymore.\n\nChange-Id: Ibed7a54bc63f93c4991216bf70618991c862db24\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Move calculation of neutron l3_ha into puppet profile\n\nThis is currently calculated in t-h-t but has a hard-coded reference\nto the ControllerCount which is incompatible with custom-roles.\n\nSo instead calculate the setting based on the number of neutron API\nservices running (on any role, not just Controller), combined with\nwhether DVR is enabled (equivalent to current t-h-t logic).\n\nTo avoid breaking the NeutronL3HA parameter in t-h-t we maintain an\noptional parameter to override the calculated value.\n\nChange-Id: I01c50973eec8138ec61304f2982d5026142f267c\nPartial-Bug: #1629187\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Ceilometer: Add support for oslo.cache parameters\n\n... and ensures memcached backend is set according to the deployment\narchitecture automatically.\n\nChange-Id: I4c89ce09c7da33254cc01f2b5b1f8c3c7bd8a9b6\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix the port for Panko API\n\nThe port used for Panko is conflicts with Trove[1]. According to the\nofficial documentation[2] this should be 8777. The 8777 port has been\noccupied by ceilometer. So set the panko api port to 8977.\n\n[1]https://github.com/openstack/trove/blob/master/etc/apache2/trove#L20\n[2]https://docs.openstack.org/developer/panko/install/manual.html#installing-the-api-server\n\nChange-Id: I5ccfc97765fc8b8bf9686b2451eda9c44c77dffc\nCloses-Bug: #1691283\nDepends-On: I53b286d1d6466b574fdb286cc45f3138f96dff59\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add support for separate VIP in ovn_dbs\n\nWe make the manifest contemplate the fact that ovn_dbs might have\nits own separate DB. This way when I620e37117c26b5b51bf9e1eda91daeb00fdf0f43\nlands and OVN DB will have its own separate VIP, it will all just work.\n\nWe also switch the explicit ordering constraints around pacemaker\nresources to collectors, so the case of non existing resources (like the\nseparate VIP for ovn_dbs) will automatically work.\n\nIn the case of separate VIP and stack update we also add code to remove\nthe additional constraints that were imposed on the internal API VIP due\nto being part of haproxy.\n\nRelated-Bug: #1841811\nDepends-On: I8f7f5534ab3d053ba07d4fd56975e02b3f83eedc\nChange-Id: Ic62b0fbc0fee40638811a5cd77a5dc5a4d82acf5\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Delete MidoNet deprecated classes and their tests\n\nMidoNet no longer uses the API component. It has been renamed/refactored\nto \"cluster\" as it can be seen on the docs at\nhttps://blog.midonet.org/introducing-midonet-cluster-services/\n\nAlso there is no need to have a Cassandra and Zookeeper dedicated\nclasses, as we leverage this through the use of the midonet_openstack\npuppet module.\n\nChange-Id: I2f17aeeac2d1b121be0d445ff555320d5af5d270\nPartial-Bug: #1647302\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Move barbican's database creation to mysql profile\n\nThis makes sure that the database creation is only executed on the mysql\nprofile (or container if that's enabled), and stops the conflicts and\nerrors that were happening when barbican was deployed in containerized\nenvironments.\n\nChange-Id: Ib5c99482f62397fc5fb79a9dc537dfb06ee7f4df\nCloses-Bug: #1710928\n",
        "issue_summary": ""
    },
    {
        "commit_message": "ceilometer-polling: : Require redis backend\n\nThe ceilometer polling agents require valid tooz backend so that tasks\nare distributed properly among multiple nodes. This change ensures\nredis vip and password are defined in hieradata so that coordination\nbackend can always be configured properly.\n\nChange-Id: I4b861f5cd600792422d57bb5676aa72505d190b0\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Switch to overlay2 driver for storage\n\nThis patch switches the default to the overlay2 storage driver and see\nif it helps performance.\n\nBackground:\n\nThe loopback driver is not recommended for production. Most\nother docker storage backends require extra disks (or partitions)\nwhich we don't have on the root disk. Overlay seems to make the\nmost since for TripleO upgrades where we intend to update\nin-place installations to use docker.\n\nCo-Authored-By: Martin Andr\u00e9 <m.andre@redhat.com>\nChange-Id: I6896a9b3e9dc3e269bf5b0dc753bf8c985482daf\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add initial profiles for rest of Octavia services\n\nInitial profile files for Octavia services.\n\nPartially-implements: blueprint octavia-service-integration\nChange-Id: Ic6f945cdf36744382a4a63fcc374d5562964ca68\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fixes incorrect license for certmonger haproxy dirs\n\nChange-Id: Idee479d12904beac23b2075fa6e3c6bd2b96732a\nSigned-off-by: Tim Rozet <trozet@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add missing cron jobs for Overcloud cleanup\n\nThis will add the Nova cleanup for the shadow\ntables.\n\nDepends-On: I2dcf37417c36fb8b1bde207c60d22d580005715c\nChange-Id: I1ebfb0964b00920d787115cfc997bcf0494081c9\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Set meta container-attribute-target=host attribute\n\nThis is needed because when we run bundles we actually\nwant to store attributes on a per-node basis and not on a per-bundle\nbasis. By activating this attribute pacemaker will pass\nsome extra OCS_RESKEY_CRM_meta attributes that will help us in this\ndecision.\n\nWe can merge this once we have packages for pacemaker and\nresource-agents releases that contain the necessary fixes.\n\nProper pacemaker and resource-agents are now in the repo [1] so\nwe can merge it and backport it to pike.\n\n[1] https://buildlogs.centos.org/centos/7/cloud/x86_64/openstack-pike/\n\nCloses-Bug: #1713007\n\nChange-Id: I0dd06e953b4c81f217d0f4199b2337e4c3358086\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix cinder's default RBD backend_host\n\nWith patch [1] cinder's RBD backend_host no longer defaults to\n'hostgroup'. The goal was to avoid adding any value to cinder's config.\nUnfortunately, puppet-cinder supplies its own default value which is\ninconsistent with TripleO's naming convention for cinder backends. This\npatch adds the correct default value ($::hostname) for TripleO.\n\n[1] https://review.openstack.org/608328\n\nChange-Id: I4d3f4f5a10f0c38de483d68b7c0ed384aae2dcac\nRelated-Bug: #1796359\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Make cipher suite and SSL options configurable\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix horizon firewall rules in composable roles\n\nAtm horizon haproxy firewall rules obfuscate any other rule defined via\nthe tripleo.haproxy.firewall_rules key.\n\nThings broke with https://review.opendev.org/#/c/625600/.  The reason\nthat was pushed is that in composable roles, when splitting off horizon\naway from where haproxy runs, we would not have the proper iptables rules\non the haproxy role. This was due to the fact that we had\nthe following code:\n      service_config_settings:\n        haproxy:\n          tripleo.horizon.firewall_rules:\n            '127 horizon':\n              dport:\n                - 80\n                - 443\n\nThe above code never worked as explained in\n3f8ce6fd96bc4f28a052b4c87a19b4b152734091 and so we fixed it by setting\nthe proper tripleo.haproxy.firewall_rules key. The issue is that rules\nfor haproxy should just never have been set at all via\nservice_config_settings keys in the first place. As demonstrated with\nthis bug, the merging of hiera dictionaries will mess us up and we'll\nend up overwriting other keys. Haproxy stats access has this:\noutputs:\n  role_data:\n    description: Role data for the HAproxy role.\n    value:\n      service_name: haproxy\n      monitoring_subscription: {get_param: MonitoringSubscriptionHaproxy}\n      config_settings:\n        map_merge:\n          - tripleo.haproxy.firewall_rules:\n              '107 haproxy stats':\n                dport: 1993\n\nAnd since hiera will return the horizon settings for\ntripleo.haproxy.firewall_rules which won't be deep merged with the\nfirewall rules from haproxy stats and so rule '107 haproxy stats' will\nnever be present.\n\nRules for haproxy need to happen in puppet-tripleo/manifests/haproxy*.\nNormally they do, the exception is horizon which uses a specialized\nhorizon_endpoint.pp manifest which does not trigger these rules.\n\nLet's create the firewall rules in haproxy/horizon_endpoint.pp like we\ndo for all other endpoints.\n\nTested and correctly got:\n[root@controller-0 ~]# iptables -nvL |grep hor\n    0     0 ACCEPT     tcp  --  *      *       0.0.0.0/0            0.0.0.0/0            multiport dports 80 state NEW /* 100 horizon_haproxy ipv4 */\n    0     0 ACCEPT     tcp  --  *      *       0.0.0.0/0            0.0.0.0/0            multiport dports 443 state NEW /* 100 horizon_haproxy_ssl ipv4 */\n    0     0 ACCEPT     tcp  --  *      *       0.0.0.0/0            0.0.0.0/0            multiport dports 80,443 state NEW /* 126 horizon ipv4 */\n\nChange-Id: I1325171ef60d7a7e3b57373082fcdb5487be939b\nRelated-Bug: #1829338\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Changing opendaylight loadbalancing alogirthm\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove plumgrid support\n\n... because it is not more supported by tripleo-heat-templates.\n\nDepends-on: https://review.opendev.org/#/c/686847/\nChange-Id: I131e9d12f2fe4471f86774e552a30bd0927a4355\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Collectd QDR connection\n\nThis patch enables to configure collectd to QDR by utilizing\ncollectd-amqp1 plugin.\n\nChange-Id: I4cb6aa95e253b7fd19ed265fbcba0dfe6663592d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "HAproxy/heat_api: increase timeout to 10m\n\nDefault timeout is 2min but it doesn't reflect the rpc_response_timeout\nvalue that we set in THT and instack-undercloud, which is 600 (10 min).\n\nIn some cases (in low-memory environments), Heat needs more than 2\nminutes to reply to the client, when deploying the overcloud.\nIt makes sense to increase the timeout to the value of rpc_timeout to\ngive a chance to Heat to reply to the client, otherwise HAproxy will\nkill the connection and send 504 to the client.\n\nDepends-On: I9669d40d86d762101734704fcef153e360767690\nChange-Id: I32c71fe7930c8798d306046d6933e4b20c22740c\nRelated-Bug: 1666072\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove base/neutron/ml2.pp\n\nNot used anymore.\n\nChange-Id: Id3f943132fce235a5a4888da30332b8fc2434a78\nDepends-On: I6436c5c36ac0081a720cb8a737a573b1246127a1\n",
        "issue_summary": ""
    },
    {
        "commit_message": "mysql: never add brackets to mysql_bind_host\n\nDon't add brackets on mysql_bind_host parameter in Galera config.\nHaving brackets from this parameter works with old version of\nGalera but not newest one.\nSo let's remove them at all, so we can safely upgrade Galera in RDO.\n\nChange-Id: Ic904d4efda162f18ec8dffb91c2f383f54361f41\nCloses-Bug: #1622755\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable policy rule management in nova-compute\n\nThere are some features in nova-compute which validate policy rules.\nFor example when connecting an instance to an external network,\nnova-compute checks ``network:attach_external_network`` to determine\nwhether the operation is permitted.\n\nThis change makes sure that the nova policy file in compute nodes are\nalso managed by puppet-tripleo.\n\nPartial-Bug: #1955786\nChange-Id: I490cc558238719d4c9585e2a57497d1b1787a9ed\n",
        "issue_summary": ""
    },
    {
        "commit_message": "logging: fluentd add multi log files on sources\n\nCurrently there are some services such as horizon, keystone that\nhave more than one log file, currently only one files is posible to\nread.\n\nThis patch adds the posiility of having more than one file for a\nservice.\n\nChange-Id: Id1d58637967ffb0e9bd0a83c3cbca699432f5378\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix up cluster_setup_extras usage\n\nStarting with pcs 0.10 (CentOS/RHEL 8) the arguments to pcs cluster\nsetup changed completely in an incompatible way and in fact are ignored\nby puppet-pacemaker. As we would like to reenable them, we first need to\nmake sure that whatever we pass is not understood by pcs.\n\nWe can also drop ipv6 and encryption parameters as corosync/pcs do not\nneed them any longer.\n\nChange-Id: Iaecced845b80e958c7ad0ef96896f1202259cca2\nRelated-Bug: #1886789\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Request appropriate EKU for haproxy certificate explictly\n\nThis is requested correctly by default when FreeIPA is used as a CA,\nhowever, for the local CA (self signed certificates) we need to set it\nexplicitly.\n\nChange-Id: Ie54d10fd4da45a73529a05e29aaa8eb19f986df3\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Partially revert \"Fail more gracefully when passed an empty ip\"\n\nThis reverts the manifests/haproxy.pp parts of\ncommit 4c7ca4cbc385fa70438015ebc91b8692c00d46e7.\n\nThe reverted commit made it such that you can not set a\nhostname as undercloud_public_host in undercloud.conf. This\nis required so that the UI can be accessed by hostname\nexternally as well as to make the Undercloud API accessible\nexternally. We keep the parts of that change that verify if\nthe haproxy VIP for pacemaker is a proper IP as it can\nhappen that a misconfigured network template causes empty\nstrings and the deploy will fail in a very odd way.\n\nChange-Id: I57eeb2dd26336465627593d633c63b92da42e71d\nCloses-Bug: #1763776\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Add amqp send queue limit for collectd\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Changes default MidoNet API port on HAProxy\n\nThe default port of the MidoNet Cluster (formerly known as MidoNet API)\nis now 8181 instead of 8081.\n\nSince this parameter is configurable through the settings, the default\nvalue for the port has been added to the $service_ports array.\n\nChange-Id: I2785d3109993bca0bd68077ff55cfeafbf594e19\n",
        "issue_summary": ""
    },
    {
        "commit_message": "RabbitMQ: Migrate environment/volumes definition\n\nThis change effectively migrates environment and volumes used by\nrabbitmq pacemaker resource from puppet-tripleo to tht, so that we can\nreduce amount of logics we implement in puppet layer.\n\nDepends-on: https://review.opendev.org/854943\nChange-Id: I5c895c6ad76d635f574824161f612eb102c673f4\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Revert \"Revert \"Set meta container-attribute-target=host attribute\"\"\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Rebranding of Eqlx to Dell EMC PS Series\n\nThis changes rebrands Dell Eqlx to Dell PS series\nand matches the tripleo-heat-templates.\n\nChange-Id: I3536147a06b426ace18cf415e99361c47b4cf5d9\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Cleanup uuid == docker\n\nThis was replaced with deployment_type a while back so uuid is now a\nproper value based on the system id. See\nhttps://review.opendev.org/#/c/607647/\n\nChange-Id: Ica2f39e6bee697002984d0f28298338edf55ac4b\n",
        "issue_summary": ""
    },
    {
        "commit_message": "loadbalancer: fix Redis timeout HAproxy config\n\nCurrent HAproxy config is broken for Redis timeout parameters. This is what we\nhave today by default in HAproxy logs:\n[WARNING] 238/115010 (13878) : config : missing timeouts for proxy 'redis'.\n| While not properly invalid, you will certainly encounter various problems\n| with such a configuration. To fix this, please ensure that all following\n| timeouts are set to a non-zero value: 'client', 'connect', 'server'.\n\nThis patch removes the explicit setting of client and server timeouts to 0,\nwhich is the cause of the above warning.  Instead, Redis will simply inherit the\nhaproxy defaults, which should be a more reasonable setting, and result in no\nwarnings.\n\nChange-Id: Ibe7941bec02f5facf21732910c9ad96f547ff8e5\n",
        "issue_summary": ""
    },
    {
        "commit_message": " Enable TLS in the internal network for Barbican API\n\n This optionally enables TLS for Barbican API in the internal network.\n If internal TLS is enabled, each node that is serving the Barbican API\n service will use certmonger to request its certificate.\n\n bp tls-via-certmonger\n\nChange-Id: I1c1d3dab9bba7bec6296a55747e9ade242c47bd9\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix Swift ring rebalance order\n\nThe current order is broken if there were changes to the account and\ncontainer devices, but not to the object devices. In these cases it can\nhappen that the rebalance happens before modifying devices.\n\nChange-Id: I15641c32266939c9a00936cc471cc59b1bb54eec\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add fossw of networking-fujitsu support to puppet-tripleo\n\nEnable ml2.pp to call networking-fujitsu manifest in puppet-neutron\nfor fossw ML2 plugin setting.\n\nChange-Id: I044c5812bbc5cd3de4bc33556cffbe5bad8e64cf\nImplements: blueprint integration-fossw-networking-fujitsu\nDepends-On: I79df6b6a27d95f0c0e2c87207ab80235a4efccfc\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix backend line syntax\n\nCurrently since only one node was the backend until this commit[1],\nservername was deducted from the $::hostname fact. Since commit[1],\nseveral node can be the backend for a service, so we need to provide\ntheir servername also.\n\nThe current situation result with HAProxy refusing to start because\ncurrent lint look like\n\nserver  192.0.2.2:8776 check fall 5 inter 2000 rise 2\n\nwhen they really should look like\n\nserver MYHOSTNAME  192.0.2.2:8776 check fall 5 inter 2000 rise 2\n\nResulting in error message : 'server' expects <name> and <addr>[:<port>]\nas arguments.\n\n[1] https://review.openstack.org/#/c/168044/\n\nChange-Id: I75424cf02f2d24308f33105f67d82a8d411e372d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Cleanup manila netapp deprecated option usage\n\n\"netapp_root_volume_name\" is deprecated in\nfavor of \"netapp_root_volume\" and manila will\nno longer accept the older option name [1]\n\n[1] https://review.opendev.org/745206/\nDepends-On: I3891e8278c5b4a08d1baf435adede425498c3652\nChange-Id: I3413897992a6f4ad577735cb0adbb8d1d8989e38\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Allow to configure Apache MPM module\n\nDefaults to 'prefork', which ensures there is no upgrade/update impact.\n\nRelated-bug: #1829062\n\nChange-Id: I3deb3e944ed4911962d204357bb3134569f153f6\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable fence_watchdog configuration in stonith topology\n\nThis commit extends the fencing manifest to make use of a\n\"fence_watchdog\" device and allows using the resulting \"watchdog\"\nresource in a stonith topology.\n\nIn order for this to work the cluster must have been configured with\nsbd, either manually or via 'pacemaker::corosync::enable_sbd: true'.\nIn addition, the fence_watchdog resource needs a supported watchdog\ntimer device to perform the self fencing.\n\nThe fence_watchdog configuration is very much opinionated:\n- it assumes the resource name to be 'watchdog' (hardcoded in pacemaker)\n- it only supports \"all or nothing\" scenario, in which all the cluster\n  nodes need to make use of it\n- it is not supported to be used with pacemaker_remote nodes\n\nThe fencing creation logic has been adjusted to use the pacemaker\nboostrap node to create the watchdog resource and the stonith topology\nfor all the nodes in the cluster (since this is a single shared\nresource we couldn't reuse the old \"every man for himself\" logic).\n\nfence_watchdog device can be defined like any other fencing device\nvia fencing.yaml or equivalent:\n\nparameter_defaults:\n  EnableFencing: true\n  FencingConfig:\n    devices:\n    - agent: fence_watchdog\n      host_mac: 52:54:00:74:f7:51\n    ...\n\nIdeally fence_watchdog should be used a last resort, and so placed\nat the bottom of a stonith topology where power-based fencing agents\nare the primary choice for fencing.\n\nThe default value for stonith-watchdog-timeout (60s) can be\noverridden via tripleo::fencing::watchdog_timeout .\n\nDepends-On: Id010a392df0047d53dfab1c21cc78021c8c1aabf\n\nChange-Id: I89a6014ffb40bc0935a348af7687684f3a71a968\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Create SSL certificates from sslProfiles\n\nAdds function for transforming SSL certificate/key content values\ninto path values with creating the appropriate files.\n\nChange-Id: Idaee3c5fcc90f8107eac7c2ada94c1e5180abce5\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Introduce profile to configure l2 gateway Neutron agent.\n\nImplements: blueprint l2gw-service-integration\n\nChange-Id: If1501c153b1b170b9550cb7e5a23be463fba1fe9\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add ironic inspector as a terminated HAProxy endpoint\n\nThis is needed for the undercloud, as it's in HAProxy where we make\nthe SSL terminations.\n\nChange-Id: Ie4d652b4e5a95849c2fa32a5ce5ecec09ccb6bd9\nRelated-Bug: #1595047\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add Certmonger ceph_rgw class to config tls\n\nThis patch adds the ceph_rgw class required by certmonger to\ncreate the cert/key.\nThis patch also creates the service_pem file since the rgw\ncontainer private key, public certificate and any other CA or\nintermediate certificates should be in one file, in PEM format.\n\nChange-Id: I960f7c48866ef11e58e63d80217f7df660455fe1\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Gnocchi: Clean up unused parameters\n\nGnocchi manifests have a few parameters defined but unused. This change\nremoves these ineffective parameters.\n\nChange-Id: Ie2a8e6bdf5bae116f458fa3743fb400f731e2a84\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Run local CA trust before haproxy deployment\n\nBefore haproxy tries to use the TLS certificates it should already\ntrust the CA. So it's necessary for the local CA-related manifest to\nnotify the ::tripleo::haproxy class.\n\nThis works for newly set deployments. deployments that have already\nran the ca-trust section will already trust the CA and thus won't\nneed that part.\n\nChange-Id: I32ded4e33abffd51f220fb8a7dc6263aace72acd\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable TLS in the internal network for Nova API\n\nThis optionally enables TLS for Nova API in the internal network.\nIf internal TLS is enabled, each node that is serving the Nova API\nservice will use certmonger to request its certificate.\n\nNote that this doesn't enable internal TLS for the nova metadata\nservice since it doesn't run over httpd. This will be handled in\na later commit.\n\nbp tls-via-certmonger\n\nChange-Id: I88380a1ed8fd597a1a80488cbc6ce357f133bd70\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add missing haproxy listen options\n\nFollow-up I3fd753fc3a4522faf565999a019df0f4095ebd9c\nand add the options removed from the listen_options\nmistakenly.\n\nChange-Id: I5d56e2a3084ea6cf57f124809b497765ae7cb0ca\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add logrotate-crond configuration\n\nGenerate a cron job and a config for logrotate\nto be run against containerized services logs.\n\nRelated-bug: #1700912\n\nChange-Id: Ib9d5d8ca236296179182613e1ff625deea168614\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fixes binding type for OpenDaylight Websocket\n\nFor OpenDaylight Websocket connections we were not using transparent\nbinding type with HA Proxy.  This means that HA Proxy was not able to\nstart on nodes that did not have the VIP because it was unable to bind\nto that IP on more than one node.  However, transparent binding works OK\nwith OpenDaylight Websocket and should be fine to enable so that HA\nProxy is able to start on every controller.\n\nCloses-Bug: 1764514\n\nChange-Id: I89e6115795ece6735e816ab71b5b552b17f7b943\nSigned-off-by: Tim Rozet <trozet@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "[CVE-2016-9599] Enforce Firewall TCP / UDP rules management\n\nThis closes CVE-2016-9599.\n\n1) Sanitize dynamic HAproxy endpoints firewall rules\n\nBuild the hash of firewall rules only when a port is specified. The\nHAproxy endpoints are using TCP protocol, which means we have to specify\na port to the IPtables rules.\nSome services don't have public network exposure (e.g. Glance Registry),\nwhich means they don't need haproxy_ssl rule.\nThe code prepare the hash depending on the service_port and\npublic_ssl_port parameters and create the actual firewall rules only if\none of those or both parameters are specified.\nIt will prevent new services without public exposure to open all traffic\nbecause no port is specified.\n\n2) Secure Firewall rules creations\n\nThe code won't allow to create TCP / UDP IPtables rules in INPUT\nor OUTPUT chains without port or sport or dport, because doing it would\nallow an IPtables rule opening all traffic for TCP or UDP.\nIf we try to do that, Puppet catalog will fail with an error explaining\nwhy.\nExample of use-cases:\n- creating VRRP rules wouldn't require port parameters.\n- creating TCP or UDP rules would require port parameters.\n\n3) Allow to open all traffic for TCO / UDP (when desired)\n\nSome use-cases require to open all traffic for all ports on TCP / UDP.\nIt will be possible if the user gives port = 'all' when creating the\nfirewall rule.\n\nBackward compatibility:\n- if our users created custom TCP / UDP firewall rules without port\n  parameters, it won't work anymore, for security purpose.\n- if you users want to open TCP / UDP for all ports, they need to pass\n  port = 'all' and the rule will be created, though a warning will be\n  displayed because this is insecure.\n- if our users created custom VRRP rules without port parameters, it\n  will still work correctly and rules will be created.\n- TCP / UDP rules in FORWARD chain without port are still accepted.\n\nChange-Id: I19396c8ab06b91fee3253cdfcb834482f4040a59\nCloses-Bug: #1651831\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Do not make RabbitMQ listen on public vip\n\nCurrently RabbitMQ is listening on both private vip and public vip.\nThere is no need for RabbitMQ to listen on the public vip, so we remove\nit.\n\nChange-Id: I82ea2e1e18b7710ae391ffe4903439a9330b1461\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove deprecated admin ssl options\n\nThe ssl_cert_admin and ssl_key_admin are being removed from\npuppet-keystone so we need to stop using them in puppet-tripleo.\n\nChange-Id: Ibe97accb22820d02abfa076515967336da4c8800\nNeeded-By: https://review.opendev.org/#/c/658382/\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable internal TLS for MySQL\n\nthis adds the necessary code in the manfiest to configure TLS\nif internal TLS is enabled. this also adds the capability of\nauto-generating the certificate via certmonger.\n\nbp tls-via-certmonger\n\nChange-Id: I7275e5afb3a6550cf2abbb9a8007dedb62ada4b4\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Revert \"Pin puppet-systemd\"\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Remove the duplicated word\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove haproxy ironic-inspector http-check workaround\n\nWhen werkzeug was used as the WSGI service for ironic-inspector, it\nwrote stack traces to the logs whenever haproxy did a http check; this\nlisten_options line was the workaround for that. Reverting that change\nis done for the following reasons:\n\n- since ironic-inspector now uses oslo-service, the log stack traces\n  are no longer written\n- setting listen_options overrides the default 'option httplog', which is\n  making diagnosing bug #1854399 harder\n- this http-check override may well be the root cause of bug #1854399\n  (any non-200 response will result in other connections to\n  ironic-inspector being disconnected?)\n\nChange-Id: I5c397d31650b248660a39e028c98c779871d07ba\nPartial-Bug: #1854399\nRelated-Bug: #1691971\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Handle sparse image upload configuration parameters\n\nAddng ``rbd_thin_provisioning`` and ``filesystem_thin_provisioning``\nto rbd and filesystem backends, to enable or not sparse upload.\n\nDepends-On: Ic95fa45af0f1db92d8425862c6267f466764fbbe\nChange-Id: I90c8ea98a96fa57f5bf3bf0c6b2b37ec95474baf\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Horizon: Enable heat-dashboard configurations\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Nova: Configure [keystone] parameters\n\n... so that nova can verify project ids in some API calls.\n\nDepends-on: https://review.opendev.org/824435\nChange-Id: I04a02deb86bd415c5da66c298d40b77151e1c8e4\n",
        "issue_summary": ""
    },
    {
        "commit_message": "deploy composable firewall rules for HAproxy\n\nDeploy composable iptables rules for HAproxy.\nNote: we can't use Hiera here because we have some logic in\npuppet-tripelo that select the services that we actually deploy.\nUsing this code in the Define will easily create IPtables rules that we\nactually need. Some other services will be able to create IPtables rules\nin Hiera (in THT), but not HAproxy now.\n\nChange-Id: If03b18992c68461e97789c0318078a0b243c84fe\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add a configurable delay to Nova Evacuate calls\n\nAdd a configurable delay to Nova Evacuate calls\n\nIn case /var/lib/nova/instances resides on NFS we have seen migrations\nfailing with 'Failed to get \"write\" lock - Is another process using the\nimage' errors.\n\nThis has been tracked down to grace/lease timeouts not having expired\nbefore attempting the migration/evacuate, so in this cases it might be\ndesirable to delay the nova evacuate call to give the storage time to\nrelease the locks.\n\nRelated resource-agents change: https://review.opendev.org/#/c/684777/\n\nChange-Id: I5ec6a5b0c66579e068e811f49aae10a5f406158a\nResolves: rhbz#1740069\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove all 'validate_array' statements\n\nUnfortunately, some distributions like CentOS 7 (I guess RedHat 7 as\nwell) still using puppet < 3.7, which experience the annoying 'PUP-1299'\nbug:\n\nhttps://tickets.puppetlabs.com/browse/PUP-1299\n\nSo passing a single array element, it magically transforms to a string\n(or whatever the inside elements are) and the validate_array fails. We\nneed to get rid of these validations.\n\nChange-Id: Icc22ee575b7c236d1a6358f8593cf813d339a4b5\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add 'ipversion' to firewall/rule.pp\n\nAdd the posibility to add 'ipversion' to the firewall\nrule manifest.\n\nCloses-Bug: #1845153\nChange-Id: Id872c55cfc6b958fef3ccda2d923f821a1fe6a13\n",
        "issue_summary": ""
    },
    {
        "commit_message": "RabbitMQ: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: I5f9d17ee6025a4cac6d8a6b7d6cd5299d2710237\n",
        "issue_summary": ""
    },
    {
        "commit_message": "loadbalancer: make sure controller_* are array-typed\n\nMake sure controller_hosts_real and controller_hosts_names_real become\narray-types anyway, so we don't need to add brackets in Hiera lookups\n(example on both undercloud & overcloud where we do [hiera('controller_host')]).\n\nChange-Id: I2fe899482acfd51919262bc7a6a1c9f450e173f4\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Add support for Designate\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove support for Neutron FUJITSU plugin\n\nIt seems that netwokring-fujitsu is no longer maintained[1], and it's\nnot compatible with Python 3.6 which currently all OpenStack services\nrequire.\n\n[1] https://opendev.org/x/networking-fujitsu\n\nDepends-on: https://review.opendev.org/#/c/725835/\nChange-Id: I387932f3979abdb8f68e3a501aa6b2178ea85f6c\n(cherry picked from commit 3f3a2d0b0ef2642330b8d8ebf22b2affcfdd4702)\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"ovn-dbs-bundle: Prepare for supporting new OVN version with separarte run dirs\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Rethink the backup option for Galera\n\nInitial logic for the backup option in the HAProxy was wrong and\nwouldn't do what expected.\n\nCurrent logic is implemented as follow\n\n1. User passes an array of Galera IP addresses\n2. User passes an array of Galera hostnames\n3. User passes a Galera master IP and Galera master hostname\n\nResult :\n\n* Set a backend line with Galera master IP and Galera master hostname\n* Remove those data from the two arrays of IP and Hostnames\n* Set backend lines for whatever is left on those array with the backup\n  option on\n\nChange-Id: Idfd72de4fafdce2a9c16945961fee996a98049b7\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Move manila backend configuration from pacemaker to base\n\nThere is no reason to keep backend configuration in pacemaker-specific\nmanifest. This configuration is used no matter whether pacemaker is\nused or not.\n\nChange-Id: I63b53d230372a323db1d35a3774283ad2e29fbb1\nCloses-Bug: #1714310\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable mistral to run under mod_wsgi\n\nMistral should run under mod_wsgi. Enable that.\n\nChange-Id: I99f83c35eaa892c10deb63e199d22a43f06f5dcc\nDepends-On: I61199f53d7e32fcb3d068ccaf548a836b5bb58e9\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add retries to HA bundles\n\nThe retry is needed in a composable HA environment because a two nodes\nmight be modifying the CIB at the same time and so we need to retry more\nthan once to get the freshest CIB, modify it and push it back. Currently\nall HA resources have it but we did not add it in the bundles. While it\nis a rare race, we should still plug it.\n\nChange-Id: Ib9d9c76c83f103e329a9c575ae5c110d5ad3c048\nCloses-Bug: #1809223\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Change default CloudFormation ssl port to 13005\n\nThe current default of 13800 is a bit out of line with the other Heat\nSSL ports. This makes it a more sane default of 13005.\n\nChange-Id: Ic9aa71bfc80ca5fdb3b3c48dc55be7b98cf22ada\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Remove extra keystone admin haproxy listen and allow TLS\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove redundant import of barbican::keystone::authtoken\n\nThe barbican::keystone::authtoken class in imported by\nthe barbican::authtoken class thus we don't need to include it in\nthe barbican::api class.\n\nChange-Id: I6e1a144cd3e449491b61d060a3df5355a405e67a\n",
        "issue_summary": ""
    },
    {
        "commit_message": "keystone: drop usage of step 6\n\n* Manage roles & endpoints at step 5\n* Set correct orchestration for Pacemaker resources within a single\n  step.\n\nChange-Id: I079e65f535af069312b602e8ff58be80ab2f2226\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Nova: Drop unused logic to remove the libvirt default network\n\nThis logic is no longer used since we introduced containerized libvirt\ndaemon and would block implementing the same in puppet-nova.\n\nChange-Id: Ib67747f68976e3bbce8b0ca3f0cc3747a1163c6b\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove leftover of keepalived support\n\nThis removes one remaining manifest file for keepalived service which\nshould have been deleted by [1].\n\n[1] 573832124a6de8cdca08f6cbf073ea5b3575bd73\n\nChange-Id: I001da64e0166775aa3ca72938cf5434e8e2260a7\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix wrong notify in swift proxy profile\n\nthe TLS proxy was notifying neutron::server instead of swift proxy.\n\nChange-Id: I212978c107a75209d5b7c266e608eb9a9e9cdc76\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Update DellEMC Manila Unity driver\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Run online_data_migrations for Ironic on upgrade\n\nThis only enables correct offline upgrade for now, proper rolling\nupgrade support will follow in the Queens release.\n\nChange-Id: Iebbd0c6dfc704ba2e0b5176d607354dd31f13a0d\nDepends-On: I548c80cf138b661ba3a5e45a6dfe8711f3322ed0\nPartial-Bug: #1708149\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Support for Dell EMC Isilon Manila Driver\n\nThis changes adds Dell EMC Isilon backend as composable service\nand matches the tripleo-heat-templates.\n\nChange-Id: I30f6b4c4ebe0a708a5eb34cd016544f4d2b9c2bb\nImplements: blueprint dellemc-isilon-manila\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix mysql client config generation with containerized environment\n\nWhen the tripleo::profile::base::database::mysql::client profile is\nincluded by other openstack services, the file /etc/my.cnf.d/tripleo.cnf\nis not generated because docker-puppet is configured to disregard the\nexec tags.\n\nMake the profile use either File or Exec resource based on how it's\nbeing called, to make it work for both containerized and non-containerized\nuse cases.\n\nChange-Id: I103baa02373f6713cc300ac039a6f173ff0bbf1c\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix kolla permissions errors inside nova_virtlogd\n\n[stack@win1 ~]$ sudo podman logs nova_virtlogd\n+sudo -E kolla_set_configs OSError: [Errno 30] Read-only file system\n\nThe reason is the following nova_virtlogd bind mount:\n ... - /etc/libvirt/qemu:/etc/libvirt/qemu:ro\n\nSeems kolla config has a some empty folders that are then copied to a\n:ro fs and we fail:\n()[root@win1 /]$ find\nvar/lib/kolla/config_files/src/\nvar/lib/kolla/config_files/src/\nvar/lib/kolla/config_files/src/etc\nvar/lib/kolla/config_files/src/etc/libvirt\nvar/lib/kolla/config_files/src/etc/libvirt/qemu\nvar/lib/kolla/config_files/src/etc/libvirt/qemu/networks\nvar/lib/kolla/config_files/src/etc/libvirt/qemu/networks/autostart\n\nSince the above empty folders are due to the timestamp\nchange caused by the default.xml file removal, let's do\nthose on BM only.\n\nHopefully compute folks can propose a more definitive fix that\ntakes that default.xml removal logic into host-prep-task (if it\nis still needed)\n\nTested on a RHEL8 OS/Containers combo and the error is gone:\n[root@overcloud-novacompute-0 ~]# podman logs nova_virtlogd 2>&1| tail -n5\n++ chmod 755 /var/log/kolla/libvirt\n++ chmod 644 /var/log/kolla/libvirt/libvirtd.log\nRunning command: '/usr/sbin/virtlogd --config /etc/libvirt/virtlogd.conf'\n+ echo 'Running command: '\\''/usr/sbin/virtlogd --config /etc/libvirt/virtlogd.conf'\\'''\n+ exec /usr/sbin/virtlogd --config /etc/libvirt/virtlogd.conf\n\nChange-Id: I629e9e37aff9a1610df874b46c7a5b1eedd3e374\nCloses-Bug: #1819482\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Deprecate tripleo::profile::base::docker(_registry)\n\nThese profiles are replaced by https://github.com/openstack/ansible-role-container-registry,\nso we deprecate it now and will remove the code in the future.\n\nDepends-On: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\nChange-Id: I9e2a475e4582deec383b92f368e9a834122f65bb\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Split docker mirror and debug configs\n\nUse augeas to modify only parameters' dedicated configuration.\nSplit mirror configs from debug configs. Overlapping those params may\ncause augeas errors and/or nschedule the docker service restarts for\nsome cases, ending up with  split brain state for the docker\nservice run-time config vs changed docker-daemon.json config.\n\nFollows-up Ic5640061837b022f7175f0db0dc269f9a61e6023\n\nChange-Id: I7932aa2e0eb096ea09255084783e577bb450e0cd\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add support to changing the Rabbitmq password on update\n\nRabbitmq Password is set on the fresh deployment, but during\nupdate, if the password is changed, it is modified in all config\nfiles including rabbitmq config. But the rabbitmq connection fails\nbecause the new password is not successful applied to rabbitmq.\nSetting the rabbitmq_user will invoke 'rabbitmqctl change_password'.\n\nScenario: The password change is applied on Step1 when configuring\nRabbitmq. Other services may be updated on different Steps. Till\nother services config is updated with new rabbitmq password, and\nrestarted, the connections will get Access Denied response. It has\ncyclic dependency. So the passwords will be changes at Step1 and\nonce all services are updated, the connections will work as is.\n\nPartial-Bug: #1611704\nChange-Id: I44865af3d5eb2d37eb648ac7227277e86c8fbc54\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Update comment to fix lint error\n\nThis patch updats comment in several manifests to fix lint error with\nthe following messages:\n - No matching class parameter for documentation of <parameter name>\n - Duplicate class parameter documentation for <parameter name>\n\nChange-Id: I927fc43fefe169d4041d980ef834975822d3755d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Require the UI package when creating the virtual host\n\nQuickstart is failing with this error:\n\nError: Cannot create /var/www/openstack-tripleo-ui/dist;\n       parent directory /var/www/openstack-tripleo-ui does not exist\nError: /Stage[main]/Tripleo::Ui/Apache::Vhost[tripleo-ui]/File[/var/www/openstack-tripleo-ui/dist]\n       ensure: change from absent to directory\n       failed: Cannot create /var/www/openstack-tripleo-ui/dist; parent directory /var/www/openstack-tripleo-ui does not exist\n\nPuppet cant create the folders tree by itself.\n\nCloses-bug: 1698105\nChange-Id: I5cce963a6225552f4b7253cb34edc72b392b9dda\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable TLS in the internal network for keystone\n\nThis optionally enables TLS for keystone in the internal network.\nIf internal TLS is enabled, each node that is serving the keystone\nservice will use certmonger to request its certificate.\n\nThis, in turn should also configure a command that should be ran when\nthe certificate is refreshed (which requires the service to be\nrestarted).\n\nbp tls-via-certmonger\nChange-Id: I303f6cf47859284785c0cdc65284a7eb89a4e039\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Ignore failures when loading nf_conntrack_proto_sctp kernel module\n\nIgnore failures if nf_conntrack_proto_sctp module failed to load.\nSince RHEL 7.4, nf_conntrack_proto_sctp module is compiled into the\nkernel instead of as a module as the sctp support.\nTripleO will still try to load the module to support RHEL 7.3, but\nin the future will remove the module management and rely on the kernel\nprovided in newer versions of RHEL.\n\nCo-Authored-By: Or Idgar <oidgar@redhat.com>\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Emilien Macchi <emilien@redhat.com>\n\nChange-Id: I8f1c841a7c0f3b1247aba2b959b6dfbe43d8cd79\nCloses-Bug: 1695885\n",
        "issue_summary": ""
    },
    {
        "commit_message": "mysql: Fix broken log-driver\n\nThis fixes the wrong edit made by [1] and ensures log driver is\nconfigured.\n\n[1] Iffe9c9a1d7ca736f273d2da43928d7da4a99d1d6\n\nChange-Id: I1e679ba4f30cb7f9eb827b91e36cb8feed9afd8f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Make sure that stonith state is enforced before attempting a scaleup\n\nWhile we start supporting the (1->3) controller scaleup use-case,\nwe want to make sure that any stonith configuration happens before\nwe do the scaleup.\nSince Stonith gets disabled at step 2 of a deploy and reenabled at step 5\n(in the case stonith is indeed configured). With this we make sure that\nstonith is off before doing the scaleup. While stonith has no reason\nto kick in during a scaleup, this is just semantically more correct\nand also just a safer default.\n\nDepends-On: Iac31035da98bd68a5481d97ee3765a99563db49f\nChange-Id: I2f8a557e9fc912df081f65b216a4245298876854\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Remove stack_update check in rabbit manifest\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Make the 'Could not find data item hacluster_pwd' error a bit clearer\n\nIf you deploy a role with a pacemaker-managed service (galera, rabbit, redis,\netc) but forgot to add the ::tripleo::profile::base::pacemaker\nthere will be a rather unintuitive error:\n  puppet apply --debug --verbose --detailed-exitcodes --summarize --color=false --modulepath\n    /etc/puppet/modules:/opt/stack/puppet-modules:/usr/share/openstack-puppet/module --tags\n    file,file_line,concat,augeas,pacemaker::resource::bundle,pacemaker::property,pacemaker::resource::ocf,pacemaker::constraint::order,pacemaker::constraint::colocation\n    -e 'include ::tripleo::profile::base::pacemaker;include ::tripleo::profile::pacemaker::database::redis_bundle'\",\n  Error: Evaluation Error: Error while evaluating a Function\n  Call, Could not find data item hacluster_pwd in any Hiera data file and no default supplied at\n  /etc/puppet/modules/tripleo/manifests/profile/base/pacemaker.pp:127:24 on node role-2.localdomain\n\nLet's make it a bit clearer. Long-term we want to look at a validation\nthat covers this.\n\nChange-Id: Iffb6e76cdd0286ef10ada57c70ce31971e42c84f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix Swift manifest for Puppet4 deployment\n\n1) swift/ringbuilder: seed must be a String\nBecause we use validate_re in puppet-swift and puppet4 requires the\nregex to be a string, not an integer.\n\n2) Fix Swift package name\nIn puppet4, we need the resource title, not the resource name.\n\nChange-Id: I50cea96d45e0eb46c19040d9a7105ab72c2dbef7\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove notification_driver parameter from heat profile\n\nThe service profile has a default that overrides the one set either\nby 'NotificationDriver' parameter or 'heat::notification_driver' in\nExtraConfig.\n\nThis parameter is not there in any other service profile and can\nbe removed as it's not used by the service.\n\nChange-Id: I1570f59be977773ba8a0ff1222b57f88a9954ca8\nCloses-Bug: #1782720\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove workaround for old puppetlabs-apache\n\nThe workaround for module packages[1] and shared lib path[2] are no\nlonger required since puppetlabs-apache v5.6.0.\n\n[1] https://github.com/puppetlabs/puppetlabs-apache/commit/d346b76d1aab954b642c55942d3ff8cf6cb578ac\n[2] https://github.com/puppetlabs/puppetlabs-apache/commit/f31e392a6732c92c24545ec846a9b7d78d452a06\n\nChange-Id: I1c40a3315f4cc6a1864c82d9e715834cc32a61c2\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Adding wrapper scripts for neutron agent subprocesses\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Use THT to define cell0 creation\n\nAs part of the initial implementation, we hard coded the cell0 setup in\npuppet. This change switches it to leverage the defined value in the\ntripleo-heat-templates\n\nChange-Id: I896a124d91d06ca85b77c9fbe24fd252815a2d28\nDepends-On: I08119d781ef60750cc19753bc03190e413159925\nRelated-Bug: #1649341\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix amphora provider driver description\n\nFixed provider driver description to match octavia and\noctavia-tempest-plugin descriptions.\n\nSee: https://opendev.org/openstack/octavia/src/branch/master/octavia/common/\\\nconfig.py\\#L89\n\nCloses-Bug: #1830702\nChange-Id: I04ad7b59c1cdbef61fcd6188c09525da989020c6\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Use memcached for token caching in manila authtoken\n\nUse memcached to cache token in manila authtoken, as in-process\ncache, which we currently use, was already deprecated[1].\n\n[1] Ied2b88c8cefe5655a88d0c2f334de04e588fa75a\n\nChange-Id: I9360c689b322ffc21107edb94524374578811d21\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Sahara integration\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Add pcmk_host_list stonith-fence_compute-fence-nova\n\nWith this change we explicitely tell the stonith-fence_compute-fence-nova\nresource which pacemaker nodes it is allowed to fence.\n\nThis is a good idea in general as it makes things more explicit and\nwe do not rely on other pcmk mechanisms (stonith querying the list\nof nodes returned by the fence agent) to determine which nodes it\nis allowed to fence.\n\nTested with this change and the stonith resource is correctly set:\n[root@controller-0 ~]# pcs stonith config stonith-fence_compute-fence-nova\n Resource: stonith-fence_compute-fence-nova (class=stonith type=fence_compute)\n  Attributes: auth_url=https://overcloud.redhat.local:13000 domain=redhat.local login=admin passwd=foo pcmk_host_list=compute-0,compute-1 project_domain=Default record_only=1 region_name=regionOne tenant_name=admin user_domain=Default\n  Meta Attrs: provides=unfencing\n  Operations: monitor interval=60s (stonith-fence_compute-fence-nova-monitor-interval-60s)\n....\n\nChange-Id: Ia9c328a51d7f5dab933b096dd7a0792f2df2210e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Move inclusion of ::manila::db::mysql in manila/api profile\n\nIn puppet-manila it is the api service performing db sync, not\nscheduler. This change moves ::manila::db::mysql (which creates\nthe empty database and users) in the tripleo manila/api profile.\n\nAlso moves rabbit config into a general manila base profile as\nthat would be needed by the scheduler service as well.\n\nChange-Id: I2b537f735b8d1be8f39e8c274be3872b193c1014\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Use memcached for token caching in designate authtoken\n\nUse memcached to cache token in designate authtoken, as in-process\ncache, which we currently use, was already deprecated[1].\n\n[1] Ied2b88c8cefe5655a88d0c2f334de04e588fa75a\n\nChange-Id: Iaa8e4fb26cf4677fe151c699a3911f02e30f8d32\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Add generic manifest for loadbalancer endpoints\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Replace hiera('service_names') by hiera('enabled_services')\n\nIn the effort of reducing the number of Hieradata files, the\nservice_names parameter previously consummed in puppet-tripleo can be\nreplaced by enabled_services which contains the same list.\n\nIt will allow us later to remove the service_names hieradata file.\n\nChange-Id: I457f2c81a2cf6cc2f42dc4585b41b0d91dacc059\nRelated-Bug: #1835551\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Heat: Sync default value in parameter description\n\nThis fixes default values in parameter description which do not match\nthe actual values or are missing.\n\nAlso, the base heat manifest uses downcase() when defining default for\nbootstrap node name but this is not used in the other manifests. So\nit is also removed by this change.\n\nChange-Id: I757956303f65f9753d2e5220bbcefce5e2f3c07f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Use saltedsignal user for puppet-certmonger\n\nThis is now favored, since the original user transfered the repo there.\n\nChange-Id: I268f20498825c07a06937d3b1f415cc3ff0b28ce\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Support both rabbitmq and oslo.messaging service nodes\n\nThis commit selects either the rabbitmq hosts or the\nhosts associated to oslo.messaging rpc and notify services.\nThis is required for the transition of t-h-t to the use\nof the separated oslo.messaging service backends.\n\nThis patch:\n*select rpc and notify hosts from rabbitmq or oslo_messaging\n*modify qdrouterd inter-router link port\n*update qdr unit spec\n*add release note\n\nNeeded-By: I934561612d26befd88a9053262836b47bdf4efb0\nChange-Id: I154e2fe6f66b296b9b643627d57696e5178e1815\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Revert \"Pin puppet-snmp\"\n\nThis reverts commit 040857a738492514bc7b65f18ad89922a1ccb16e.\n\nReason for revert:\nNow rspec-puppet-facts support structured facts and the issue with\nunit tests has been resolved.\n\nThis change fixes the following error in unit tests, caused by\nparameter validation in puppet-snmpd.\n\nSnmp::Snmpv3_user[ro_snmp_user]: parameter 'authpass' expects\na String[8] value, got String\n\nChange-Id: Ib8650d553ae7cef0197a26acac0aa17a04433f28\n",
        "issue_summary": ""
    },
    {
        "commit_message": "aodh-evaluator: Require redis backend\n\nThe aodh-evaluator service requires valid tooz backend so that tasks\nare distributed properly among multiple nodes. This change ensures\nredis vip and password are defined in hieradata so that coordination\nbackend can always be configured properly.\n\nChange-Id: I4ff71ee1a2a38c225b0d8f70c3fc757e014abdaf\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove global openstack-core resource\n\nThe openstack-core resource is not needed by the NG Pacemaker\narchitecture. It was moved into an isolated role by [1] so that\nit could optionally be enabled when wanting the older architecture.\n\nThis submission removes the old openstack-core global resource.\n\n1. I74a62973146c0261385ecf5fd3d06db51e079caa\n\nChange-Id: I16a786ce167c57848551c7245f4344c382c55b3d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Switch Octavia API to use source balancing\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Ironic: update included drivers\n\nConfigure drac, ilo and ssh drivers out of box.\nRemove deprecated ironic::drivers::deploy.\n\nThis change brings the default driver list closer to one of undercloud.\n\nChange-Id: I8b9a136a0ff22916d7c468bbb0df7248bc35a5c2\nPartially-Implements: blueprint ironic-integration\n",
        "issue_summary": ""
    },
    {
        "commit_message": "haproxy: frontend/backend syntax in config\n\nAbility to generate haproxy config with the frontend/backend\nsections rather than the old listen section. This allows\nthe generation of complex configs, such as for example giving\npriority to local backends when routing traffic.\n\nMake the new syntax configurable via a new hiera key\n`haproxy_backend_syntax`. The frontend and backend config of\neach service can be further tweaked via additional keys\ntripleo::haproxy::<service>::frontend_options and\ntripleo::haproxy::<service>::backend_options\n\nBy default, keep the current 'listen' syntax.\n\nTested with capability disabled, the haproxy config generated\nfor undercloud and ha overcloud doesn't change.\nTested with capability enabled, tempest smoke test passed.\n\nCloses-Bug: #1941617\n\nChange-Id: Ieb36f90c6709934aa3aa6668d3929bff872c30f5\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Stop creating ceilometer database\n\n... because it is no longer used since metric data was offloaded to\nGnocchi.\n\nChange-Id: Iae1198f82fd89e9dacb84cd1140757785602311c\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Move db syncs into mysql base role\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Move nova cells db sync into nova-api profile\n\nHaving the db_sync code live in the mysql profile causes\ncoupling that doesn't work unless your MySQL server has the\nlatest Nova packages installed. This may not work for some\nbaremetal setups (where an isolated database exists) or\nwith containers where the MySQL container definately doesn't\nhave nova packages installed.\n\nMoving this code into the nova-api role also matches where we\nwere already db syncing the normal API database so it should be\nfine and safe.\n\nChange-Id: Ib625e2ac9c8d6bd1d335c58e291facc4ea5839ae\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "adding new swift middleware that is typically enabled by default\n\nThese are features that are typically enabled by default\nin any swift cluster.\n\nChange-Id: Ie323f68255a73d46e774cbf49d9353c3bf90c35e\nSigned-off-by: Thiago da Silva <thiago@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Explode loadbalancer role in 2 sub-roles\n\nSplit loadbalancer role into 2 sub-roles:\n- HAproxy\n- Keepalived\n\nChange-Id: I84dfa9d409d390c6f549d62cb3634931e4cb432c\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add support for cephfs+ganesha backend in manila\n\nChange-Id: I1262faef895df0023a225ab10dfe66dfb3d3efba\nPartially-Implements: bluprint nfs-ganesha\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Include db classes explicitly\n\nSince database parameters in the base classes were deprecated, it is\nlikely that db classes are no longer included automatically in a future\nrelease. Let's ensure that the db classes are included so that\ndatabase parameters are always set.\n\nChange-Id: I2a28cd1b7a92776b711eb784db3c4a486dcf6a85\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Implement Apache pacemaker profile\n\nDeploy Apache with Pacemaker in a new profile.\n\nChange-Id: I9ae6cee2bfb0f8974d41d700454cfde2df06c2d1\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Include cors modules for Nova, Ironic Inspector\n\nThis will resolve issues in using/developing the TripleO UI\nfrom non-local hosts.\n\nChange-Id: Ic897f56d8fdb4221d73821712de8bcab9ac384ec\nCloses-bug: #1756543\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Improve stonith leves idempotency.\n\nThis commit improves the way stonith levels are set up and their\nresiliency against redeployments by introducing a stonith_levels\ncustom fact that collects the current stonith levels defined for\nthe specific server, so we can compare against the desired number\nof levels defined in hiera.\n\nIf these do not match (for example if there are additional levels\nthat are no longer necessary), the clean up step also introduced\nby this commit takes care of deleting the ones no longer necessary.\n\nChange-Id: Ifae73ac2bf4481d0a11e89c0ea0916e85dd2db1d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Create libvirt micro-service\n\nCreate a new profile where we only manage Nova libvirt service.\n\nChange-Id: I2ff3cf6a31bc10aa46a089fcbfc654eda55e6ef8\nImplements: blueprint refactor-puppet-manifests\nDepends-On: Ib0d3111560af5af451e522c6dc3b3918d0463e7d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Include placement::api class\n\n... because the placement::api class will be required in a future\nrelease of puppet-placement.\n\nDepends-On: https://review.opendev.org/#/c/732016/\nChange-Id: I152f5374abad19502c484f33a36eef1af3f05255\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Allow a user to specify the syslog address for HAProxy\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Cleanup remaining implementation for EC2 API\n\n... because support for EC2 API should have been removed[1].\n\n[1] 1854f9a641fef548e1d5f665fce0030a867c6f80\n\nChange-Id: I9ce13aefb82cbcada5466cd3dddf851cfc51bacc\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add support for internal/admin endpoint TLS in HAProxy\n\nThis commits adds the option to pass an internal certificate.\nThe aforementioned certificate will be used to terminate TLS\nconnections for the internal and admin endpoints.\n\nChange-Id: I9d781b42c63cf34bd1f5ba2c71014c6b9de0f990\n",
        "issue_summary": ""
    },
    {
        "commit_message": "neutron dhcpd: Add script for certmonger postsave_cmd\n\nThe default update procedure didn't work, so are fixing that.\n\nRelated-Bug: #1811401\nNeeded-By: I449df13ea2c49a8cf6d2e8e632b2b39707071c52\nChange-Id: I9954cf33efedf2ec3dfb03109595cd4431feff60\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Better way to ensure keepalived before haproxy.\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Configure dockerd with --iptables=false\n\nThis change defaults --iptables=false for dockerd to avoid\nhaving Docker create its own FORWARD iptables rules. These\nrules can interact with normal OS networking rules and disable\ncommunications between hosts on reboot.\n\nChange-Id: I875fa14f7d810c7f0aba3b3a1b04b60a19470f0f\nCloses-bug: #1708279\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Adding MidoNet LoadBalancing options\n\nMidoNet API needs to be loadbalanced if the midonet environment is\nactivated.\n\nChange-Id: I6f1ac659297b8cf6671e11ad23284f8f543568b0\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add ceilometer polling agent profile\n\nCeilometer central, compute and ipmi agent classes are\ndeprecated. Instead we should be using polling agent\nwith relevant namespace.\n\nCloses-bug: #1662685\n\nChange-Id: I1ee50124bf8936e12414f984e1bcd4545d92e953\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Loadbalance keystone's admin endpoints towards the internal backends\n\nInstead of trying to loadbalance keystone's admin endpoint frontends\ntowards the backends of the same network. We instead forward them\ntowards the IP's where the public/internal endpoints are listening on.\n\nThis way we definitely don't use the admin endpoint (a step towards\ngetting rid of it), and we won't get SSL host failures when trying to\naccess the one single endpoint.\n\nChange-Id: I577373b5ff110c47bc4dc350ca753b7a1957554f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add new MySQL server option to mysql_bundle\n\nAdd innodb_flush_log_at_trx_commit from\nId5a30f1daf978e094a74db2d284febbc9ae64bb3\nto the container-specific mysql_bundle.pp\n\nNote that innodb_buffer_pool_size from\nIabdcb6f76510becb98cba35c95db550ffce44ff3 should already\nbe pulled at runtime from the base mysql.pp.\n\nChange-Id: Iba164ddcc9b24ee231fb224b03ad8e7c123d5418\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Use nova_metadata related hiera and make cell aware\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Add steps to database profiles\n\nDatabase schema profiles were missing step information, causing\nschemas to be created too early.\n\nChange-Id: Ic381804ce5f1aa257ece75d2e079f4b02f446344\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Drop support for collectd-gnocchi\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/834329\nChange-Id: Ib3e2e10bd7d5cd0eca3d2e86f7c3041105adc42d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix ceph-nfs duplicate property\n\nIn change I78c16c9fb28211a7a8ec2187ae76b9a072b76ea2 we eliminated\nstartup races with ceph nfs, but we need to make sure we do\nnot create duplicate properies or puppet will fail.\n\nWhile we're at it we also point the bootstrapnode at\nceph_nfs_short_bootstrap_node_name instead of which is more correct.\nIt is functionally the same if ceph-nfs and manila-share run on the\nsame nodes, which is likely the case in most cases, but best\nmake it correct while we're at it.\n\nCloses-Bug: #1798020\n\nChange-Id: I5a41f95b2d91a25fe617afb9ada0b5201d2b7ef7\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add pameter for gmcast.listen_addr configuration\n\nhaving an actual name for that configuration will allow us to pass a\nmore proper name via t-h-t.\n\nChange-Id: Iea4bd67074824e5dc6732fd7e408743e693d80b3\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Nova: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: Ib25279ec008373245eacb3478d6edb74a5cf9063\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Adds auto-detection for VIP interfaces\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Add maxconn parameter to MySQL / HAProxy\n\nAllows configurability of maxconn as applies to\nthe MySQL section of the HAProxy config, both\nfor clustercheck and single node.\n\nAlso adds a new test for the haproxy class\noverall to exercise options.\n\nChange-Id: I023682dd5e85cc78d6dd3e5214a53863acc4f303\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Keystone: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: I48b647bf5c908c93bf1e297cf4a108050cbc2c81\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Deep merge hiera keys for mysqld_options\n\nCurrently when adding some tuning options via hiera, galera won't start because\noverriding even a single mysql option will reset the whole key in the hash. So\nfor example, when adding:\n    tripleo::profile::base::database::mysql::mysql_server_options:\n      mysqld:\n        # MySQL InnoDB equally divided in 1GB instances\n        innodb_buffer_pool_instances: 2\n        # Query network write timeout raised to 120 seconds\n        net_write_timeout: 120\n        # Query network read timeout raised to 120 seconds\n        net_read_timeout: 120\n        # MySQL connection timeout set to 8 hours\n        connect_timeout: 28800\n\nThings will break because all the wsrep options that are set normally will be\noverridden and galera will refuse to start\n\nTested by passing the above hiera keys and observing the deploy complete\nsuccessfully and the settings correctly applied to galera/mysql on the overcloud.\n\nChange-Id: I30f03bc8eb81db0243c137d4af08924adeebc951\nCloses-Bug: #1848060\n",
        "issue_summary": ""
    },
    {
        "commit_message": "HAProxy: Remove unused logic to reload haproxy service\n\nNow haproxy is running inside container and is not directly managed by\nsystemd, so the logic to reload haproxy using systemctl command is no\nlonger used.\n\nChange-Id: I452cc36a2da5ecd50350e10c207af81bb7060f60\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Fix grafana listener options to allow affinity\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Fixes transparent binding to OpenDaylight in HA Proxy\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove deprecated ceilometer::dispatcher::gnocchi\n\nhttps://review.opendev.org/#/c/677427/ removes the same from\npuppet-ceilometer so it also needs to be removed puppet-tripleo\n\nCloses-Bug: #1840901\n\nChange-Id: If4ab08cdcf43c14c37ac35f9044d363b09833d0c\nSigned-off-by: Chandan kumar <chkumar@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Make all mysql root users managed during stack creation/update\n\nIn non-HA deployments (undercloud and standalone) puppet-mysql\nhandles password for user 'root@localhost' [1], but it doesn't\ntry to update 'root@%'.\nInstantiate the appropriate resource to fix the management of\nthat mysql user.\n\nCloses-Bug: #1867186\n\n[1] https://github.com/puppetlabs/puppetlabs-mysql/blob/master/manifests/server/root_password.pp\n\nChange-Id: I5bb1c23f5fbe7e6fd28537aef4fbfc1be5950dcc\n",
        "issue_summary": ""
    },
    {
        "commit_message": "midonet: update neutron parameter\n\nUpdate neutron parameter to lookup the right variable in Hiera.\n\nChange-Id: I7b93e8d308f2ff2fb3a2083af75140dfa62b3ad8\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Set meta container-attribute-target=host attribute\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Add NVMeOF support to configure cinder backend\n\nDepends-On: I74ca80b10e25cbb36f073b8c0310da0c8784fb1f\nChange-Id: I33545b5de5d4196848255d7333e799dc481540e2\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix typo in haproxy bundle\n\nChange I6f4d3a5abae8f1781cfe6f69ff960aad500061e3 slipped in a typo\nand it removed the '$' character from a puppet manifest. Which causes\na deployment to fail with:\nINFO: running container haproxy-bundle-docker-0 for the first time\nERROR: /usr/bin/docker-current: Error response from daemon: Invalid bind mount spec \"deployed_ssl_cert_path:deployed_ssl_cert_path:ro\": Invalid volume destination path: 'deployed_ssl_cert_path' mount path must be absolute.. See '/usr/bin/docker-current run --help'.\nERROR: docker failed to launch container\n\nChange-Id: Ic602fd443d38482bf1f924531561b2174dc38293\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add explicit AllowUsers options for nova_migration\n\nIf sshd on the compute nodes is configured with AllowUsers via Heat\ntemplate, then nova_migation user could be rejected.\n\nChange-Id: I1a380cdcc325e1ae19fb9510a56a96eb503f51f5\nCloses-Bug: #1899996\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Move ip_forward configuration to THT\n\nThe ip_forward configuration is now handled in the kernel configuration\nof THT. We need to drop the static configuration of this\nnet.ipv4.ip_forward value.\n\nDepends-On: I557e4a41c4e5be3a2f50e5d5ddc86e17c1eb44e1\nChange-Id: I9e97ef74bbbe5287692fb4b5cb8e229e3f975741\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Dell EMC SC: Add support for excluded_domain_ips\n\nThe Dell EMC SC configuration option excluded_domain_ip has been\ndeprecated and will be removed in a future release. Deployments\nshould now migrate to the option excluded_domain_ips for\nequivalent functionality.\n\nDepends-On: https://review.openstack.org/#/c/604384/\nChange-Id: Ib9218e7825fef83e41bdebaba3a444935c8a38e1\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add resource to create haproxy endpoints dynamically\n\nWith this resource we can add the values needed for haproxy via t-h-t,\ninstead of having everything in the haproxy manifest. Right now nothing\nis using it, but subsequent and per-service changes will come.\n\nChange-Id: I8ab49c0b8d8f42ce68c0c7fe3ef8067a7d0da3c0\n",
        "issue_summary": ""
    },
    {
        "commit_message": "rabbitmq:  Remove default post-save command for certmonger\n\nThe default command didn't work, so we need to fix that.\n\nThe script additionally copies the certificates in the right place\nand instead of restarting RabbitMQ, it triggers a pem cache reload.\n\nRelated-Bug: #1811401\nNeeded-By: I3e564f9a5abdbf11d0580c4ff801092f32bcc678\nChange-Id: Id06633a1adaafe1fef1d3d7f6b2af3ef5ffc9d4a\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove MongoDB\n\nMongoDB hasn't been supported since Pike, it's time to remove the\ndeployment files. Starting in Stein, it's not possible to deploy MongoDB\nanymore. It already changes the default zaqar management_store to\nsqlalchemy and the zaqar messaging_store to redis, which is already\nset by TripleO Heat Templates.\n\nChange-Id: I470a7e8c25293b2f2cb5420be124a8809481478a\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Optionally the docker group to the mistral user\n\nThis allows the workflow driven container prepare to make local docker\ncalls, which is required for pull/push calls to work when uploading\nimages to the local registry.\n\nThis is only required for the undercloud mistral, so is only\nenabled by setting $docker_group = true.\n\nChange-Id: Ifab466893beb5bfaa0314b50d14740f2b04771a8\nBlueprint: #container-prepare-workflow\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Use transport_url for rabbitmq connection parameters in heat\n\nDepends-On: I91b9959a6f71b4e6885e55a568116cc28cf16ddd\n\nChange-Id: I1a152dd0a7e7949ee8d91a6f63425dba2406fcaf\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Move neutron ml2 plugins in plugins dir\n\nMove neutron ml2 plugins in plugins directory and make it compatible\nwith current THT.\n\nThe old class will be removed soon.\n\nChange-Id: I35332df5800083f3373f5c37411534d11e9b4401\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Change branch name for selinux_core puppet module\n\nmaster branch has been renamed to main upstream [1].\n\n[1] https://github.com/puppetlabs/puppetlabs-selinux_core/commits/main\n\nChange-Id: I35c86b684a6015186760dc77b734f4b52a4e59af\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Set manage_roles for all steps in Keystone/Pacemaker\n\nWe the base::keystone profile is trying to create users and roles\nbefore step 5, this change will set the a value for manage_roles\nfrom the pacemaker profile for all steps.\n\nChange-Id: I7aca8d6418988160641b29f9396a0fbe33b64e51\n",
        "issue_summary": ""
    },
    {
        "commit_message": "glance: known_stores -> stores\n\nknown_stores is deprecated in favor of stores.\nThis patch aims to update it.\n\nChange-Id: Iaf83b847fbe9e8a78c6bf7f534c955eae357d95f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Default ceph_osd_selinux_permissive to false\n\nWe don't set selinux in 'permissive' mode by default anymore.\n\nChange-Id: I1aa46086f69e7c3efd2782da62fd18ade8343fde\nPartial-Bug: 1595518\n",
        "issue_summary": ""
    },
    {
        "commit_message": "loadbalancer: add Aodh API support\n\nAdd Aodh (Ceilometer Alarming) support in TripleO Loadbalancer config.\n\nChange-Id: I891985da9248a88c6ce2df1dd186881f582605ee\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Disable curl globbing\n\nDisable curl globbing to allow Swift ringbuilder to upload to IPv6\nupload addresses. Also dicable globbing in the other places curl\nis used.\n\nChange-Id: Iba51cc75bea26b775f790849f0b466a6528ee627\nCloses-Bug: #1757118\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Force cinder properties to be set on ly on nodes with pcmk on it\n\nWhen using the BlockStorage role there is one cinder volume per node and\nthose are not managed by pcmk. So when we force the property for all\nnodes that have cinder_volume we will fail because pcmk is not running\non those nodes. Let's not set properties for nodes that are not running\npacemaker.\n\nWhile we're at it let's remove *_nodes_count which are not used anyway.\n\nCloses-Bug: #1786412\n\nChange-Id: I42e9f3244bad60b5df2dfa940f132f72c606620e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "In compute IHA make no_shared_storage a class parameter\n\nThis was suggested in I4d1908242e9513a225d2b1da06ed4ee769ee10f7\nand it makes the no_shared_storage a class parameter so it can\nbe parametrized more easily.\n\nChange-Id: I0a7cd7687feb2caa80e74329260ba3b063d223ee\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add httpd and tls support to manila-api\n\nAllow specifying TLS options, including\nthe manila_api_network and include\nthe generic apache profile to allow setting\noptions when manila-api is deployed under\napache/mod_wsgi.\n\nChange-Id: I47b8820667f7c524a15aa28659626382586d160f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Better support for redis in Zaqar\n\nAlign with other services and reuse the redis_vip hiera data instead of\npassing the URI. It also addes the zaqar_redis_password hiera.\n\nChange-Id: Ic73935b9b1740a254c81d7e692b7787563716684\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Use memcached for token caching in heat authtoken\n\nUse memcached to cache token in heat authtoken, as in-process\ncache, which we currently use, was already deprecated[1].\n\n[1] Ied2b88c8cefe5655a88d0c2f334de04e588fa75a\n\nChange-Id: I03026900a8727efc0d5b1d6a73426e96f75749d1\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add loadbalancer profile for ha & non-ha\n\nThe profile contains Puppet classes to deploy loadbalancer services\n(HAproxy & Keepalived) for ha & non-ha scenarios.\n\nA future iteration will split HAproxy & keepalived, but for now, we just\nwant to move out the code from THT to puppet-tripleo.\n\nChange-Id: I9b106dcc1a4d446ab5dea8430ed295e6ec209cbd\nImplements: blueprint refactor-puppet-manifests\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add missing pacemaker cindier CA cert mounts\n\nThis adds the same CA cert mounts which other pacemaker managed\ncontainers like rabbitmq, redis, and haproxy.\n\nWith this change, cinder-backup should work correctly when running SSL\nenabled.\n\nChange-Id: I199c03ba36a24e6b1caf535ed285047952ac9eb0\nCloses-Bug: #1747326\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Use memcached for token caching in glance authtoken\n\nUse memcached to cache token in glance authtoken, as in-process\ncache, which we currently use, was already deprecated[1].\n\n[1] Ied2b88c8cefe5655a88d0c2f334de04e588fa75a\n\nChange-Id: Iba9c1df73c00e5eb314cb6bc2cda06ccd6ead96f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Enable X-Forwarded-Proto header for Heat and Nova\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Revert Horizon's Memecached config to use IP addresses\n\nThe library we currently use in Horizon for Memcached, python-memcached,\nis unabled to resolve IPv6 domain names, but works fine with IPv6\naddresses. Until we switch to a different library, we have to revert\nhttps://github.com/openstack/puppet-tripleo/commit/49921d57f5753dffe032b9501d1101707ce8cc1e\nand use IP addresses.\n\nChange-Id: I1120c81ff3759b3bb344023728c1f695379fd365\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Neutron: remove support for N1kv driver\n\n... because N1kv driver was already removed[1].\n\n[1] https://opendev.org/x/networking-cisco/commit/0730ec9e6b76b3c1e75082e9dd1af55c9faeb34c\n\nChange-Id: Ie90f690ab80b4880b520f79b9c1ad528efa001eb\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Composable services support for Cinder Pure Storage FlashArray\n\nAdded the heat templates for Cinder Pure Storage FlashArray\nbackend to use composable services\n\nChange-Id: I6f46f45a3af394de85672261c7d72ddc492a07b2\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove manage_service and enabled from TripleO manifests\n\nThese can be controlled via the specific Pacemaker role template.\n\nDepends-On: I91a4267f0fc230f63df3333747d28463c7ae55fe\nChange-Id: I8ef7bb94e048b998712b3534ceb51a7d10d016e9\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Horizon: Support Strict-Transport-Security header\n\nThis allows operators to enable HTTP Strict-Transport-Security (HSTS)\nfor Horizon endpoint, to enforce usage of SSL.\n\nChange-Id: I20c2aee6af03af96a4a2022681eabba75a6acf00\n",
        "issue_summary": ""
    },
    {
        "commit_message": "MySQL: Remove ineffective systemd drop-in\n\nThis change removes ineffective systemd drop-in for mysql.service.\nThat systemd service has been unused since all services were\ncontainerized.\n\nChange-Id: Ie5ddbebed8d619678d0a31dbddfb9d7e0f576977\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Enable X-Forwarded-Proto header for keystone admin endpoint\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Add support for BGPVPN service plugin\n\n  Introduce profile to configure networking-bgpvpn service\n\nImplements: blueprint bgpvpn-service-integration\n\nChange-Id: I7c1686693a29cc1985f009bd7a3c268c0e211876\nSigned-off-by: Ricardo Noriega <rnoriega@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Pacemaker: Replace hiera by lookup (2)\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nThis covers the remaining manifests to set up pacemaker resource.\n\nChange-Id: I749b979a7333f68a646f36afa912603b1af0a943\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add networking-sfc support\n\nEnables configuration for Service Function Chaining plugin with neutron.\n\nImplements: blueprint networking-sfc-support\n\nCo-Authored-By: Tim Rozet <trozet@redhat.com>\nChange-Id: Icd433ddc6ae7de19a09f9e33b410a362c317138a\nDepends-On: I09ce12298caee6fb2194240f2e19b4771ab797b0\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add ML2/OVN support for neutron profile\n\nPartially-Implements: blueprint refactor-puppet-manifests\nDepends-on: https://review.openstack.org/#/c/340343\n\nAdd OVN plugin for non-ha profiles of neutron\n\nChange-Id: I3850a8b5584eaf14a656b547f6a47008a2d1289e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Drop old cruft-removal code in ovn_dbs_bundle\n\nWith Train we switch ovn-dbs to a separate VIP. We had some code\nthat took care of removing the constraints ovn-dbs added to the\ninternal_api VIP. Since we're headed to Wallaby we can drop this\npiece of code as ovn-dbs has had its own VIP for a few releases now.\n\nDepends-On: I5d5df3948964c28f53eda0ba5a966c824012bd4c\nChange-Id: Ibea59d9679b1c1e3d99f3077d370ca92ae1a8d0a\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable X-Forwarded-Proto header for keystone_public\n\nOne of the ways to make use of TLS in keystone is through the usage of\nthe X-Fowarded-Proto header, which will be forwarded with the request\nby the loadbalancer, and it will tell keystone what protocol was used\nto access it. This also requires configuration from the keystone side.\n\nChange-Id: I9b899ba95e28b7dfae0c1ed84ca8431054673925\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix new mariadb ipv6 issue\n\nIt seems that pre 10.3 mariadb did not except square brackets when\nsetting the wsrep gcomm address, whereas 10.3 requires them.\nAlso 10.3 seems to have isssues binding to a specified ipv6 address.\nFor the time being, until we investigate more in detail, let's just\nnot bind an ip address for the the gcomm address when using ipv6.\n\nThis will unblock all promotions while we get to the bottom of the\nissue.\n\nChange-Id: I0b49019065c71edc4497c777f33af7926e8b1238\nCloses-Bug: #1808536\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Allow to configure haproxy daemon's status\n\nCurrently we hard-code the fact that haproxy starts as a daemon.\nWhen running haproxy in a container we need this to be configurable\nbecause the haproxy process will be pid number 1.\n\nWe are not changing the current semantics which have the 'daemon'\noption always set, but we are allowing its disabling.\n\nChange-Id: I51c482b70731f15fee4025bbce14e46a49a49938\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Allow not setting hiera cephfs_enable_snapshots\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Manila: Use manila::backend::ganesha to set up ganesha options\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove the unused list_to_zookeeper_hash function\n\nThe list_to_zookeeper_hash function is not used by any class, thus\ncan be removed completely.\n\nChange-Id: I5a1253a30cfdd5c0f5517785d4464bcc525f8577\n",
        "issue_summary": ""
    },
    {
        "commit_message": "galera: make gcache recovery configurable\n\nOn startup, mariadb 10.5 now reloads previous writesets cached on\ndisk to serve IST to other joiner nodes instead of SST.\n\nThis cache on disk is unreliable, so make this feature configurable\nand disable it by default (as it was in mariadb 10.3).\n\nChange-Id: I176ac88f9d91080926556690319941bd18bd34f6\nCloses-Bug: #1984264\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Disallow SSLv2, SSLv3 and TLS1.0 in rabbitmq for FedRAMP compliance\n\nOnly allow TLSv1.1 and TLSv1.2 when connecting to the AMQP port over SSL.\n\nWe cannot disable a specific protocol version for inter node communication,\nso in order to enforce TLS1.1 or greater, we disallow all ciphers provided\nby SSLv2 SSLv3 and TLS1.0.\n\nNode: The list of allowed ciphers cannot be specified with the usual\nOpenSSL cipher list format, so we pass the list of ciphers which are\navailable out of the default cipher list [1] used for other services like\nHAProxy, stunnel or mysql/galera. The list is precomputed with:\n\nopenssl ciphers -v {cipher_list_format} | cut -d' ' -f 1 | paste -sd :\n\n[1] !SSLv2:kEECDH:kRSA:kEDH:kPSK:+3DES:!aNULL:!eNULL:!MD5:!EXP:!RC4:!SEED:!IDEA:!DES:!SSLv3:!TLSv1\n\nChange-Id: I354d5851345033a90b43e6be9a6039cb4edca203\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add unit tests for fluentd profile\n\nChange-Id: I5f23f7c1c1928f126e307317c3573c49ed4b60ba\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"fencing: Remove unused logic to detect deployment type\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Implement Nova Placement API profile\n\nAllow TripleO to deploy Nova Placement API with a new profile.\n\nChange-Id: I5e25a50f3d7a9b39f4146a61cb528963ee09e90c\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Pull in redis for unit tests\n\nWe used to get this from puppet-openstack-integration, but since they\ndropped this module we need to include it in puppet-tripleo.\n\nChange-Id: I976c2d5c8d1f47a837dadddc9dbccb49e7defbde\nCloses-Bug: #1784422\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add support for Designate\n\nChange-Id: I115090679bd2577cdc3998ab3cc97f9581e5e18a\nbp designate-support\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Include cors to gnocchi profile\n\nDepends-On: I4f750863ba1bde478efff026f9bc64bac13030ec\nChange-Id: Ib7e28f85d539bcb1eab444ddd763d6f9a4ed1570\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable TLS configuration for containerized RabbitMQ\n\nIn non-containerized deployments, RabbitMQ can be configured to use TLS for\nserving and mirroring traffic.\n\nFix the creation of the rabbitmq bundle resource to enable TLS when configured.\nThe key and cert are passed as other configuration files and must be copied by\nKolla at container startup.\n\nChange-Id: Ia64d79462de7012e5bceebf0ffe478a1cccdd6c9\nPartial-Bug: #1709558\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Handle deprecated cinder iSCSI parameters\n\nCinder removed support for some previously deprecated configs, which\nin turn required an update to puppet-cinder. This patch fixes the\nparameter names used when creating puppet-cinder resources to not use\nthe deprecated names.\n\nCloses-Bug: #1801081\nDepends-On: I355298aaa7e48d242ad05b8c931ee9d41339185f\nChange-Id: Ice4992678902a5adc090323fb232c8405e747bb5\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Use HAProxy 'transparent' bind option for compat with IPv6\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Include swift base class in the proxy class\n\nThis was missing, and therefore the Swif hashes were not properly set in\nswift.conf if only the proxy manifest was applied (for example when\ndeploying separate storage nodes).\n\nRelated-Bug: 1732663\nChange-Id: I11c044bbc8b9f56f95ace9320cc77303d9a7543e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "nova/api: more cleanup\n\n- transform nova_api_wsgi_enabled in a parameter\n- update rspec tests\n- fix TLS to run at step 1\n\nChange-Id: I4d3f9c92f0717ae8c3bc8d71065fab281de82008\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Adds auto-detection for VIP interfaces\n\nPreviously the ctrl plane VIP would default to 'br-ex' which in non-vlan\ndeployments ends up being the wrong interface.  The public VIP interface\nwas also defaulted to 'br-ex' which would be incorrect for vlan based\ndeployments.  Since a user has already given the nic template (and in\nmost cases the subnet that corresponds to the nic) the installer should\nbe able to figure out which interface the public/control vip should be\non.\n\nThese changes enable that type of auto-detection, unless a user\nexplicitly overrides the heat parameters for ControlVirtualInterface and\nPublicVirtualInterface.  Also removes calling keepalived from haproxy\nnow that the services are composed separately on the Controller role.\n\nPartial-Bug: 1606632\n\nChange-Id: I05105fce85be8ace986db351cdca2916f405ed04\nSigned-off-by: Tim Rozet <trozet@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Adds service for managing securetty\n\nThis adds the ability to manage the securetty file.\n\nBy allowing management of securetty, operators can limit root\nconsole access and improve security through hardening.\n\nChange-Id: Ic4647fb823bd112648c5b8d102913baa8b4dac1c\nCloses-Bug: #1665042\n",
        "issue_summary": ""
    },
    {
        "commit_message": "HAProxy: deprecate activate_httplog\n\nhttplog is always enabled for all http endpoints by default\nregardless of activate_httplog parameter from a bug/1930266.\nThis parameter has no effects now and shouldn't be used.\n\nChange-Id: I19a031ee4f4b2a49b68515f17e5ed13179406dd8\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Allow to specify a nic for the VIPs\n\nThis review allows the operator to specify a nic to bind to a VIP to.\nIt does so in two different ways:\n1) Via a global 'tripleo::pacemaker::force_nic' hiera key.\nFor example setting 'tripleo::pacemaker::force_nic: lo'\nwill make sure all VIPs are added to the 'lo' network interface.\n\n2) The global setting can be overriden via a custom hiera\nhash called 'force_vip_nic_overrides' so that we can\noverride the binding nic for specific VIPs. For example:\n\n  force_vip_nic_overrides:\n    redis_vip: vip-test-nic\n    ovn_dbs_vip: vip-test-nic\n\nWill make sure that the redis_vip and the ovn_dbs_vip will\nbe bound to the 'vip-test-nic'.\n\nTested with:\n  tripleo::pacemaker::force_nic: lo\n  force_vip_nic_overrides:\n    redis_vip: vip-test-nic\n    ovn_dbs_vip: vip-test-nic\n\nAnd correctly got all VIPs running on lo:\n1: lo    inet 192.168.24.9/32 scope global lo\\       valid_lft forever preferred_lft forever\n1: lo    inet 172.23.1.9/32 scope global lo\\       valid_lft forever preferred_lft forever\n\nexcept for redis and ovn_dbs which are on the vip-test-nic:\n5: vip-test-nic    inet 172.25.1.7/32 scope global vip-test-nic\\       valid_lft forever preferred_lft forever\n\nNote: The interface is intentionally kept in hiera as this change\nwill only be needed whenever BGP runs on all nodes and advertises the\nVIPs across the ASN (i.e. we do not want to make it very exposed just\nyet)\n\nChange-Id: Iaa2676655d97a66237a3bd6066985f87d3565a4d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable novajoin user on keystone profile\n\nIf novajoin is enabled, the keystone profile should create its user.\n\nbp tls-via-certmonger-containers\n\nChange-Id: Ifb43b72cbf0180cf12e6d3584c92ae01ce5294e5\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Always update the local certmonger ca cert\n\nThe local certmonger cert will renew after half its lifetime, which will\nbe after 6 months by default.  The current code would extract the CA cert\nto a PEM file (and trust it), only if the cert in the existing PEM file\nwas expired.\n\nBut this means that the certmonger local cert could be renewed after six\nmonths and not be replaced in the PEM file until the existing cert\nexpired at the end of the year.  If certs are issued in this time, they\nwill not be trusted and the update will fail.\n\nThis patch removes this condition, so that the extracted and trusted cert\nalways matches what is in the PEM file, and what is trusted.\n\nNote, this only place this occurs is on the undercloud - because this is\nwhere we could use the certmonger local cert.  We assume that the haproxy\ncert will be re-issued in an update.\n\nChange-Id: If804dc369c5883eeb51f7e6dcd01ee0e5967c7cf\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Only sync the gnocchi db on the pacemaker master\n\nThe gnocchi db sync is being run from multiple controllers causing errors in\nCI. See the bug for more details.\n\nChange-Id: I67a15dc83a754fb6f5fe25c64ae9e7d29c58fcec\nCloses-Bug: #1604624\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix puppet-lint in composable contrail\n\nAfter landing this new service, there ase some puppet\nstyles misalignments.\n\nThese changes are in favor of start using puppet-lint 2.0.0\n\n2016-09-12 08:55:07.952492 | manifests/network/contrail/analytics.pp:130:WARNING: optional parameter listed before required parameter\n2016-09-12 08:55:07.952573 | manifests/network/contrail/config.pp:117:WARNING: optional parameter listed before required parameter\n2016-09-12 08:55:07.952604 | manifests/network/contrail/config.pp:118:WARNING: optional parameter listed before required parameter\n2016-09-12 08:55:07.952632 | manifests/network/contrail/config.pp:119:WARNING: optional parameter listed before required parameter\n2016-09-12 08:55:07.952660 | manifests/network/contrail/config.pp:120:WARNING: optional parameter listed before required parameter\n2016-09-12 08:55:07.952688 | manifests/network/contrail/control.pp:95:WARNING: optional parameter listed before required parameter\n2016-09-12 08:55:07.952717 | manifests/network/contrail/control.pp:96:WARNING: optional parameter listed before required parameter\n2016-09-12 08:55:07.952745 | manifests/network/contrail/control.pp:97:WARNING: optional parameter listed before required parameter\n2016-09-12 08:55:07.952773 | manifests/network/contrail/database.pp:37:WARNING: optional parameter listed before required parameter\n2016-09-12 08:55:07.952800 | manifests/network/contrail/webui.pp:80:WARNING: optional parameter listed before required parameter\n2016-09-12 08:55:07.952828 | manifests/network/contrail/webui.pp:81:WARNING: optional parameter listed before required parameter\n2016-09-12 08:55:07.952856 | manifests/network/contrail/webui.pp:82:WARNING: optional parameter listed before required parameter\n\nChange-Id: Id45d2daf49bfd081ceb074a2687306a7ac977da8\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enforce firewall rules before pacemaker-auth\n\nWe want to make sure that any firewall rule set to open pacemaker ports\nis executed before we run any commands that invoke pcs to\nauthenticate remote nodes.\n\nIt simply makes sense from a high-level POV to explicitely open\nup firewall rules before we invoke pcs commands that will talk to\nremote nodes.\n\nI have actually seen one case in the wild where during a scaleup\nthe node being scaled up was waiting on Exec['wait-for-settle']\nand the bootstrap node failed to contact pcs on the scaled up node\nbecause there the firewall rules were never opened up as it was\nwaiting on the 'wait-for-settle' step.\n\nNote that we *cannot* impose the ordering via a too-generic\nFirewall<||> collector because in tripleo::firewall we have\n\n    Service<||> -> Class['tripleo::firewall::post']\n\nand we would create a circular dependency.\n\nTested a queens deploy with this change and we are correctly\nguaranteed to open up firewalling before invoking pcs:\nMar 05 16:22:51 controller-0. puppet-user[18840]: (/Stage[main]/Tripleo::Firewall/Tripleo::Firewall::Service_rules[swift_storage]/Tripleo::Firewall::Rule[123 swift storage]/Firewall[123 swift storage ipv4]/ensure) created\nMar 05 16:22:52 controller-0. puppet-user[18840]: (/Stage[main]/Tripleo::Firewall/Tripleo::Firewall::Service_rules[swift_storage]/Tripleo::Firewall::Rule[123 swift storage]/Firewall[123 swift storage ipv6]/ensure) created\nMar 05 16:22:52 controller-0. puppet-user[18840]: (/Stage[main]/Tripleo::Firewall/Tripleo::Firewall::Service_rules[tripleo_firewall]/Tripleo::Firewall::Rule[003 accept ssh from any]/Firewall[003 accept ssh from any ipv4]/ensure) created\nMar 05 16:22:52 controller-0. puppet-user[18840]: (/Stage[main]/Tripleo::Firewall/Tripleo::Firewall::Service_rules[tripleo_firewall]/Tripleo::Firewall::Rule[003 accept ssh from any]/Firewall[003 accept ssh from any ipv6]/ensure) created\nMar 05 16:22:52 controller-0. puppet-user[18840]: (Exec[reauthenticate-across-all-nodes](provider=posix)) Executing '/sbin/pcs cluster auth controller-0 controller-1 controller-2 database-0 database-1 database-2 messaging-0 messaging-1 messag\ning-2 -u hacluster -p foobar --force'\nMar 05 16:22:52 controller-0. puppet-user[18840]: Executing: '/sbin/pcs cluster auth controller-0 controller-1 controller-2 database-0 database-1 database-2 messaging-0 messaging-1 messaging-2 -u hacluster -p AQtEeE6e3FDEqrfm --force'\nMar 05 16:22:55 controller-0. puppet-user[18840]: (Exec[Create Cluster tripleo_cluster](provider=posix)) Executing '/sbin/pcs cluster setup --wait --name tripleo_cluster controller-0 controller-1 controller-2 database-0 database-1 database-2\nmessaging-0 messaging-1 messaging-2 --token 10000 --encryption 1'\nMar 05 16:22:55 controller-0. puppet-user[18840]: Executing: '/sbin/pcs cluster setup --wait --name tripleo_cluster controller-0 controller-1 controller-2 database-0 database-1 database-2 messaging-0 messaging-1 messaging-2 --token 10000 --en\ncryption 1'\nMar 05 16:23:20 controller-0. puppet-user[18840]: (Exec[Start Cluster tripleo_cluster](provider=posix)) Executing check '/sbin/pcs status >/dev/null 2>&1'\nMar 05 16:23:20 controller-0. puppet-user[18840]: Executing: '/sbin/pcs status >/dev/null 2>&1'\nMar 05 16:23:21 controller-0. puppet-user[18840]: (Exec[Start Cluster tripleo_cluster](provider=posix)) Executing '/sbin/pcs cluster start --all'\nMar 05 16:23:21 controller-0. puppet-user[18840]: Executing: '/sbin/pcs cluster start --all'\n\nChange-Id: I775ad1abf87368d013054e9a5dab22931f21f86c\nCloses-Bug: #1866209\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Deprecate warnings for Ceilometer and Gnocchi\n\nThose two services are going to be removed in future, so we need to warn users.\n\nChange-Id: Ic458adce077249998604bb227417e1e9a834473d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Move ceilometer wsgi to step 3\n\nApache is configured in step 3 so if we configure ceilometer in step 4,\nthe configuration is removed on updates. We need to configure it in step\n3 with the other apache services to ensure we don't have issues on\nupdates.\n\nChange-Id: Icc9d03cd8904c93cb6e17f662f141c6e4c0bf423\nRelated-Bug: #1664418\n",
        "issue_summary": ""
    },
    {
        "commit_message": "sshd: Remove unused implementation to set up MOTD/Banner\n\nNow the sshd manifest is used to configure the nova migration target\nservice only, which does not require the customization of MOTD and\nBanner.\n\nDepends-on: https://review.opendev.org/838978\nChange-Id: I02ed0afa327b8f954cd02f62bd947a9ab0b3f7d2\n",
        "issue_summary": ""
    },
    {
        "commit_message": "HAProxy logging\n\nThis patch is to increase the logging for haproxy. Currently HAProxy\ndoesn't log any events. This patch is to enable http logging when the\nmode is http, also enable tcp logging when the mode is tcp.\n\nCloses-Bug: #1713482\n\nChange-Id: Idddb8844d03058d708b65b77efa04ca6571289a6\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Horizon: Enable manila-dashboard configurations\n\nDepends-on: https://review.opendev.org/790350\nChange-Id: I0f005146ae75e85b428061eeb30864767f546fff\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Allow VIP resource to have customized ops\n\nIntroduce meta_params and op_params which will be\npassed to the pcs resource create comand when creating\nthe VIPs. This allows us to specify custom ops for VIPs\nin the following manner, by setting hiera. E.g.:\ntripleo::profile::pacemaker::haproxy_bundle::op_params: 'start timeout=200s stop timeout=200s monitor timeout=5s'\n\nChange-Id: I9a1c700051fc6dfc302e1d94347df2956442354e\nDepends-On: Iadf0cd3805f72141563707f43130945c9d362f5c\nRelated-Bug: #1719540\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Do not create fs and server side key from manila\n\nBoth fs and key are handled by ceph-ansible, move fs and key\ncreation out of manila manifest to assure that it works with and\nwithout ceph-ansbile.\n\nClient-side manila key is created from ceph-mds and ceph-external\ntemplates in I6308a317ffe0af244396aba5197c85e273e69f68.\n\nDepends-On: I6308a317ffe0af244396aba5197c85e273e69f68\nPartially-Implements: blueprint nfs-ganesha\nChange-Id: I2b5567a39ac8737e80758b705818cc1807dc8bf1\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Sahara integration\n\nAdds configuration for Sahara to loadbalancer class.\n\nChange-Id: I0f0a1dc2eaa57d8226bad8cfb250110296ab9614\nPartially-implements: blueprint sahara-integration\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Manila: Remove usage of deprecated driver_handles_share_servers\n\nDepends-on: https://review.opendev.org/793542\nDepends-on: https://review.opendev.org/807226\nChange-Id: Ib595c5879d2b6069b14776d42b8784fb37715013\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Horizon: Enable octavia-dashboard configurations\n\nDepends-on: https://review.opendev.org/789701/\nChange-Id: Idcb1aa7c496c6d158791c6d499069d919b9d363a\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"loadbalancer: fix MySQL timeout HAproxy config\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix missing groups for fluentd user\n\nThis patch moves fluentd deployment to step 4 (the same as openstack services)\nand makes resource for user fluentd be dependent on all openstack packages,\nso that we avoid errors such as \"usermod: group 'cinder' does not exist\".\n\nChange-Id: Ibabd4688c00c6a12ea22055c95563d906716954d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Revert \"Deprecate warnings for Ceilometer and Gnocchi\"\n\nThis reverts commit 88ef2afcbf9670fdd5bffced4564f2107ba06699.\n\nReason for revert:\nCeilometer and Gnocchi are not deprecated in tripleo-heat-templates.\nThe current warning in puppet-tripleo gives a wrong notice to users.\nDeprecation should happen in a consistent manner within all TripleO\nrepos.\n\nConflicts:\n\tmanifests/profile/base/gnocchi.pp\n\nChange-Id: I41ebb5c84db3cffa897c259729caa6b5247dd0e9\n",
        "issue_summary": ""
    },
    {
        "commit_message": "swift/proxy: configure rabbitmq properly\n\nUse rabbitmq_node_ips to find out where rabbitmq nodes are, and have\ncorrect ipv6 syntax if required.\n\nCloses-Bug: 1637443\nChange-Id: Ibc0ed642931dd3ada7ee594bb8c70a1c3462206d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Configure json_rpc/authtoken sections for ironic\n\nConfigure json_rpc section for both ironic-api and ironic-conductor.\nJSON RPC service uses keystonemiddleware to authenticate with\nkeystone. Configure the keystone_authtoken section for\nironic-conductor as well.\n\nChange-Id: I9fc0f27a781e6374ad52575533c099fbc23382fd\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove unused implementation to trigger ceilometer-upgrade\n\nCurrently the ceilometer-upgrade command is executed not by puppet, but\nby the the indepdndent ceilometer_gnocchi_upgrade container.\n\nChange-Id: I1886d96d558af4d7cf46ef59f7c0c7871a697581\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Remove share_backend_name from Dell-EMC manila backends\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Stop using removed parameters\n\nlibvirt_disk_cachemodes/libvirt_hw_disk_discard parameters were\ndropped with [1]\n\n[1] https://review.opendev.org/c/openstack/puppet-nova/+/789559\n\nChange-Id: I0df99f33b021d9ca41afaa19d07ace81677cd3b8\nCloses-Bug: #1928968\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Defaults empty hash to kernel_modules and sysctl_settings\n\nSet empty hash by default to kernel_modules and sysctl_settings so catalog\nwon't fail if the parameters are not set in Hiera.\n\nChange-Id: I24ab535b01e2724af457d39c03cd990c574ef0aa\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add option for innodb_flush_log_at_trx_commit = 2 for Galera only\n\nThe innodb_flush_log_at_trx_commit flag changes the timing\nof when the log buffer is written to disk for writes.\nAt its default of 1, transactions are written to disk\nand the buffer flushed on a per-transaction basis; but when\nset to 2, the flush of the buffer proceeds only once per\nsecond.  This removes the durability guarantee for the\nsingle node.  However the central concept of Galera is\nthat durability is achieved via the cluster as a whole,\nin that transactions are replicated to other nodes before\nthe commit succeeds (though not necessarily written to disk\nunless wsrep_causal_reads is set).  In this model,\ndata would only be lost of all nodes of the Galera cluster\nwere killed within one second of each other.  Percona's\nblog post at https://www.percona.com/blog/2014/11/17/typical-misconceptions-on-galera-for-mysql/\nrecommends that the value of 2 should be considered \"safe\"\nfor a Galera cluster unless you are in fact worried that\nall three nodes will be powered off simultaneously.\n\nThe value here is added as an option only, defaulting\nto the usual default of \"1\", flush per transaction.\n\nChange-Id: Id5a30f1daf978e094a74db2d284febbc9ae64bb3\n",
        "issue_summary": ""
    },
    {
        "commit_message": "TLS-everywhere: Add resources for libvirt's cert for live migration\n\nThis merely requests the certificates that will be used for libvirt's\nlive migration if TLS-everywhere is enabled.\n\nbp tls-via-certmonger\n\nChange-Id: If18206d89460f6660a81aabc4ff8b97f1f99bba7\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Puppet module to deploy Redis bundle for HA\n\nThis module is used by tripleo-heat-templates to configure and deploy\nKolla-based Redis containers managed by pacemaker.\n\nWe use short-lived containers that call pcs via puppet to create\nthe needed pacemaker resources, properties and constraints.\n\nCo-Authored-By: Michele Baldesari <michele@acksyn.org>\nPartial-Bug: #1692924\n\nDepends-On: I44fbd7f89ab22b72e8d3fc0a0e3fe54a9418a60f\nDepends-On: Ie9b7e7d2a3cec4b121915a17c1e809e4ec950e7f\n\nChange-Id: Ia1131611d15670190b7b6654f72e6290bf7f8b9e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Move ceilometer api to run under apache wsgi\n\nChange-Id: If3feb859b527d08e10c124b5ad2f7f4b1f19156a\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Use node IP lists for HA Proxy ipaddresses\n\nThis patch updates the loadbalancer class so that it\ndefaults to trying to use the node IP list for each\nrespective service. This data is provided via Hiera\ndirectly (all-nodes-config provides it via the Heat\ntemplates).\n\nBy default the ctlplane IP address list is still used\nif no service node IP list is provided.\n\nChange-Id: I34cbdf8bd525e6ab61859fe8b8c18fe613dabbfe\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Contrail: Fix controlplane/dataplane network asignments & enable optional dpdk\n\nThis patch will move the Contrail roles communication towards\nOpenStack APIs from the public/external network to the\ninternal_api network. I will also add the option to enable\ndpdk for Contrail.\n\nChange-Id: Ia835df656031cdf28de20f41ec6ab1c028dced23\nCloses-Bug: 1698422\n",
        "issue_summary": ""
    },
    {
        "commit_message": "nova: deploy basic setup for cells\n\nit's not required in Ocata, let's configure the basic setup for cells.\n\nnote: it also cleanup old code that is not valid anymore.\n\nChange-Id: Iac5b2fbe1b03ec7ad4cb8cab2c7694547be6957d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Changing opendaylight loadbalancing alogirthm\n\nCurrently source based balancing is used for both opendaylight and\nopendaylgiht_ws which results in the load being spread across only 2\nbacnekds instead of 3 (as confirmed by scale tests). This commit changes\nthe haproxy configuration for opendaylight and opendaylight_ws to use\nroundrobin which is the default.\n\nChange-Id: Idb4fe3803f69ab7440aaa2997cc4de46c9ac5458\nCloses-Bug: 1762518\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Avoid hard-coded settings in Cinder HA containers\n\nAdd parameters for controlling the docker container settings used to\ncreate the cinder-volume and cinder-backup pacemaker bundles. The\nparameters eliminate the need to hard-code the list of docker volumes\nand environment variables, making it possible to control the values\nusing hiera data.\n\nFor backward compatibility, the previous hard-coded values are used\nwhen no parameter inputs are supplied.\n\nPartial-Bug: #1748290\nChange-Id: I4ba0d78ad17183b97290b853a6c103e55bc8977c\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Make the bundle user configurable via hiera\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Make setup of keepalived optional via manage_vip parameter\n\nChange-Id: I98b9b3dbc48009ce255d964ac580e1a31f279f1e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Fix etcd's support for internal TLS\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Allow configuring multiple insecure registries\n\nIf we're using local registries, we may want to use different\nregistries e.g. for Ceph and for OpenStack. We allow multiple\nregistries in general for this purpose, and we should also allow it in\nthe insecure registry configuration.\n\nChange-Id: I5cddd20a123a85516577bde1b793a30d43171285\nRelated-Bug: #1709310\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Make rsyslog file_input bulletproof\n\nThis patch makes rsyslog::file_input accept also $sources as single hash.\nCurrently when $sources is not array deployment fails.\n\nChange-Id: I91d9f8ffb1e0c8bbdbc90696950aafd797ff380c\n",
        "issue_summary": ""
    },
    {
        "commit_message": "firewall: add IPv6 support\n\nThis patch adds support for ip6tables rules in TripleO, in a intuitive\nand flexible fashion.\n\n1) Default firewal rules 'source' parameter to undef.\n   It was 0.0.0.0/0 before but now undef, so we don't need complex logic to\n   support ipv6 rules. undef will create empty source, which is the same as\n   0.0.0.0/0 or ::/0.\n\n2) Automatically convert icmp rules to ipv6-icmp for ipv6 rules.\n\n3) Automatically create IPv6 rules like it's for IPv4.\n\n4) Only create rules that can be created, depending on\n   source/destination ip version.\n\nThis patch should be backward compatible and adds a layer of security\nfor IPv6 deployments. If previous deployments were manually creating\nIpv6 rules, it's possible that this patch will override them. Our\nframework is able to configure any rule, so it shouldn't be a problem\nfor upgrades.\n\nCo-Authored-By: Ben Nemec <bnemec@redhat.com>\nCloses-Bug: #1654050\nChange-Id: I98a00a9ae265d3e5854632e749cc8c3a1647298c\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Ensure hiera step value is an integer\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Fixes missing haproxy firewall rules for OpenDaylight\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Deprecating VMax Volume Config\n\nVMax backend is now PowerMax and config options have changed\nsince newton.\n\nChange-Id: Ib5d38009de0d29325e6da31c5a030a65eaf02e26\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Revert \"Make sure python3-novaclient is installed before creating fence_compute\"\n\nThis reverts commit c1e9447998c635a825529cff99b99ed13a4e89d7. as we\npush the package installation to THT via I3dbe35e2037c02cf0436b173bb42578f2a0b2db3\n\nDepends-On: I3dbe35e2037c02cf0436b173bb42578f2a0b2db3\nChange-Id: Iaa5451f1072f3c98aaddb1781d14f015a0ccbe0a\n",
        "issue_summary": ""
    },
    {
        "commit_message": "IHA robustness improvements\n\nThis will avoid useless fencing events in case of stonith problems.  The\n'compute-unfence-trigger' resource is simply a dummy resource that is\nonly used to trigger unfence events. If for whatever reason this\nresource is having issues on stop (pcmk bug, node overloaded, etc.) it\nmakes zero sense to have pacemaker do a fencing action against the node.\nLet's just block and show the operator the status and be less harsh in\ngeneral.\n\nTested this and I correctly get the following:\n[root@controller-0 ~]# pcs resource show compute-unfence-trigger-clone\n Clone: compute-unfence-trigger-clone\n  Resource: compute-unfence-trigger (class=ocf provider=pacemaker type=Dummy)\n   Meta Attrs: requires=unfencing\n   Operations: migrate_from interval=0s timeout=20 (compute-unfence-trigger-migrate_from-interval-0s)\n               migrate_to interval=0s timeout=20 (compute-unfence-trigger-migrate_to-interval-0s)\n               monitor interval=10 timeout=20 (compute-unfence-trigger-monitor-interval-10)\n               reload interval=0s timeout=20 (compute-unfence-trigger-reload-interval-0s)\n               start interval=0s timeout=20 (compute-unfence-trigger-start-interval-0s)\n               stop interval=0s on-fail=block timeout=20 (compute-unfence-trigger-stop-interval-0s)\n\nCloses-Bug: #1831234\n\nChange-Id: Ib4884078d54c25da998495ba3e8d47b5e17010ce\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Use dogpile.cache.memcached in nova caching\n\nAccording to the latest keystone configuration help,\ndogpile.cache.memcached is more recommended option in TripleO\ndeployment than oslo_cache.memcache_pool, because it uses httpd+wsgi\nto run apis and has less than 100 threaded servers.\n\nThis patch replaces backend used in nova caching, and also introduces\nthe new parameter tripleo::profile::base::nova::cache_backend so that\noperators can use another backend if they want.\n\nChange-Id: I36c0c474fb5e665392c1fb8d93dc3949ab6e8b67\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable configuration of omamqp1 plugin\n\nAdds necessary configuration logic for AMQP-1.0 plugin for rsyslog.\n\nChange-Id: Ibfa43a89ea4c0411f83849ced183bf9609a50d97\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Update functions to fix unit tests\n\nWith the release of 5.5.7, some of the legacy function definitions no\nlonger pass in unit tests. This change updates the functions that are\nfailing in the tests to the modern style (4.x) for function\ndeclarations.  Additionally we're removing teh lookup_hiera_hash\nfunction which is failing but not actually consumed by our code base.\n\nThere will be a followup patch to migrate the rest of the parser\nfunctions to the new format, but this patch should unblock the gates.\n\nNOTE: git thinks some of these files have been added/deleted rather than\ngit move due to the large amount of changes between the two versions of\nthe file.\n\nChange-Id: Ie7316fd422bd4a5eb91f94016977e5d8d76c27bc\nCloses-Bug: #1799786\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Include oslo.messaging amqp support for rpc and notifications\n\nThis commit conditionally includes messaging amqp class for the\noslo.messaging AMQP 1.0 driver to support notifications.\n\nThis patch:\n* include keystone::messaging::amqp class for oslo_messaging_amqp opts\n\nChange-Id: I8eb23a21d2499795c3a76ae3197bda7773165a8c\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Deprecating Old Dell SC Volume Config\n\nA new Dell SC volume config which supports both iSCSI and FC drivers\nis added. Deprecating the old Dell SC config\nSee review https://review.opendev.org/#/c/722538/\n\nChange-Id: I3402f71fde956ede80da0840780ad4bd227103c7\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove kernel class\n\nThe code isn't useful anymore.\n\nDepends-On: https://review.opendev.org/707289\nChange-Id: I23704246f5ba905666db0d2508245ca764d87161\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Replace mysql invalid open_files_limit of -1 with 65536\n\nmysql does a run a `ulimit -n <value>` call when starting and this\nfails because -1 is an unacceptable value.\n\nAvoids:\n\n/usr/bin/mysqld_safe: line 755: ulimit: -1: invalid option\nulimit: usage: ulimit [-SHacdefilmnpqrstuvx] [limit]\n\nChange-Id: I8a4804716cf0d3643197a0d24021c492aec4d28b\nSee: http://logstash.openstack.org/#dashboard/file/logstash.json?query=message%3A%5C%22ulimit%3A%20-1%3A%20invalid%20optio%5C%22\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add missing s3 case in gnocchi::api\n\nChange-Id: Ie13aac35fcb9093ad4729fc760f5e7c4d7d1d9a0\nCloses-bug: #1821580\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add tripleo::selinux\n\nAdds a class to configure SELinux. The code is taken from\npuppet-openstack-cloud:\nhttps://github.com/redhat-cip/puppet-openstack-cloud\n\nThis allows to share the same code for usage by both the Undercloud and\nOvercloud.\n\nCo-Authored By: Emilien Macchi <emilien@redhat.com>\nCo-Authored By: Yanis Guenane <yguenane@redhat.com>\n\nblueprint undercloud-elements\nChange-Id: If214005df733d41c2fa4e197df247d8a14baaa14\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add ability to noop a service\n\nWe want also be able to noop_resource('service'). In order to do that we\nalso add stubs for status, start and stop. Without this it fails with:\n[root@controller-0 openstack-puppet]# NET_HOST=true DEBUG=True PROCESS_COUNT=1 CONFIG=/root/bandini.json python3 /var/lib/container-puppet/container-puppet.py 2>&1 | tee /tmp/puppet.log |grep Error:\n<13>Oct  4 10:28:26 puppet-user: Error: /Service[rsyncd]: Could not evaluate: undefined method `status' for Service[rsyncd](provider=noop):Puppet::Type::Service::ProviderNoop\n<13>Oct  4 10:28:26 puppet-user: Error: /Service[rsyncd]: Failed to call refresh: undefined method `status' for Service[rsyncd](provider=noop):Puppet::Type::Service::ProviderNoop\n<13>Oct  4 10:28:26 puppet-user: Error: /Service[rsyncd]: undefined method `status' for Service[rsyncd](provider=noop):Puppet::Type::Service::ProviderNoop\n<13>Oct  4 10:28:26 puppet-user: Error: /Service[rsyncd]: Could not evaluate: undefined method `status' for Service[rsyncd](provider=noop):Puppet::Type::Service::ProviderNoop\n<13>Oct  4 10:28:26 puppet-user: Error: /Service[rsyncd]: Failed to call refresh: undefined method `status' for Service[rsyncd](provider=noop):Puppet::Type::Service::ProviderNoop\n<13>Oct  4 10:28:26 puppet-user: Error: /Service[rsyncd]: undefined method `status' for Service[rsyncd](provider=noop):Puppet::Type::Service::ProviderNoop\n[root@controller-0 openstack-puppet]# NET_HOST=true DEBUG=True PROCESS_COUNT=1 CONFIG=/root/bandini.json python3 /var/lib/container-puppet/container-puppet.py 2>&1 | tee /tmp/puppet.log |grep Error:\n<13>Oct  4 10:29:03 puppet-user: Error: Could not set 'running' on ensure: undefined method `start' for Service[rsyncd](provider=noop):Puppet::Type::Service::ProviderNoop\n<13>Oct  4 10:29:03 puppet-user: Error: Could not set 'running' on ensure: undefined method `start' for Service[rsyncd](provider=noop):Puppet::Type::Service::ProviderNoop\n\nRelated-Bug: #1945962\n\nChange-Id: I9ee8108fe749e787b82f8f4c226f44685ab21a99\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Only run ceilometer::db::sync on bootstrap node\n\nThe ceilometer::db::sync is included by default in ceilometer::db but we\nonly want it to run on the bootstrap node.  This change passes the\nsync_db parameter to ceilometer::db to manage the db sync process rather\nthan trying to manage the inclusion of ceilometer::db::sync within the\nprofile class.\n\nChange-Id: Ib56db1a90dd6fbfe7582fc57b7728df81942cce2\nCloses-Bug: #1629373\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Proxy manila in http mode\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove explicit service_name setting from nova manifest\n\nWe can now get this parameter from t-h-t, so it's not needed here.\n\nChange-Id: I014e7b3a6feb5609ace2e8ef1e4df11448b0a0cc\nDepends-On: Ic229182cc5c887b57f6182c3db1bac8bed330f7c\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add haproxy firewall rules for galera and redis\n\nThis change adds haproxy rules for galera and redis.  They are not there\nbecause these haproxy entries do not use the ::tripleo::haproxy::endpoint\nfunction which does this automatically.\n\nRabbit does not need them because it does not go through haproxy.\n\nCloses-Bug: #1654280\nChange-Id: If995d5c36341f3c089cbda9a0827ea28c19c796b\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fixes transparent binding to OpenDaylight in HA Proxy\n\nODL was missing transparent binding mode, which causes HA deployments to\nfail since HA Proxy will try to come up on every node (even without\nVIP).\n\nCloses-Bug: 1637833\n\nChange-Id: I0bb7839cdcfeacb4ca1a9fc6f878e8b51330be92\nSigned-off-by: Tim Rozet <trozet@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "nova/compute: add NFS bits\n\nDeploy NFS bits that were in THT before.\n\nChange-Id: I75d68cc766ad274b16b22f43b7d34d02ab26de13\n",
        "issue_summary": ""
    },
    {
        "commit_message": "firewall/rule: add 'table' support\n\n... so we can create masquerade/nat rules.\n\nChange-Id: Ic9a2626e73d132c3be7ff14a1f4cdba0c16c5b53\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Update puppet-etcd version\n\nInclude the yaml config file for containers\n\nChange-Id: I3ad463217ed3f2d6374627248236b274cfed72fb\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fixup manila-cephfs native backend defaults\n\nThe puppet-tripleo side for manila-cephfs landed without specifying\ndefaults for all class params [1] so when cephfs isn't enabled\ne.g. only generic, then you will get errors for those params. See\nreview comments at [2] for reports of this.\n\nThis will fixup the manila-cephfs puppet-tripleo side to be more\nin line with the tidy up adding netapp at [3]. The config is all\nmoved tripleo-heat-templates side. The tht review for this\nis at https://review.openstack.org/#/c/358525/ and that will now\ndepend on this review.\n\n[1] https://review.openstack.org/#/c/354047/\n[2] https://review.openstack.org/#/c/354019/\n[3] https://review.openstack.org/#/c/354014/\nChange-Id: I918f6f23ae0bd3542bcfe1bf0c797d4e6aa8f4d9\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add networking-vpp ML2 mechanism driver support\n\nImplements: blueprint fdio-integration-tripleo\n\nChange-Id: I5af0b8bbfa3ea6ace9a5cce4aa2fc1fab49ab9f2\nSigned-off-by: Feng Pan <fpan@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove default post-save command from mysql\n\nThat was not being used. The new certificate will be picked up when\nmysql is restarted (which would happen on an upgrade).\n\nChange-Id: If4ca3e9f0c248ae6df6c57edc9a2adf841d2e425\nRelated-Bug: #1811401\n",
        "issue_summary": ""
    },
    {
        "commit_message": "mysql: use clustercheck credentials to poll galera state\n\nIn the galera container, clustercheck is currently configured to\nuse root credentials to poll the state of the local galera node.\n\nconfigure clustercheck to use the clustercheck credentials instead.\n\nChange-Id: Icca33ec759a9ef5abca6da4cd2e59f0a5d9b7061\nRelated-Bug: #1792416\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Cinder: Clean up deprecated Dell EMC volume drivers\n\nDepends-on: https://review.opendev.org/823908\nChange-Id: I192addeda1550bfe29c3d8522081b708b38910ce\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Make sure to set umask 022 for nova_migration_target logins\n\nOn RHEL8 copy files for cold/live migration useing SSH in\nnova_migration_target container use the wrong umask. With this\nchange we make sure to use 022 as umask in the nova_migration_target\ncontainer.\n\nCloses-bug: #1829996\n\nChange-Id: I354f153394009591e38773d0afc933ce38a8fdff\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Extend fencing to hosts using fence_kubevirt agent.\n\nThis commit extends the fencing class allowing operators to use\nfence_kubevirt for nodes running on kubevirt / CNV.\n\nDepends-On: I18fd2297063c7157d6b743c7fc9c161bf23dca39\nChange-Id: I4f4658b3320c2cce2cf302dbb5f99bb463bd22ca\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add conditional for setting authlogin_nsswitch_use_ldap selboolean\n\nIf selinux is enabled the authlogin_nsswitch_use_ldap Boolean must\nbe enabled. This setting allows LDAP communications to the confined\nLDAP/server port. This change includes a conditional for enabling this\nBoolean only when selinux is in use.\n\nChange-Id: If985f2434d28fcd33198929bf61f2a3a82e601fe\nCloses-Bug: #1695002\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Prevent triggering firewall actions while configuring HA services\n\nWhen a fence_xvm stonith device is configured, puppet module fence_xvm creates\nfirewall rules to configure this fencing device.\n\nWhen transient containers *_init_bundle run at step 5 or above, fence_xvm will\nend up calling iptables, which is forbidden from such containers.\n\nWe can't noop the firewall resources like we did in [1], because fence_xvm\nmakes use of specific providers for some resources [2]. So instead, we do not\ninclude module fence_xvm when running from a container. This is safe\nbecause the firewall rules needed for the fencing configuration are still\ncreated when puppet is executed on the host at step 5. (Besides, only that\nfencing device requires firewall rules)\n\n[1] https://github.com/openstack/tripleo-heat-templates/blob/master/docker/services/pacemaker/haproxy.yaml#L160\n[2] e.g. https://github.com/openstack/puppet-pacemaker/blob/master/manifests/stonith/fence_xvm.pp#L237\n\nChange-Id: I595f8bc22e76868b7dace400667d53f3c4565248\nRelated: rhbz#1598904\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Sensu-client deprecation\n\nService assurance framework is going to replace Sensu as a monitoring\nsolution in T release. This patch adds warning about the service\nremoval.\n\nChange-Id: I3f77bc30d3a8d28c21ffae0fa11253560723100b\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix wrong flag name for VNC Proxy in HAProxy\n\nThe name was wrong, and so fixing it will actually enable VNC Proxy\nwhen the service is enabled.\n\nChange-Id: I65e90479fd33844b4dcd70c19cec3cd838aeff69\nCloses-Bug: #1623796\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Discover the gid of the docker group for mistral\n\nThe gid of the docker group is discovered by stating the gid of the\nfile /var/run/docker.sock. The gid of the docker group is not fixed,\nso it must match the gid assigned when docker is installed on the\nhost. If no docker.sock exists, the custom fact will return nil.\n\nThis change also makes sure the user and group ensure_resource calls are\ntagged so that docker-puppet.py can include those tags explicitly.\n\nBlueprint: container-prepare-workflow\n\nChange-Id: I94fa558480e408f76e69d292b1d84849ddf9a2a2\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge the nova HAproxy TLS options\n\nThis makes sure that we set the necessary options so HAProxy uses TLS\nto contact nova.  It was commented out when nova was moved to not run\nover httpd. Since that is no longer the case we can re-enable it.\n\nChange-Id: I026a7dab30b00a4e93966f650f098c570b0b624b\nDepends-On: Iac35b7ddcd8a800901548c75ca8d5083ad17e4d3\n",
        "issue_summary": ""
    },
    {
        "commit_message": "fix some docs typos\n\nChange-Id: Iea8558f30e1704a250234907956ec03a2e69ab4f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"mysql: fix root password update for containerized mysql\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Add ceph grafana dashboard endpoint to haproxy\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Allow enabling custom backends with manila\n\nIt is possible to provide the config settings\nto add an arbitrary and unmanaged backend to Manila\nat deployment time via Heat environment files. However,\npuppet-tripleo doesn't support extending the\nlist of enabled backends. Add this capability.\n\nChange-Id: I82f62df0a95f03afbda1b6a4ddaa67ef908030a9\nCloses-Bug: #1831938\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Make mysql bind-address configurable\n\nIt used to be hardcoded that the bind-address was always coming from\nthe $::hostname fact. This is wrong, as it disregards where we have\nconfigured the mysql address. This commit actually makes it\nconfigurable, so we'll be able to set it via hieradata.\n\nOn the other hand, we use the hiera key that we already set\n'mysql_bind_host' as a default; if, for some reason, that's\nunavailable then we fall back to $::hostname.\n\nRelated-Bug: #1627060\nChange-Id: I316acfd514aac63b84890e20283c4ca611ccde8b\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Use FQDNs for the services' RabbitMQ configuration\n\nThis replaces the services' IP-based RabbitMQ configuration and uses\nFQDNs instead.\n\nChange-Id: I2be81aecacf50839a029533247981f5edf59cb7f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove parameters to manage keystone resources and volume type\n\nThese parameters are always set to False since we implemented\nmanagement of keystone resources and default volume type in tht.\n\nChange-Id: Ib53c6c10ba737b0504f30e7260cace6d18c2f033\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Swift: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: I6ff74931b9ac95c7c2b134c249797e5b74c6471d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Use Heat role *_enabled hiera to check Manila backends\n\nAligns the way how we check for enabled backends in\npacemaker/manila.pp with what we did in base/manila/api.pp with [1].\n\nThe benefit is that we don't need to emit from the templates\ncustom hiera.\n\n1. I86ba8b9d5872c0f1a94e74215e97b796ad129bfb\n\nChange-Id: I04e28a95e8d69a24cd3df109bf1802bfcbd941db\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Template option addition for --pids-limit on Galera cluster resource\n\nmysql_bundle.pp has been modified to be able to configure --pids-limit option\nusing a template. By default the parameter remains 'undef' when not specified.\nWhen \"tripleo::profile::pacemaker::database::mysql_bundle::pids_limit:\" is used\nas an ExtraConfig it will automatically set the value in the Galera cluster\nresource.\n\nCloses-Bug: #1982751\n\nChange-Id: Iffe9c9a1d7ca736f273d2da43928d7da4a99d1d6\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix ipv6 addrlabel for ceph-nfs\n\nNo need to comment it out and we can keep it in sync like with the other\nVIPs we create:\nhttps://github.com/openstack/puppet-tripleo/blob/master/manifests/pacemaker/haproxy_with_vip.pp#L78\nhttps://github.com/openstack/puppet-tripleo/blob/master/manifests/profile/pacemaker/ovn_dbs_bundle.pp#L305\n\nChange-Id: I680f6c0e7b8369b939a1c90c01a72edbb8e460f9\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix Sahara SSL default port\n\nThere were two issues with the SSL port for sahara.\n* It was conflicting with Manila's port\n* It was documented incorrectly\n\nThis has been fixed\n\nChange-Id: I9f710e014890b6daa6b3e511fd811c1e25bd0de3\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Puppet module to deploy cinder-backup bundle for HA\n\nThis module is used by tripleo-heat-templates to configure and deploy\nKolla-based cinder-backup containers managed by pacemaker.\n\nWe use short-lived containers that call pcs via puppet to create\nthe needed pacemaker resources, properties and constraints.\n\nCo-Authored-By: Michele Baldesari <michele@acksyn.org>\nPartial-Bug: #1668920\n\nChange-Id: If53495ff75d4832cc6be80dc0dc9bd540ab6583b\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove limits for redis in /etc/security/limits.d\n\nNow that puppet-redis supports ulimit for cluster managed redis (via\nhttps://github.com/arioch/puppet-redis/pull/192), we need to remove the\nfile snippet as otherwise we will get a duplicate resource error.\n\nWe will need to create a THT change that at the very least sets the\nredis::managed_by_cluster_manager key to true so that\n/etc/security/limits.d/redis.conf gets created.\nWe also add code to not break backwards compatibility with the old hiera\nkey.\n\nChange-Id: I4ffccfe3e3ba862d445476c14c8f2cb267fa108d\nPartial-Bug: #1688464\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove todo comment\n\nWe can remove the sprintf todo comment (Already fixed).\n\nChange-Id: I407cbf015ccd23a28ee01a669d397479277b4fd3\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add additional tuning options for mariadb/galera\n\nThis introduces additional mariadb tuning options, namely:\n\n- innodb_log_file_size:\n\n  Configure the size in bytes of each log file in a log group.\n  Generally, the combined size of the log files should be large enough\n  that the server can smooth out peaks and troughs in workload activity,\n  which often means that there is enough redo log space to handle more\n  than an hour of write activity.\n  The larger the value, the less checkpoint flush activity is required\n  in the buffer pool, saving disk I/O.\n\n- innodb_flush_method\n\n  Defines the method used to flush data to InnoDB data files and log files,\n  which can affect I/O throughput. If innodb_flush_method is set to NULL\n  on a Unix-like system, the fsync option is used by default.\n\n  The innodb_flush_method options for Unix-like systems include:\n\n  - fsync: InnoDB uses the fsync() system call to flush the data and log files.\n  - O_DSYNC: InnoDB uses O_SYNC to open and flush the log files,\n    and fsync() to flush the data files.\n  - littlesync: currently unsupported. Use at your own risk.\n  - nosync: currently unsupported. Use at your own risk.\n  - O_DIRECT: InnoDB uses O_DIRECT to open the data files,\n    and uses fsync() to flush both the data and log files.\n\n- table_open_cache\n\n  The number of open tables for all threads. Increasing this value\n  increases the number of file descriptors that mysqld requires.\n  You can check whether you need to increase the table cache by checking the\n  Opened_tables status variable. If the value of Opened_tables is large\n  and you do not use FLUSH TABLES often, then you should increase the value of\n  the table_open_cache variable.\n\ndefault value for all three is 'undef'.\n\nChange-Id: Idcb1c5b4b7556ed9e26319305f3b6b0d00369ef8\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Do not create fs and server side key from manila\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Add haproxy prometheus/alertmanager endpoint for Ceph Dashboard\n\nThis change adds the prometheus and alertmanager endpoints which\nare on the same grafana network and allow us to just use a single\nvip to access the prometheus and alertmanager instances from the\nceph dashboard when enabled.\nWe already did it for grafana [1] and we would like to do the same\nfor prometheus and alertmanager.\n\n[1] https://github.com/ceph/ceph-ansible/blob/master/roles/ceph-dashboard/tasks/configure_dashboard.yml#L192\n\nChange-Id: I0dbcde302a3abdfccc3dd996b1c238e25064dd12\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Adds missing Neutron TLS certificate/key generation\n\nNeutron agents need key/certificate in order to communicate with OVS\nusing SSL.\n\nPartial-Bug: 1746762\n\nChange-Id: I4bbaf00f0776cab0be34d814a541fb2fd1e64326\nSigned-off-by: Tim Rozet <trozet@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Replace hard-coded haproxy/keepalived coupling\n\nWe have a variable in hiera which tells us if the keepalived\nservice is enabled, so use it here.  Without this any deployment\ndisabling OS::TripleO::Services::Keepalived will fail.\n\nChange-Id: I90faf51881bd05920067c1e1d82baf5d7586af23\nCloses-Bug: #1642677\n",
        "issue_summary": ""
    },
    {
        "commit_message": "cinder: move glance params into common\n\nglance params are also used by cinder-volume. This patch aims to use\ncinder::glance in common roles for cinder, so we can split cinder api\nand cinder volume.\n\nDepends-On: Id81c029318016068481dd614ed62cc4bfaf0f3e8\nChange-Id: I9703efb38c2a3166c7f21c5c1b942f33abb9e76c\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Create memcache_servers list in swift proxy profile\n\nInstead of mangling this list in t-h-t, generate the list derived\nfrom memcached_node_ips, which is now always set when memcached\nis deployed, regardless of the role.\n\nNote the port default is hard-coded as this is already hard-coded\n(in two places) in t-h-t, but we can override it if this changes\nin future.\n\nWe need this to remove the swift specific stuff out of overcloud.yaml\nto enable custom-roles.\n\nChange-Id: Ic8872e5e51732874ca5b93bff5efd3e7ed75bc31\nPartially-Implements: blueprint custom-roles\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Fix tripleo::haproxy::stats to be more correct and flexible\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Add registry_mirror to base::docker profile\n\nThis patch adds a new registry_mirror option to help\nconfigure /etc/docker/daemon.json so that we can make use\nof HTTP docker mirrors within upstream TripleO CI (infra).\n\nChange-Id: I4b966e9b9b174ca5a6f57974185e0149ea12f232\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove default value for cinder RBD backend_host\n\nRemove \"hostgroup\" as the fallback string for the default\ntripleo::profile::base::cinder::volume::rbd::cinder_rbd_backend_host value.\nThe cinder_rbd_backend_host parameter is only relevant for HA deployments,\nwhen it's value is set by the pacemaker version of the cinder-volume.yaml\nTripleO heat template. For non-HA deployments, the parameter should be\nundefined.\n\nCloses-Bug: #1796359\nChange-Id: I35e5b11bb57a7dd8a724102480b3e9ec56df0626\n",
        "issue_summary": ""
    },
    {
        "commit_message": "HAproxy should get full response from ironic-inspector\n\nIronic-inspector spams the logs with errors if we don't get full\nresponse. If ironic-inspector answers something with 200 it should\nbe fine.\n\nChange-Id: I464cdd139fb93ce7cd19fc5ac5960f302ae1a9f4\nCloses-Bug: #1691971\nResolves: rhbz#1477663\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Use include for base neutron profile\n\nSimplify the base neutron profile so that we always include\nthe neutron and neutron::config classes at step 3. In doing so\nwe can now simplify the pacemaker version to use a simple include\nwhich will avoid duplicate class errors.\n\nChange-Id: I95b9188607ab6c599ad4cde6faa1deb081618f3e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add puppet support to deploy neutron-api with httpd\n\nGenerate the config files to deploy neutron-api on httpd.\n\nChange-Id: I302558e718ce35c4d632137c5efa08f502939b40\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Decouple swift-proxy from ceilometer packages\n\nThis patch updates the swift proxy so that it only depends\non ceilometer if the ceilometer_api_enabled all-nodes-data hiera\nsetting has been set.\n\nAlso removes a parameter dependency where the\ntripleo::profile::base::swift::proxy class was referencing\na puppet-ceilometer value from hiera (which can\nalso cause ceilometer dependencies).\n\nDepends-On: Ief5399d7ea4d26e96ce54903a69d660fa4fe3ce9\n\nChange-Id: I8d9f69f5e9160543b372bd9886800f16f625fdc6\nCloses-bug: #1648736\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Remove manage_service and enabled from TripleO manifests\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Improve failed mysql node removal time in HA deploys.\n\nIn HA deployments, we now check mysql nodes every 1s and removed them\nimmediately if they are failed. Previously we would check every 2s and\nallow them to fail 5 checks before being removed, producing errors from\nother OpenStack services for 10s, which causes confusion and delay for\noperators.\nAdditionally, these check options are now also a class parameter so can\nbe overridden by operators.\n\nCloses-Bug: #1639189\n\nChange-Id: I0b915f790ae5a4b018a212d3aa83cca507be05e9\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add parameters for multipath connection in cinder store\n\nAdding following 2 parameters for cinder store when multipath usage is\nenabled in volume connection,\n\n - cinder_enforce_multipath\n - cinder_use_multipath\n\nChange-Id: Ic2c86e6a890b58ca7703ea3a3147c8d4ecf13953\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Redis required for designate central service\n\nDesignate central uses redis to improve task coordination under load.\n\nChange-Id: Icc23208945304913cdaeede703c486064646379a\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Drop the neutron dnsmasq config file options\n\nDrop this because Mitaka neutron no longer requires\nconfiguration of the tenant MTU.\n\nDepends-On: I540ba5dc69d0506f71b59746efcce94c73f9317f\nChange-Id: I2afeb94e676aed952063abfcadee67bcc50eded9\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Firewall: NOT persist ephemetal ironic-inspector rules\n\nWhen Ironic Inspector is configured to use the iptables\npxe_filter driver it uses ephemeral firewall rules. This\nchange ensures that these rules are not persisted.\n\nIronic Inspector iptables filter driver does not set\ncomments on it's rules. This patch use the string:\n'-m comment --comment' to ensure rules created by\npuppet-tripleo firewall is not accidentally removed from\nthe persisted firewall rules.\n\nChange-Id: Ic90804db8dd74fce78169d9857a150d5ebf40cbb\nRelated-Bug: #1765700\n",
        "issue_summary": ""
    },
    {
        "commit_message": "ironic-inspector: Include independent classes for ironic/swift options\n\nDepends-on: https://review.opendev.org/719454\nChange-Id: I45692585f3377f9223d1149e73ec388b81cb9e8e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Ensure hiera step value is an integer\n\nThe step is typically set with the hieradata setting an integer value:\n\n  {\"step\": 1}\n\nHowever it would be useful for the value to be a string so that\nsubstitutions are possible, for example:\n\n  {\"step\": \"%{::step}\"}\n\nThis change ensures the step parameter defaults to an integer by\ncalling Integer(hiera('step'))\n\nThis change was made by manually removing the undef defaults from\nfluentd.pp, uchiwa.pp, and sensu.pp then bulk updating with:\n\n    find ./ -type f -print0 |xargs -0 sed -i \"s/= hiera('step')/= Integer(hiera('step'))/\"\n\nChange-Id: I8a47ca53a7dea8391103abcb8960a97036a6f5b3\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Check for neutron_plugin_ml2_ansible service when including plugin\n\nWe would not want ansible ml2 plugin configured for roles unless\nneutron_plugin_ml2_ansible service is enabled. Check services_names\nbefore including neutron puppet manifest.\n\nChange-Id: Ia36c62a6b7c234dd31912a8289bb1b1e4b4698fb\nCloses-Bug: #1782537\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Glance: Include the required classes for image cache\n\nThis change is a prep work to migrate class composition for image cache\nfeature from tripleo-heat-templates to puppet-tripleo, so that we can\ngather all logics to compose required puppet classes in puppet-tripleo.\n\nChange-Id: I843d72542154a2e278ba257f6b61ed573c7c3860\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Revert \"Replace hiera('service_names') by hiera('enabled_services')\"\n\nThis reverts commit 7970733cf1483fab466f205e57c9ea224f051c94.\n\nDepends-On: I7339b8791817bdaffa65c928d424796114efdf57\nChange-Id: I380f631de03eb3baddac80661e4c7632180b1d64\n\nCloses-Bug: #1855138\n",
        "issue_summary": ""
    },
    {
        "commit_message": "nova: Remove profile::base::nova::placement\n\nDepends-On: https://review.openstack.org/#/c/635141/\nChange-Id: I523dcbe4559fce067d815a3972df3a909ed87b2e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "add support for collectd\n\nThis is the glue between the collectd composable service in\ntripleo-heat-templates and the puppet-collectd module.\n\nChange-Id: I7e899e3af870b04dcd45503bd322278997fa53d0\n",
        "issue_summary": ""
    },
    {
        "commit_message": "use parameter to lookup the step instead of hiera again\n\nIn some profiles, we were looking up the $step by using Hiera\nagain, while we already do it in the parameter definition.\nWhen using this class outside THT, it will fail but with this patch, we\ncould use just set the $step parameter and the rest of the manifest will\nwork.\n\nChange-Id: I7082f47204fb4e529b164e4c4f1032e7bdd88f02\n",
        "issue_summary": ""
    },
    {
        "commit_message": "MidoNet services manifests\n\nProvide TripleO overcloud manifests to deploy MidoNet and the cluster\nservices that needs to run.\n\nChange-Id: I24f852e74fc4652d4609e1a71897e813448055fe\n",
        "issue_summary": ""
    },
    {
        "commit_message": "keystone: support _member_ role management\n\nAllow to let puppet-keystone managing _member_ role which is required\nby Horizon. Can be enabled with keystone_enable_member parameter (disabled\nby default.)\n\nA patch in tripleo-heat-templates will activate this boolean to true so\nHorizon deployments will trigger the role creation.\n\nChange-Id: I5272f1fc199772043db48d29b0ea99a8bfff4ed5\nRelated-Bug: #1741066\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add certmonger-etcd-refresh.sh script\n\nAdd a script that refreshes the etcd cert and key files in all\ncontainers that reference them. This includes etcd itself, plus any\ncinder services that access etcd.\n\nChange-Id: I0ea26253355a57b3721bfa6ceef3972eaabc5b1d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Add ceph dashboard frontend endpoint and tls-e integration\"",
        "issue_summary": ""
    },
    {
        "commit_message": "xinetd: bind only on mysql network\n\nBy default galera-monitor xinetd is binding on all the interfaces.\nThat means that the port 9200 is exposed on the external network.\nBecause haproxy is using the same network for the backend and the\ncheck we can reuse it for the xinetd binding.\n\nChange-Id: If1a50515593e81f46d67309bdeecbe84c1d0ebe4\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable HAProxy forwardfor option for Horizon.\n\nHorizon's backends (httpd) see IP address of the haproxy in the logs instead\nof the client address.\nAdding forwardfor option allows to add the client address to the\nX-Forwarded-For HTTP header and can be replace in the logs by configured the\nbackend servers with this header.\n\nChange-Id: I54f0f5549d64768dacca71539c71a28cc99d9d95\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Update ceilometer collector ipv6 handling\n\nThe normalize_ip_for_uri handles ipv6 bracketing correctly. Rather\nthan continue to do it manually, this change updates the ceilometer\ncollector profile to leverage the normalize_ip_for_uri function to\nproperly escape ipv6 addresses.\n\nChange-Id: Ifaf6568785235db55f8dc593d83e534216413d31\nCloses-Bug: #1629380\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Adding wrapper script for haproxy in OVN metadata agent\n\nChange-Id: Ieb5618ec96539bb07d9d01b5c6d27da962f65156\nRelated-Bug: #1749209\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add base class for neutron Mellanox agent\n\nChange-Id: Ibd817a4a34ee2944ee86b4a47e7621637d258da3\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fixes an issue when rebooting with an NFS mount.\n\n_netdev mount option helps fix a timing issue when rebooting.\nThis looks like we're hitting an issue where we're using\nnetwork instead of NetworkManager and that systemd doesn't\nunmount the NFS shares before stopping network.\n\nChange-Id: I5d2c89db29ef75aaf371b3c9dd561587d7b6f87b\nCloses-Bug: #1697752\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Ensure iscsi_ip_address is in brackets if IPv6\n\nChange-Id: I787becce343b38e6c27c9a1b937b47c0aefb034d\nRelated-Bug: 1618930\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Ensure Barbican required roles are created by Keystone\n\nPresently there are several roles: audit, observer, and key-manger:\nservice-admin that are used in Barbican policy but not generated\nby Keystone during a TripleO Deployment.\n\nThis change updates Keystone's manifest to include creation of these\nmissing roles then the Barbican API is included as part of a depl-\noyment.\n\nChange-Id: I6d5d0a37abeb54600bb70e22fabde9479320ab81\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Add support to configure pcsd bind address\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove file ACL settings for ceph keyring\n\n... because these resources are no longer used since all services were\ncontainerized.\n\nWe already removed the same logic for Gnocchi only by [1].\n\n[1] 6aa468113712415711937f20a6652ab60db14420\n\nChange-Id: I2a32a067e3586e14c461948bd677b75365272cff\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Composable Role for Neutron LBaaS\n\nAdd composable service interface for Neutron LBaaSv2 service.\n\nChange-Id: Ieeb21fafd340fdfbaddbe7633946fe0f05c640c9\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove unused docker_distribution template\n\nDocker profile was remove, this file is a leftover.\n\nChange-Id: I7bfc011e8ac4f93cf569340aa42e79a45ed6c199\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Configure fencing devices\n\nAdds a class to configure fence devices and a helper function which\nhelps to select the devices for configuration on appropriate nodes.\n\nDepends on patches outside OpenStack's Gerrit:\nhttps://github.com/redhat-openstack/puppet-pacemaker/pull/50\nhttps://github.com/redhat-openstack/puppet-pacemaker/pull/52\n\nChange-Id: I819fc8c126ec47cd207c59b3dcf92ff699649c5a\n",
        "issue_summary": ""
    },
    {
        "commit_message": "nova/api: purge archive_deleted_rows via cron\n\nThe code was in THT before but now in the Nova API profile.\n\nChange-Id: I7035f7998c11dc5508dae8c1a750b93c2944b2d4\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add OVN to enabled provider drivers in Octavia\n\nAdd OVN driver to Octavia provider driver,\nwhen OVN is in neutron mechanism driver\n\nChange-Id: I578360029d044255fa85b0fdf29ea1ea0e7a47e4\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Give horizon's stanza in haproxy a per-server cookie\n\nCurrently our haproxy.cfg stanza for horizon looks like the following:\nserver overcloud-controller-0.internalapi.localdomain 172.17.0.22:80 check cookie overcloud-controller-0 fall 5 inter 2000 rise 2\nserver overcloud-controller-1.internalapi.localdomain 172.17.0.25:80 check cookie overcloud-controller-0 fall 5 inter 2000 rise 2\nserver overcloud-controller-2.internalapi.localdomain 172.17.0.12:80 check cookie overcloud-controller-0 fall 5 inter 2000 rise 2\n\nWe need to make sure that the cookie is set the same as the server:\nserver overcloud-controller-0.internalapi.localdomain 172.17.0.22:80 check cookie overcloud-controller-0.internalapi.localdomain fall 5 inter 2000 rise 2\nserver overcloud-controller-1.internalapi.localdomain 172.17.0.25:80 check cookie overcloud-controller-1.internalapi.localdomain fall 5 inter 2000 rise 2\nserver overcloud-controller-2.internalapi.localdomain 172.17.0.12:80 check cookie overcloud-controller-2.internalapi.localdomain fall 5 inter 2000 rise 2\n\nThe problem here is that the cookie is being inserted into the response\nby haproxy so that we have session persistence. When logging to horizon\nwe want the session to be persistent and go to the same backend server.\nWhen haproxy sees a match for the cookie, it does just that. The cookie\nvalue will should match the server name. Prior to this fix\neach server was matching on the same cookie ($::hostname) which is not\ncorrect.\n\nTested by connecting to horizon's VIP and shutting off horizon on each\ncontroller node one at the time. Observed that after each stop, the\ncorrect cookie from the remaining servers was sent to the browser.\n\nCloses-Bug: #1738453\nChange-Id: Ieb9cf3c6a8373df288a73ff2dacfc9d0b09e675a\n",
        "issue_summary": ""
    },
    {
        "commit_message": "New composable service: Sensu\n\nDepends-On: Ic095cd1248cc2ffcef363893b20ff57f7befd6fc\nChange-Id: Ia09d14fa9db07595d2e904bd9918e5645ea590c7\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Etcd: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: I436591ced7e8faa0c381c53722070de42d4bc117\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Include gnocchi::db explicitly\n\nThe inclusion of gnocchi::db will be removed from gnocchi when we\nremove deprecated database_connection parameter[1], thus we should\ninclude the class explicitly.\n\n[1] https://review.opendev.org/#/c/748928/\n\nChange-Id: I2f52473edb78b5359eeb5c734b4d9691f86ccd26\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add passing of X-Forwarded-Proto to Glance API endpoint\n\nGlance supports the http_proxy_to_wsgi middlware, and it was recently\nenabled in the overcloud [1]. However, for it to work properly, we\nneed to add the X-Forwarded-Proto header which was missing from the\nHAProxy configuration.\n\n[1] I4a8f7fc079ca93c50aa0ef7b0548dc64f6c5cfa0\n\nChange-Id: I82e2db1145b0476cec27676fdfbb97e86cbd8182\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove bind and bind pool generation for designate from puppet\n\nThis patch removes configuring the bind backend and desginate bind pool\nconfiguration from puppet as it is now generated in ansible.\n\nDepends-On: Ib89bcafe9f65431aee5756a32b2a82adc3d384dc\nChange-Id: Ia42c29d5b082120f5a984cffd97325faf387ca8b\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add zaqar API endpoint in HAProxy\n\nThis will enable us to terminate SSL connections for Zaqar's API.\n\nChange-Id: If75e2947a2dca95b3e53e1b1ffd93f36fc7fb1cc\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add incoming storage driver param\n\nWe need a way to not enable redis incoming driver in tls\ncase. Lets expose a param to override the default\nbehavior.\n\nDepends-On: I5b71099d2e1c25b86ceed430f15ee28ef0f37f5c\n\nChange-Id: I63ba2735912ee5f8f5880bba6e4320f2eaa51f92\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Increase global maxconn to 10000 and remove per-instance limit\n\nThe per-instance limit to 150 can easily be reached for the\ndatabase when OpenStack services are running on hosts with many\nCPUs. The global maxconn is increased as per astapor. See [1].\n\n1. https://bugzilla.redhat.com/show_bug.cgi?id=1218322\n\nChange-Id: Ia9258372ca4f707929f11097193a91c138069725\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Only request certs in step 1\n\nThe certmonger-user service used to run in every step. This limits it to\nonly step 1.\n\nChange-Id: I572d53bb6977e16d1deffe0127e17e48a8cda29c\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix wrong comment about heat_enable_db_purge\n\nTrivialFix\n\nChange-Id: Id6d04039ab8b6ed839cd6f8e453c3d93fc7dc978\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add heat::cache to heat profile\n\n... so our operators can override oslo cache options in heat.conf.\n\nChange-Id: I1cbe94928540af48134ce878ca7ad404b92de170\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable TLS in the internal network for Panko API\n\nThis optionally enables TLS for Panko API in the internal network.\nIf internal TLS is enabled, each node that is serving the Panko API\nservice will use certmonger to request its certificate.\n\nbp tls-via-certmonger\n\nChange-Id: Ie9be7ce19601435b1b83b4ba58d9c7e8d53f23ba\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Include designate::quota\n\nThis will be required for users to configure default quotas for\nDesignate at deploy time.\n\nChange-Id: Ie201a2daac3e9138ba7f5e0f5655d3c52faa6584\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Include nova::compute::image_cache class explicitly\n\nThe parameters for image cache feature in the nova::compute::libvirt\nclass has been deprecated and will be replaced by the new class,\nnova::compute::image_cache.\n\nThis patch makes sure that the new class is included before the\nautomatical class inclusion will be removed in puppet-nova.\n\nDepends-on: https://review.opendev.org/#/c/757079/\nChange-Id: I0a8927e1ae292e4c89f85b5b394f69ea2ee593e8\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Only db-sync sahara is included in the bootstrapnode\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Refactor HAproxy and VIP creation.\n\nIn tripleo heat template, overcloud_controller_pacemaker.pp has a lot of\nduplicate code to define haproxy and vip creation.  This is an attempt\nto refactor this.\n\nChange-Id: I4cc6711911c1bfa1bc6063979e2b2a7ab5b8d37b\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Proxy API endpoints that UI uses\n\nAdd support to enable the UI to use paths via mod_proxy to access API\nendpoints instead of connecting to each endpoint directly on a port\nother than where the UI is served from.  This is necessary to prevent\ncertificate acceptance errors from non-Chrome browsers which take\nexception to connections made to other ports on the same hostname, using\none SSL certificate.\n\nThis change extends the UI's Apache configuration to create one\nmod_proxy location for each of the API endpoints that UI calls upon.\nThese mod_proxy (using ProxyPass, ProxyPassReverse) endpoints are\nconfigured using new heira variables provided in the dependent commit.\n\nAdditionally, this change modifies the default UI configuration file to\ninclude endpoint URLs formatted to use the new endpoint paths that are\ncreated.\n\nRemoved puppet variables which were previously used to generate the\ncontents of the tripleo_ui_config.js template, since they are no longer\nused to generate this file, replaced with the new endpoint URLs\nformatted to use the new endpoint paths that are created.\n\nChange-Id: I55e375ad462fa98e181277ec0bd88658e620e8ad\nImplements: blueprint proxy-undercloud-api-services\nDepends-On: Ib20f4b0891563ae90ec80675635a64c39bd2fdb7\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Call VF configuration from udev rules\n\nWhen a physical function that was allocated to a guest is released back\nthe system, it is not automatically brought \"up\" and the VF\nconfiguration is not restored. This patch creates a file containing some\nudev rules to force the VF configuration.\n\nNote: we may find that the ifup-local script is no longer required but\nthis will require further testing.\n\nChange-Id: Ie6e78730aa0a748b3b5100ab7c7bc007d8ab176d\nPartial-Bug: #1639901\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add support for rabbit hosts to mistral\n\nThe mistral puppet did not have support for configuring the rabbit hosts.\nThis change adds that support.\n\nChange-Id: I6cb2cbf4a2abf494668d24b8c36b0d525643f0af\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add panko expirer to configure cron tasks\n\nPartial-Bug: #1746514\n\nDepends-On:  I23359239008105cd77a599d2c08c067f132099b7\n\nChange-Id: Ia3df0d89459cda6cb648cd6dc97bca3492ca04e0\n",
        "issue_summary": ""
    },
    {
        "commit_message": "nova: move placement credentials config at step 3\n\nnova placement credentials in nova.conf need to be configured at step 3\nso Nova services can use them as soon as they start.\n\nChange-Id: I0abdd305b7e6c8d83f23e25b3872e98eb56dd299\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove stack_update check in rabbit manifest\n\nSince we have ephemeral heat the stack_update hiera key is always\nset to CREATE anyway so it will never work.\n\nWe can drop it because we have the puppet collectors running that\nafter rabbitmq_ready so rabbitmq is up in the HA case.\n\nFor the non-HA case (rabbitmq on the undercloud) we run rabbitmq\nvia docker_config at step_1 and then enforce the rabbitmq_user class\nduring container_puppet_tasks (rabbitmq_init_tasks) during step 2,\nso we're guaranteed that rabbitmq is up.\n\nChange-Id: If3d16b8510175ed9fae2813fbdc7248402639e78\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix lint issues to upgrade to puppet-lint 2.3\n\n2017-07-20 15:09:38.571317 | manifests/glance/nfs_mount.pp:65:WARNING: arrow should be on the right operand's line\n2017-07-20 15:09:38.571430 | manifests/pacemaker/haproxy_with_vip.pp:107:WARNING: arrow should be on the right operand's line\n2017-07-20 15:09:38.571473 | manifests/pacemaker/haproxy_with_vip.pp:108:WARNING: arrow should be on the right operand's line\n2017-07-20 15:09:38.571511 | manifests/pacemaker/haproxy_with_vip.pp:109:WARNING: arrow should be on the right operand's line\n2017-07-20 15:09:38.571551 | manifests/pacemaker/resource_restart_flag.pp:44:WARNING: arrow should be on the right operand's line\n2017-07-20 15:09:38.571590 | manifests/profile/base/cinder/volume/nfs.pp:72:WARNING: arrow should be on the right operand's line\n2017-07-20 15:09:38.571625 | manifests/profile/base/docker.pp:188:WARNING: arrow should be on the right operand's line\n2017-07-20 15:09:38.571661 | manifests/profile/base/docker.pp:210:WARNING: arrow should be on the right operand's line\n2017-07-20 15:09:38.571699 | manifests/profile/base/logging/fluentd.pp:79:WARNING: arrow should be on the right operand's line\n2017-07-20 15:09:38.571735 | manifests/profile/base/pacemaker.pp:107:WARNING: arrow should be on the right operand's line\n2017-07-20 15:09:38.571773 | manifests/profile/base/swift/ringbuilder.pp:97:WARNING: arrow should be on the right operand's line\n2017-07-20 15:09:38.571811 | manifests/profile/base/swift/ringbuilder.pp:125:WARNING: arrow should be on the right operand's line\n2017-07-20 15:09:38.571850 | manifests/profile/base/swift/ringbuilder.pp:130:WARNING: arrow should be on the right operand's line\n2017-07-20 15:09:38.571889 | manifests/profile/pacemaker/ceph/rbdmirror.pp:79:WARNING: arrow should be on the right operand's line\n2017-07-20 15:09:38.571927 | manifests/profile/pacemaker/cinder/backup.pp:66:WARNING: arrow should be on the right operand's line\n2017-07-20 15:09:38.571965 | manifests/profile/pacemaker/ovn_northd.pp:96:WARNING: arrow should be on the right operand's line\n\nChange-Id: I9393c5e04310cf84695531df9bb16f33e7e15abb\n",
        "issue_summary": ""
    },
    {
        "commit_message": "certmonger: improve orchestration for puppet4\n\nThe extract-and-trust-ca actually needs /var/lib/certmonger/local/creds\nfile to be created, which is created when certmonger is started, not\nwhen package is installed.\nThis patch change the exec dependency to run it only when service is\nstarted.\nAlso, since the service create the file, let's relax the Exec a little\nbit by allowing to retry 5 times after 1s break in case the Exec fails,\nfor example if service takes more than 5 seconds to create this file.\nIt will avoid us some race condition in the deployment.\n\nChange-Id: I4cf4a04bddb8f042e8e8f7e1d1b69f846c533e3b\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add designate coordination backend url\n\nDesignate producers will create duplicates if no coordination is\nspecified.\n\nChange-Id: I46c7242d9b275861263af700221e5bdd0b9d8a28\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add tests for tripleo::certmonger::rabbitmq class\n\nChange-Id: I1668b749779bf812d8f55b695dd138cde7eb09d6\n",
        "issue_summary": ""
    },
    {
        "commit_message": "remove ssh from tripleo::firewall::pre\n\nincluding global ssh access in tripleo::firewall::pre makes it\ndifficult for the operator to control ssh access to overcloud hosts.\nThis removes the hardcoded rule and the accompanying change in t-h-t\nconfigures the default firewall rules via hiera config_settings.\n\nDepends-On: I89cff59947dda3f51482486c41a3d67c4aa36a3e\nChange-Id: I14b540e6564c5b7c5d54b4f1fd5368b000744135\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Metrics/QDR: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: I11ff84f94db06dfd84ecd80ebb09c2a2076758eb\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix the default values for ca_file and cert_file\n\nBefore this change, the values were set to haproxy defaults,\nhowever, these should not be used. The keystone endpoint\nshould be verified by the system's default CA certificates,\nwhich are mounted into the neutron_api container.\n\nChange-Id: I35b39a1bc0e1793116831485180a49da5e0a019a\nCloses-Bug: #1883741\nResolves: rhbz#1844592\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Revert \"Add replication_probe_interval for ovsdbs\"\n\nit broke OVB in master\nCloses-Bug: #1866031\nThis reverts commit 5b5291423a04e324a3075caaf07620e7b0a14ac0.\nChange-Id: Id4ec674ecd18bed02034714c2da103933b4e0b42\n",
        "issue_summary": ""
    },
    {
        "commit_message": "UI profile for tripleo\n\nThe new tripleo::profile::base::ui profile installs the\nopenstack-tripleo-ui RPM package and setup CORS for required services.\n\nChange-Id: Ib9d8643da3f51171495fcb8b64d1a7ca86cd66bc\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Adds a profile for the Ceph MDS service\n\nThis change adds a profile to deploy the Ceph MDS service and some\nbasic unit tests for it.\n\nDepends-On: I558b43deaa9b243c54f3d7ae945f11dd4925eb5d\nChange-Id: Iaecc3ff7acb851776c5057c42a5a513a70425d2c\nPartial-Bug: #1644784\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Re-organizes Contrail services to the correct roles\n\nIn current setup some Contrail services belong to the wrong roles.\nThe Contrail control plane can be impacted if the Analytics database has problems.\nFurthermore contrail tripleo puppet modules are being refactored to conform to the\nnew interface of the puppet-contrail modules.\n\nCloses-Bug: 1659560\n\nChange-Id: Id0dd35b95c5fe9d0fcc1e16c4b7d6cc601f10818\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove unused manila_share_nodes_count variable\n\nThe manila_share_nodes_count variable is defined, but not used\nanywhere. In some services this is used for the replica count,\nbut manila (similar to cinder) has a hard-coded replica count\nof 1 and therefore this variable is not needed.\n\nChange-Id: I6398871a0a8c235e626748206dda617dadb06895\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Move heat domain/user creation into keystone profile\n\nThis needs to happen on the node running keystone, or things break\nwhen you try to deploy e.g the heat_engine service on a non Controller\nrole.  We check the enabled flag for heat engine so this only happens\nif the heat_engine service is running on some (any) role.\n\nPartial-Bug: #1631130\nChange-Id: Ib088a572b384b479f51d56555734d78ab840a1f3\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix deprecated eqlx parameters\n\nThe eqlx_use_chap, eqlx_chap_login and  eqlx_chap_password were\npreviously deprecated and are scheduled to be removed in Pike. This\nchange updates these parameters to use the replacement params.\n\nSee I295d8388ba17dd60e83995e7c82f64f02a3c4258 for more details.\n\nChange-Id: I0f229ed2e7bb65d9da81c5caa69dbe1a4aded814\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Replace bootstrap_nodeid with SERVICE_short_bootstrap_node_name\n\nThis solves the problem that bootstrap_nodeid, which is set to the\nfirst node in each role via t-h-t, can match potentially more than\none node - e.g in the event that a service is deployed such that it\nspans more than one role.\n\nThe SERVICE_short_bootstrap_node_name is automatically generated\nbased on the composable service template service_name, and this\nconsiders all roles where the service is enabled, e.g it should\nonly evaluate true once regardles off the roles where the service\nis enabled.\n\nChange-Id: I48ec4549552910f3cb8db960b0ff10a6c61b4bb9\nPartial-Bug: #1792613\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Only configure libvirt-guests if enabled\n\nIf NovaResumeGuestsStateOnHostBoot is not true, there is no\nreason to configure libvirt-guests.\n\nAlso a customized libvirt-guests systemd unit file is added\nvia [1] which already has the dependencies configured. Therefore\nthere is no need to manage them via puppet again.\n\nRelated-Bug: #1849264\nDepends-On: https://review.opendev.org/690016\n\n[1] https://github.com/openstack/tripleo-heat-templates/blob/master/deployment/nova/nova-compute-container-puppet.yaml#L777\n\nChange-Id: Ic127937ad83eebb47e34c5f36c826f8dcf1048a9\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add Basic Authentication support for HAProxy\n\nIn order to get a proper support for authenticated endpoints, this patch\ncreates a new definition (tripleo::haproxy::userlist) and exploit it in\nthe dynamic endpoint (tripleo::haproxy::service_endpoints) as well as\nstandard tripleo::haproxy::endpoint.\n\nIt also detected a small issue with the \"underscorization\" of the\nservice name, the missing 'G' flag for regsubst, that preventend all\ndashes to be replaced by underscores.\n\nChange-Id: Ie7471155d1ef3f6adc177a468b81ac410bbfb9c0\nCloses-Bug: 1736132\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Introduces puppet module for `/etc/login.defs`\n\nEnables management of shadow password directives in login.defs\n\nBy allowing operators to set values in login.defs, they are able\nto improve password security for newly created system accounts.\n\nThis change will in turn allow operators to adhere with security\nhardening frameworks, such as STIG DISA & CIS Security Benchmarks.\n\nbp login-defs\n\nChange-Id: Iec8c032adb44593da3770d3c6bb5a4655e463637\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Enable haproxy statistics unix socket\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Add manila-netapp backend to manila class and tidy up generic\n\nThis adds support for the manila-netapp backend. The backend\nspecific config is set tht side. So this change also\ntidies up the manila generic config, which is unnecessarily\nbeing duplicated here\n( see https://review.openstack.org/#/c/354019/ )\n\nChange-Id: Ic6f8e8d27ca20b9badddea5d16550aa18bff8418\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Move gnocchi wsgi configuration to step 3\n\nWe configure apache in step3 so we need to configure the gnocchi api in\nstep 3 as well to prevent unnecessary service restarts during updates.\n\nChange-Id: I30010c9cf0b0c23fde5d00b67472979d519a15be\nRelated-Bug: #1664418\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fixup tests for puppet 6\n\nThe tests were failing under puppet 6 due to some missing hieradata.\nThis change pulls in the now seperated selinux and augeas core modules\nand adds the missing bootstrap node hieradata.\nIt also update data structure testing for haproxy testing.\n\nDepends-On: https://review.opendev.org/#/c/655273/\nChange-Id: Id59f3759652d8c1efea46918a9dc5c84fac361e3\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix bind mounts for cinder-{backup,volume}\n\nThe container now expects to find configuration at these locations.\n\nChange-Id: Iea84a291414e515d8c72a60646188e5b37354a38\nRelated-Bug: #1729430\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Add the ml2_odl section when using opendalight_v2\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Ensure we configure ssl.conf\n\nEvery time we call apache module regardless of using SSL we have to\nconfigure mod_ssl from puppet-apache or we'll hit issue during package\nupdate. File /etc/httpd/conf.d/ssl.conf from mod_ssl package contains\nListen 443 while apache::mod::ssl just configures SSL bits but does not\nadd Listen. If the apache::mod::ssl is not included the ssl.conf file is\nremoved and recreated during mod_ssl package update. This causes\nconflict on port 443.\n\nChange-Id: Ic5a0719f67d3795a9edca25284d1cf6f088073e8\nRelated-Bug: 1682448\nResolves: rhbz#1441977\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Update cephx keys with ACLs for openstack services.\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Add a function to write package names\n\nThis function writes out package names that have been\ndefined in a given puppet catalog.\n\nIn order to work this should be place last (or very late)\nin a manifest to ensure it picks up packages.\n\nChange-Id: Ie21b5bf7df71337da02ea43915dc4e70d3052bb7\n",
        "issue_summary": ""
    },
    {
        "commit_message": "nova/api: include ::nova::network::neutron\n\nIt was included in THT before, but it's now in nova/api role.\nIt will also be added in nova/compute role later.\n\nChange-Id: I6b5857d3d4740c0bf3f748719f30a05f1c62cb59\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add generic manifest for loadbalancer endpoints\n\nIn order to reduce repeated code in the loadbalancer manifest, the\nrepeated parts were moved into one manifest that contains the\nendpoint resource.\n\nChange-Id: Ib72abe9de7ab073dcbd780298385b0c519f363aa\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"loadbalancer: add Gnocchi API support\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable TLS in the internal network for gnocchi\n\nThis optionally enables TLS for gnocchi in the internal network.\nIf internal TLS is enabled, each node that is serving the gnocchi\nservice will use certmonger to request its certificate.\n\nbp tls-via-certmonger\n\nChange-Id: Ie983933e062ac6a7f0af4d88b32634e6ce17838b\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Manila: Use defaults defined in puppet-manila\n\nCurrently we override default values for backend manifests by undef\nbut because of this we already need to define each parameters otherwise\npuppet-manila raises validation failure or set empty values.\nThis change removes that redundant overrides and make puppet-tripleo\nrely on defaults in puppet-manila (and most of them are\n$::os_service_default which result in defaults in manila itself)\n\nChange-Id: Ia269acfc4b64701a968e186a522fe073a08616f3\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Galera: add support for encrypted SST\n\nWhen internal TLS is enabled, generate a galera config that enable\nencryption of SST rsync traffic.\n\nThe configuration relies on a new sst script wsrep_sst_rsync_tunnel,\nwhich encapsulates rsync traffic in a socat-based encrypted tunnel.\n\nChange-Id: I1d6ee8febb596b3ab9dcde3a85a028ee99b2798c\nDepends-On: Ia857350ac451fc1bda6659d85019962d3a9d5617\nCloses-Bug: #1719885\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Only create veritas rabbitmq users on the bootstrap node\n\nCurrently, when deploying an overcloud with veritas hyperscale, the\nhyperscale rabbitmq user gets created on all rabbit nodes. This is\nproblematic on an HA deployment for two reasons:\nA) rabbitmq already mirrors users\nB) On non bootstrap node this will fail because the rabbit pcmk resource\ncreation happens only on the bootstrap node, which means that when the\nhyperscale rabbitmq include kicks in on non-bootstrap nodes it will try\nto prefetch all rabbitmq users via 'rabbitmqctl -q list_users' and\nfail because there are no guarantees that rabbit is up and running since\nno rabbitmq puppet stuff gets executed there. I.e. on non-bootstrap\nnodes the Exec['rabbitmq-ready] -> Rabbitmq_users<||> won't work.\n\nWhile we're at it we move this rabbitmq user process to step2. rabbitmq\nget started and created at step2 so it makes no sense to invoke user\ncreation before that.\n\nNote that this should be considered a short-term fix only. The proper\nfix should be (if possible) to move the veritas rabbitmq user\nconfiguration in the dedicated veritas service.\n\nCloses-Bug: #1739026\n\nChange-Id: I36950b9cec9f02a0de55292342a3a699df0b3cf1\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Adds TLS support for OpenDaylight\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Add destination parameter to firewall rule\n\nSpecifying a destination cidr is already supported by\npuppetlabs-firewall, we just need to pass through the parameter in\nrule.pp in puppet-tripleo.\n\nThis will allow creating iptables rules that forward network traffic for\na given cidr via puppet-tripleo.\n\nChange-Id: I23582a55cd97248be52f45e14de7e813ff499ff7\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove Panko support\n\n... because Panko support has already been removed from\ntripleo-heat-templates.\n\nDepends-on: https://review.opendev.org/#/c/680493/\nChange-Id: I3ef5c1433691dd31b619e0fdbd5ec433a181ec03\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Replace colon with a dash.\n\nIPv6 addresses have colons\nas separators, in this case\nwe cant name an order with colons.\n\nTo preserve the IPv6 address we\ncan replace it with a dash.\n\nChange-Id: I87a1fb8952081dcb49f64ffff62414df120dccac\nCloses-bug: 1740261\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Qpid dispatch router puppet profile\n\nDepends-On: I4b56417ce8ee7502ad32da578bdc29c46e459bd5\nChange-Id: Idecbbabdd4f06a37ff0cfb34dc23732b1176a608\nAuthor: John Eckersberg <jeckersb@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove manifests for Trove\n\nWe don't support Trove in TripleO now, so these manifests can be\nremoved safely.\n\nChange-Id: Ic668398c706d3a0eb834750453d1b42ce7ab9b16\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Configure virtual IPs for split out networks\n\nThis patch optionally creates new virtual IPs for\nthe storage, storage_mgmt, and internal_api\nnetworks if ip addresses are provided.\n\nAdditionally the HAproxy configuration is updated\nto use hiera lookups to obtain virtual IPs for\nalternate networks. By default the ctlplane\nVIP is still used.\n\nChange-Id: I20483574920a1da689374b0eb1b39b0391c3d243\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Use validate_legacy\n\nThis changes all the puppet 3 validate_* functions\nto use the validate_legacy function.\n\nThe validate_legacy function has been available since\nabout three years but require Puppet >= 4.4.0 and since\nthere is Puppet 4.10.12 as latest we should assume people\nare running a fairly new Puppet 4 version.\n\nThis is the first step to then remove all validate function\ncalls and use proper types for parameter as described in spec [1].\n\n[1] https://review.openstack.org/#/c/568929/\n\nChange-Id: Iee8c082b5e4dcb7b035faa56a2182718947ad495\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove postsave_cmd and restart libvirt on cert files change\n\nQemu certs are note used by libvirt and therefore does not need a restart.\nIn case certs gets renewed, right now qemu processes (instances) need to be\nrestarted. This removes the postsave_cmd and also restart libvirt on cert\nfile change.\n\nChange-Id: I1a72265b369271f7bdfd3aaa143aad14a861a90a\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Revert \"Revert \"set innodb_file_per_table to ON for MySQL / Galera\"\"\n\nThis reverts commit 3f7e74ab24bb43f9ad7e24e0efd4206ac6a3dd4e.\n\nAfter identifying how to workaround the performance issues on the\nundercloud, let's put this back in. Enabling innodb_file_per_table is\nimportant for operators to be able to better manage their databases.\n\nChange-Id: I435de381a0f0e3ef221e498f442335cdce3fb818\nDepends-On: I77507c638237072e38d9888aff3da884aeff0b59\nCloses-Bug: #1660722\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Auditd: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: I7ed44c0bf759338ea7c3759ed6f5cd3903d320c2\n",
        "issue_summary": ""
    },
    {
        "commit_message": "securetty: use validate_array for tty list\n\nChange-Id: I1e79407ec6f360a2b205cec6cf8e812a11b799ea\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Create Glance's database if glance-api is enabled\n\nInstead of checking for glance_registry_enabled, we should be checking\nfor glance_api_enabled. The glance-api v1 depends on the registry, which\nmeans the database will be created but glance-api v2 doesn't which means\nthat not deploying the registry would result in the glance database not\nbeing created. On the other hand, glance-registry is never deployed\nwithout glance-api\n\nChange-Id: Ief25dafb65f7a043fbb3d16f1d7ef834c9947a93\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Set memcached server list from memcached_node_names\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Add base ironic profiles\n\nCo-Authored-By: Dmitry Tantsur <dtantsur@redhat.com>\nPartially-implements: blueprint ironic-integration\nChange-Id: I4831789b31cf5df1e61fe3ec05994156e0afc054\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Resolve repeated ports for ssl frontends\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Designate: create proxy ports on external VIP to access miniDNS workers\n\nWhile miniDNS servers are hosted on the internalAPI, they each need to\nbe accessible from external DNS servers to perform syncing. This is done\nby doing a port->host mapping on haproxy.\n\nChange-Id: I02f9f62be21b5f6c3c6edfb3cc2722ca5863d8c8\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix typo in endpoint.pp\n\nTrivialFix\n\nChange-Id: I8ea2f108d6f98167217b31284c84dbdf23f55f36\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable TLS in the internal network for ceilometer\n\nThis optionally enables TLS for aodh in the internal network.\nIf internal TLS is enabled, each node that is serving the ceilometer\nservice will use certmonger to request its certificate.\n\nThis, in turn should also configure a command that should be ran when\nthe certificate is refreshed (which requires the service to be\nrestarted).\n\nbp tls-via-certmonger\n\nChange-Id: Ib5609f77a31b17ed12baea419ecfab5d5f676496\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Proxy manila in http mode\n\nIt needs it so HAProxy will be able to set the X-Forwarded-Proto header.\nRelated-Bug: #1640126\nChange-Id: I1726fa1742bc70518338b80fc6d27567bb020e7c\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Listener options for Ironic/ceilometer/glance_registry\n\nThis updates some of the listener options set by loadbalancer.pp.\n\nIroinc needs to pass in the option to do a httpchk, otherwise\npuppet-haproxy defaults it to doing a ssl-hello-chk, which won't work\nagainst the non-ssl loadbalancer server.\n\nCeilometer and glance_registry both don't support a httpchk against the\nroot (/) of their webservers (they return a straight 401) so disable\nthose checks completely.\n\nChange-Id: Ibfc81175842a748eb077b132b0818c4ea17bbcf6\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Horizon: Enable heat-dashboard configurations\n\nDepends-on: https://review.opendev.org/775322\nChange-Id: I05f9a8e4332be9bea2c623202c01b1c133045852\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Set OVS local ip through OVS ODL class\n\nOVS local IP is currently set through\npuppet-tripleo's neutron ovs agent class.\nInstead set it through ovs odl class.\n\nPartial-Bug: #1789371\nDepends-On: I5f6e8b76eeac75298f11d69441b9ad08a5c51005\nhttps://review.openstack.org/#/c/597002/\n\nChange-Id: Ia98f39c1185ff234d1d68737055cf3e6cb4a8bc4\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix haproxy ceph dashboard condition\n\nIf grafana is not enabled in the overcloud the\ndashboard section shouldn't be created. We\ncurrently hit an issue during upgrades because\nthe haproxy exists (because of ceph_mgr_enabled)\neven though the dashboard bits aren't deployed.\nUsing the same condition for both services should\nbe safe enough.\n\nCloses-Bug: #1885122\nCo-Authored-By: Giulio Fidente <gfidente@redhat.com>\nChange-Id: I70d2ef2a64f0a46203d7a60b564eaa287e5708d6\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add Docker Registry profile\n\nThe profile was moved out of instack-undercloud puppet manifest and\nchanged to install a v2 Docker registry rather than the old, deprecated\nv1 registry.\n\nChange-Id: Iecf7a4c7e86349e6ecaa0a8ee6d37223e3af7862\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Don't try and create the my.cnf.d dir everytime\n\nThe creation of /etc/my.cnf.d is not idempotent and is run anytime the\nmysql client profile is included. This change adds an unless parameter\nto ensure it is only run if not used.\n\nChange-Id: I4a30eaccf72f5687dc22ba93c19136e55d36dcab\nCloses-Bug: #1680570\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Correct ovn_controller_certificate_specs hiera variable name\n\nA recently merged change introduced a new puppet parameter\novn_controller_certificate_specs with a matching hiera variable.\nThis change had a typo where the lookup is done from hieradata,\nwhich this patch corrects.\n\nChange-Id: Ifd789d8df0c279ab0a948011c0886e6fca0f664c\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add base constraint so gnocchi metricd is tied to core-clone\n\nCurrently if we manually restart the cluster saometimes gnocchi statsd\ndoesnt comeup as galera is not up yet. This should tie the metrics to\ncore and follow the order.\n\nCloses-bug: #1604860\n\nChange-Id: I5ec29622938336410b91785ca49b410bcdd30cdd\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove obsolete 'http' backend from glance configuration\n\nGlance has a read-only 'http' backend that is obsolete now that tripleo\nsupports glance multi-store (multiple backends). Glance's web-download\nimport method no longer relies on the 'http' backend, so tripleo should\nno longer include 'http' in the list of enabled backends.\n\nChange-Id: I64ee3a3c8f0dabdeab16968c39ea00b8879f5405\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Make the errors around fencing and IHA clearer\n\nDistinguish the error messages between no ipmilan device\nconfigured or more than once device configured.\n\nChange-Id: Iffda14d1488de09e57dfe0746a486a8cb78f110b\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Allow mysql options to be set for the HA bundle\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Add puppet support to deploy neutron-api with httpd\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Handle cinder_mount_point_base for cinder mounting needs\n\nAdding cinder_mount_point_base parameter, to provide the\nmount point for *fs volumes.\n\nDepends-On: Ib724f6e895716847827be48ed08b01a7a312338f\nChange-Id: I3f9004fd8abffefe8cfeee9011ed0e323652fdd1\n",
        "issue_summary": ""
    },
    {
        "commit_message": "pass list of memcache servers to keystone::federation::openidc\n\nChange-Id: I58e364a3a6c0ebc7bc57ff5821ccdb882324ff81\nDepends-on: I9ff976854b93cdf9ca3175d1fd39c2b268b9f7fa\n",
        "issue_summary": ""
    },
    {
        "commit_message": "httpd: Clean up heat API profiles and add release note\n\nThere were some values that were passed to the classes manually, and\nthis takes the parameters from t-h-t instead. Also, the release note was\nadded.\n\nbp tls-via-certmonger\n\nChange-Id: I17c4b7041e16da6489f4b713fdeb28a6e1c5563c\nDepends-On: I88e5ea7b9bbf35ae03f84fdc3ec76ae09f11a1b6\n",
        "issue_summary": ""
    },
    {
        "commit_message": "drop resource_restart_flag\n\nWith the removal of the last non-bundle implementation of manila\nwe can remove the resource_restart_flag() mechanism which was used\nto signal the restart of non-bundle services.\n\nChange-Id: I3bf4db1d85429e98c948d7ee049cfa78b8956fe0\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Avoid hard-coded settings in Manila HA containers\n\nAdd parameters for controlling the docker container settings used to\ncreate the manila-share pacemaker bundle. The parameters eliminate the\nneed to hard-code the list of docker volumes and environment variables,\nmaking it possible to control the values using hiera data.\n\nFor backward compatibility, the previous hard-coded values are used\nwhen no parameter inputs are supplied.\n\nPartial-Bug: #1749752\nChange-Id: Ia81602f8a3454fcb0be2eaa9126021331d37b147\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix typo in ganesha VIP order constraint\n\n'ganesha' was spelled 'gansha'.  There was no functional bug\nsince the typo was consistent between definition and use but\nfix it so the codebase is easier to search.\n\nTrivialFix\n\nChange-Id: Ia89f336b186fb15acea2c37410c576d6b5fd8153\n",
        "issue_summary": ""
    },
    {
        "commit_message": "certmonger: Add dnsnames parameter to redis cert request\n\nThis adds the ability to add several SANs to the certificate as needed.\n\nChange-Id: I245516257da280b91779313ffb18f84c8a4e3635\nRelated-Bug: #1818513\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove support for token_flush cron job\n\nThe token_flush cron job is no longer required, because now tripleo use\nfernet token which doesn't persist token in database.\n\nChange-Id: I8ad037cf59a5216c0d799be8bd499b7fb2d811c9\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Add explicit logging class inclusion\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Make setup of keepalived optional via manage_vip parameter\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Filter apache_certificates_specs if hostname is empty\n\nNot all roles have all networks, when creating certificates\nwe need to filter out certificate specs where the hiera\nlookup returns 'nil'.\n\nPreviously we created noop resources with fallback to the\nctlplane network for all networks defined in network data.\nSo the hiera lookup returned a hostname for all networks\nno matter if the roles data included that network. This is\nno longer the case, so we need to filter.\n\nBonus, we no longer create certificates that are'nt actually\nused.\n\nChange-Id: I651919488cb68b0b9878b4e21ab376bfc6e3f0fe\nCloses-Bug: #1811207\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add a noop_resource function\n\nA function to create noop providers (set as the default) for the named\nresource. This works alongside of 'puppet apply --tags' to disable\nsome custom resource types that still attempt to run commands during\nprefetch, etc.\n\nChange-Id: Icabdb30369c8ca15e77d169dc441bee8cfd3631f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Use memcached for token caching in cinder authtoken\n\nUse memcached to cache token in cinder authtoken, as in-process\ncache, which we currently use, was already deprecated[1].\n\n[1] Ied2b88c8cefe5655a88d0c2f334de04e588fa75a\n\nChange-Id: If9363e3fa172e9aa36574cc575683cdde2861087\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Manila: Remove usage of deprecated driver_handles_share_servers\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Add audit middleware to Swift proxy pipeline\n\nDepends-On: Ifa4e2ed894844ab1c7501f8edc18e55a9dea7e61\nChange-Id: I11e53615b90e052ebc39f70a7699414a8b82cc28\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add Octavia OVN Provider configuration (2 of 2)\n\nThis is part 2 of 2, where ovn provider info located in\ntripleo::profile::base::octavia::api will move\nto newly created octavia::provider::ovn.\nBut that has to be split into 2 parts to avoid breaking the\nCI until the THT+pupple-tripleo changes merges [1].\n\n[1]: https://review.opendev.org/#/q/topic:bug/1861886+(status:open+OR+status:merged)\n\nThis patch enhances Octavia's OVN driver config, so it can connect to\nOVN_Northbound DB using TLS.\n\nDepends-On: https://review.opendev.org/#/c/711333/\nDepends-On: https://review.opendev.org/#/c/711557/\nDepends-On: https://review.opendev.org/#/c/705728/\nDepends-On: https://review.opendev.org/#/c/707695/\n\nCloses-Bug: #1861886\n\nChange-Id: If4a6f25015374883050c48b7705e8207906118f4\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Extract local CA if it expired\n\nThis adds a conditional that extracts certmonger's local CA if the\ncertificate doesn't exist or if it has expired already. This adds the\nability for the deployer to fix the undercloud installation with the\nundercloud install command itself if expiration of the CA cert happens.\n\nChange-Id: I61577be2434d7321dd462902d386c6911c2c4f57\nCloses-Bug: #1753948\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Set ACLs on ceph client keyrings\n\nThis patch will set file system ACLs on the ceph client keyring.\nThis will help resolve (1) for OSP Ocata and before\n\nChange-Id: I353b19a5a3f9a9af110587bd0996f08700335a44\nPartial-Bug: #1720787\n1: https://bugzilla.redhat.com/show_bug.cgi?id=1462657\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Cinder: Dell EMC PowerMax: Fix typo in hash key\n\nThis change fixes a wrong hash key to define the powermax_port_groups\nparameter.\n\nChange-Id: I05b3b1848081b6247870a540b06ff589c8b5f7eb\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enforce stonith for ComputeInstanceHA nodes\n\nWith the implementation of stonith levels support via bacfec8647 we\naccidentally lifted the requirement for ComputeInstanceHA nodes to\nhave at least one valid stonith device.\n\nThis commit re-introduces a check to make sure there is at least\none valid fencing agent configured, computing the total number of\nstonith resources belonging to each node and making sure to raise\nan exception if this value is zero.\n\nThis check is performed only for the first level so to allow\ndifferent stonith topologies per node (eg controller nodes can\nhave two levels, while computes only one) and still account for\nthe missing devices.\n\nCloses Bug: #1953042\n\nChange-Id: I5ca68bcc2cfe34f2e95758628155e4f5b872305a\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Include oslo.messaging amqp support for rpc and notifications\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove Nova EC2 HAproxy endpoint\n\nTHT does not deploy Nova EC2 anymore, so we don't need the HAproxy\nendpoint anymore.\n\nChange-Id: Ia888fe7e14c736ef3678d9a7cf69a2deb9233342\nDepends-On: Ief2d0e5c77b5ac58560606fee930fbd66c40ffc3\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Force stunnel to use TLSv1.2\n\nThis allows us to force a TLS version for stunnel, which we\nset to TLSv1.2. This ensures that we're compliant with FedRamp,\nwhich requires a minimum version of TLSv1.1.\n\nUnfortunately, using the \"option\" key didn't work in the configuration\nas was tried in a previous commit. This option would have only only\ndisabled the versions we set, instead of only allowing one, like\n\"sslVersions\" does. This seems to be the only alternative we have at\nthe moment.\n\nRelated-Bug: #1754368\nChange-Id: I353f893ee5dcc265269704e23f65aa0460724078\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add check for bootstrap_node for downcase\n\nDowncase in puppet 6.14 throws an error if the input to it is Undef. We\ncan avoid this by checking for a value before trying to downcase.\n\nSee context https://review.rdoproject.org/r/#/c/26297/\n\nChange-Id: Ib2e97060523a4198a14949a15c9171b56928699c\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove forgotten values from heat-api-cloudwatch\n\nWhen heat-api-cloudwatch service was removed in\nIc11d8803bb260fe302da929eda9ec8d547a92176 two values,\nheat_cw_port and heat_cw_ssl_port, were forgotten.\n\nChange-Id: I8e2f32434ae1f103b38f4c8a468e655cfa790b24\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add log enable to control module generation\n\nChange-Id: I48f2959c93959725956c75bfdc515fcc0dd294f4\n",
        "issue_summary": ""
    },
    {
        "commit_message": "glance/api: cleanup on dbsync\n\nCleanup some code that were useful in the effort of removing Glance\nRegistry service from TripleO.\n\nChange-Id: I2a4bdc413e953b8b713d9a12bba74ca18487fe0d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add panko service support\n\nChange-Id: I35f283bdf8dd0ed979c65633724f0464695130a4\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"[ui] Add option to configure apache expires\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Remove forgotten values from heat-api-cloudwatch\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Allow disabling nova::cache\n\nThis is useful for test/debugging purposes only.\nIt is quite useful to skip the memcache layer in certain situations,\nso let's allow to override it via a hiera key, while we clearly\nstate it as a not support configuration.\n\nChange-Id: I9963b2ac5aa46568e31df0fce58c90c797876d79\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Adding congress service\n\nChange-Id: Ic74ccd5fa7b3b04ca810416e5160463252f17474\nSigned-off-by: Dan Radez <dradez@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add support for Redfish hardware in Ironic\n\nPart of blueprint redfish-support\n\nDepends-On: Icd065cec7114fc026b658ede0d78be2e777c15aa\nChange-Id: Ib14f87800ae7657cf6176a4820248a2ce048241d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Nova: Include new puppet classes for castellan options\n\nThe keymgr_* parameters are deprecated and these parameters will be\ncompletely migrated to nova::key_manager. This change ensures the new\nclasses are included.\n\nDepends-on: https://review.opendev.org/772142\nChange-Id: Idcb75f91b4abbb7fa66bf199026611304a4f4467\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Change URL for puppet-cassandra\n\nThe module has been transferred to Vox Pupuli [1].\n\n[1] https://github.com/locp/cassandra/blob/develop/README.md\n\nChange-Id: I36e219a582a097ee597342dde273860f0084dd81\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Ensure the Heat Domain parameters before starting heat-engine pcmk service\n\nHeat needs stack_user_domain_id or stack_user_domain_name config\noptions set in the heat.conf before starting. The domain itself\ndoesn't need to exist until a stack is actually created, but the\nvalue needs to be there. This patch ensures that the heat domain\nparameters are configured before starting the heat-engine service\nwith Pacemaker at step3 and 4, and at step5, Pacemaker will start\nthe services and Puppet will create the domains.\n(note: commit message copied from\nhttps://review.openstack.org/#/c/331652/ to mitaka tht, which came\nfirst)\n\nChange-Id: I58fa53357265c1607d2df1b04cc2296083212ab7\nCloses-Bug: 1599232\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Redis: Remove unused implementations for clustering\n\nThis change removes the following configurations currently unused in\nthe cluster managed by Pacemaker\n\n- Replication is automatically declared by the redis resource agent.\n  Thus there is no need to declare the \"slaveof\" parameter in\n  redis.conf.\n\n- Sentinel is the software to implement clustering but it is unused\n  in a cluster managed by the redis resource agent currently used.\n\nChange-Id: I01c9b26cb39f822b653f0115dcf0660b8c0fd7cb\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Swift: Fix the class to enable the audit middleware\n\nThe swift::audit class does not exist, and the swift::proxy::audit\nclass should be used instead.\n\nChange-Id: I94647b1eaa90ec9507c4887fbae9a07cfb9f8f35\nCloses-Bug: #1960630\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Include nova::compute::libvirt::qemu from the libvirt profile\n\nThis is useful to customize the libvirt/qemu.conf limits when deploying\na large overcloud or one with many Ceph OSDs.\n\nChange-Id: I258afd3ee6633e4b2ebc45aa8611be652476be0c\nDepends-On: I5fa423a4b212d14f6e9ff6a270931b569558b54e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove unused redis_vip parameter\n\nChange-Id: I6ba962c682dc2ab8c6ee5238e0c176d9ae05d696\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Support for Cinder IBM Svf driver\n\nThis patch adds support for Cinder IBM Spectrum virtualize family (Svf)\ndriver.\n\nDepends-On: I43f954879de6ce70237cb468e7ef1fbc2649edcd\nChange-Id: I3c74f492d9d34eb8e16d9a203b5f02714b02f69a\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Include neutron in step 3\n\nneutron::server requires the neutron's init.pp to be ran beforehand\nbecause init.pp installs the 'neutron' package. Else the relationship\nwith neutron::policy will fail [1].So to address this, we move\nneutron's init.pp to be ran on step 3 if db_sync is enabled.\n\n[1] https://github.com/openstack/puppet-neutron/blob/master/manifests/server.pp#L498\n\nChange-Id: I8eb497c2b483e11d1f640a7ba9fae5a9d5bcef4d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Support networking-ansible-ml2 coordination\n\nNetworking-ansible-ml2 now has a dependency on tooz in order to prevent\nparallel updates on switches that do not support them. This patch\nadds in the components required for the rediz backend used by\ntooz to coordinate distributed locks\n\nDepends-On: I09ae3a4ab3a473484fe71db4b79cd6fc7b93b617\n\nChange-Id: Ifdcc3004e4c3baa0bf6e75f0c0f045e1101d800a\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Enable TLS in the internal network for aodh\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove aide puppet manifest\n\nThe aide puppet manifest is being removed because the heat template\nwhich invoked it has been converted to ansible. This change removes\nthe aide manifest and spec files accordingly.\n\nDepends-On: I4479de4c157625be50fdbec33cbf43b30dd7558f\n\nChange-Id: I9d63a38298311909e615e51e1e46dcc35652b351\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Include gnocchi config on non-bootstrap nodes\n\nChange I67a15dc83a754fb6f5fe25c64ae9e7d29c58fcec removed the\ngnocchi configuration completely from non-bootstrap nodes.  This\nchanges it so the configuration is included on all nodes, but the\ndb sync is only included on bootstrap.\n\nChange-Id: If402becc900c175f5b3bb95c3413276e5a04b4f7\nCloses-Bug: 1604708\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Retiring TripleO-UI\n\nThe TripleO-UI related puppet-tripleo stuff is being removed because\nof the retirement of TripleO-UI.\n\nChange-Id: I44f34be2ce7fc69d8b5c59b3468ea36a64410b30\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Let fluentd not create /etc/rsyslog.d/fluentd.conf file\n\nCurrently, when fluentd is configured to listen to syslogs, Fluentd\nconfigures itself and also rsyslog creating the file\n/etc/rsyslog.d/fluentd.conf. This generates an issue when\nis deployed on RHEL BZ #1701726.\n\nTo avoid this issue, a fluentd_managed_rsyslog parameter is added so\nfluentd can be configured to create the file or not.\n\nChange-Id: I388180dc991926ff30f8bbc556f61447152f8dc9\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add new profile for the Veritas HyperScale's cinder backend.\n\nAdd new hook in the keystone profile for Veritas HyperScale.\nAdd new hook in the rabbitmq profile for Veritas HyperScale.\nAdd new hook in the mysql profile for Veritas HyperScale.\n\nChange-Id: I9168bffa5c73a205d1bb84b831b06081c40af549\nDepends-On: I316b22f4f7f9f68fe5c46075dc348a70e437fb1d\nDepends-On: Id188af5e2f7bf628a97a70b8f20bef28e42b372d\nSigned-off-by: abhishek.kane <abhishek.kane@veritas.com>\nSigned-off-by: Dnyaneshwar Pawar <dnyaneshwar.pawar@veritas.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Fix Redis TLS setup, including replication traffic\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Do not create metadata ssl proxy if we have metadata api via httpd wsgi\n\nWith nova metadata api running via wsgi we do not need the ssl proxy when\nconfigure tls-everywhere as we terminate ssl direct in the httpd wsgi.\nWith this change we only create the ssl proxy vhost if we do not run nova\nmetadata via wsgi.\n\nRelated-Bug: 1781405\n\nChange-Id: Ia0e769925812e91679631bdd631030ab12ceff01\n",
        "issue_summary": ""
    },
    {
        "commit_message": "SR-IOV nic agent changes in line with composable roles.\n\nimplements: blueprint tripleo-sriov\nChange-Id: I3385d831a339deec7d1315f74b501e76109db811\n",
        "issue_summary": ""
    },
    {
        "commit_message": "logging: teach fluentd.pp about fluentd_service_user\n\nThis allows tripleo to explicitly set the user that will be used to\nrun the fluentd service, rather than relying on the package defaults.\n\nChange-Id: I4e4bb72cc3f28d884c174fdf7df1594b344c1f40\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Use stdlib function to remove undef values from array\n\n... instead implementing own logic.\n\nChange-Id: I8cbb2c271f0237707b4eb725d26ebddc4bc4ea48\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add OVN DBs bundle support for pacemaker HA\n\nIt uses the control-port 3125.\n\nPartial-bug: #1699085\nChange-Id: I4787321e10cc35beeb5ec3f585dafb2268ea4f21\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Force C.UTF-8 when dealing with rabbitmq\n\nWhen we use rabbitmq 3.7 we might hit the following issue when running rabbitmqctl commands inside containers (as puppet does):\n\n  Error: Failed to apply catalog: Cannot parse invalid user line: warning:\n  the VM is running with native name encoding of latin1 which may cause\n  Elixir to malfunction as it expects utf8. Please ensure your locale is\n  set to UTF-8 (which can be verified by running \"locale\" in your shell)\n\nThis is fundamentally the tripleo version of\nhttps://github.com/voxpupuli/puppet-rabbitmq/issues/671\n\nThis is a strict requirement coming from Elixir:\nhttps://github.com/elixir-lang/elixir/issues/3548\n\nSince containers do not have UTF-8 as a default we have this problem:\n[root@overcloud-controller-0 ~]# podman exec -it rabbitmq-bundle-podman-0 sh\n()[root@overcloud-controller-0 /]$ rabbitmqctl -q list_users\nwarning: the VM is running with native name encoding of latin1 which may cause Elixir to malfunction as it expects utf8. Please ensure your locale is set to UTF-8 (which can be verified by ru nning \"locale\" in your shell) user tags\nguest [administrator]\n()[root@overcloud-controller-0 /]$ locale\nLANG=\nLC_CTYPE=\"POSIX\"\nLC_NUMERIC=\"POSIX\"\nLC_TIME=\"POSIX\"\nLC_COLLATE=\"POSIX\"\nLC_MONETARY=\"POSIX\"\nLC_MESSAGES=\"POSIX\"\nLC_PAPER=\"POSIX\"\nLC_NAME=\"POSIX\"\nLC_ADDRESS=\"POSIX\"\nLC_TELEPHONE=\"POSIX\"\nLC_MEASUREMENT=\"POSIX\"\nLC_IDENTIFICATION=\"POSIX\"\nLC_ALL=\n\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\nRelated-Bug: #1822673\nChange-Id: I21ef2e7862f3e5e21812d342b1681f8d5f7f005d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Move nova constraints from controller manifest to each service\n\nCurrently we are still creating all the pacemaker constraints for nova\nin the main overcloud_controller_pacemaker.pp manifest file.\n\nLet's move those to each role where they belong. Note that given\nthat a constraint depends on two separate pacemaker resources it is\na bit arbitrary in which file they end up being (the one of the first\nresource or the second one).\n\nChange-Id: I96a3a313d15fac820b020feae0568437c2cbade3\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Ensure directory exists for certificates for haproxy\n\nWe used to rely on a standard directory for the certificates and keys\nthat are requested by certmonger. However, given the approach we plan to\ntake for containers that's described in the blueprint, we need to use\nservice-specific directories for the certs/keys, since we plan to\nbind-mount these into the containers, and we don't want to bind mount\nany keys/certs from other services.\n\nThus, we start by creating this directories if they don't exist in the\nfilesystem and adding the proper selinux labels.\n\nbp tls-via-certmonger-containers\n\nChange-Id: Iba3adb9464a755e67c6f87d1233b3affa8be565a\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Composable Horizon service - puppet-tripleo\n\nChange-Id: Iff6508972edfd5f330b239719bc5eb14d3f71944\nImplements: blueprint refactor-puppet-manifests\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fixes missing ODL ML2 Authentication info\n\nWithout this, neutron-server fails to start and communication will not\nwork to ODL REST.\n\nParital-Bug: 1633630\n\nChange-Id: Ifd906db4e6062ac271c2147fe1149b1009d06ae2\nSigned-off-by: Tim Rozet <trozet@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add neutron base profile to OVN metadata agent\n\nThis patch is including neutron base profile in OVN metadata agent\nfile. This will ensure that neutron configuration is also applied\nfor this service.\n\nChange-Id: If3dffde5e0db8f7607a9708d36d54d1600fe5da8\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Lower the default stunnel log level\n\nRight now the default stunnel.conf log level is set at 'notice'\nwhich, when we deploy redis, fills up the logs with the following\nmessages:\nMay 09 14:18:36 controller-1.redhat.local dockerd-current[19810]: 2018.05.09 14:18:36 LOG5[1:139972682520320]: connect_blocking: connected 127.0.0.1:6379\nMay 09 14:18:36 controller-1.redhat.local dockerd-current[19810]: 2018.05.09 14:18:36 LOG5[1:139972682520320]: Service [redis] connected remote server from 127.0.0.1:60412\nMay 09 14:18:36 controller-1.redhat.local stunnel[41495]: LOG5[1:139972682409728]: Service [redis] accepted connection from 172.17.1.21:60770\nMay 09 14:18:36 controller-1.redhat.local dockerd-current[19810]: 2018.05.09 14:18:36 LOG5[1:139972682409728]: Service [redis] accepted connection from 172.17.1.21:60770\nMay 09 14:18:36 controller-1.redhat.local stunnel[41495]: LOG5[1:139972682409728]: connect_blocking: connected 127.0.0.1:6379\nMay 09 14:18:36 controller-1.redhat.local dockerd-current[19810]: 2018.05.09 14:18:36 LOG5[1:139972682409728]: connect_blocking: connected 127.0.0.1:6379\nMay 09 14:18:36 controller-1.redhat.local stunnel[41495]: LOG5[1:139972682409728]: Service [redis] connected remote server from 127.0.0.1:60418\nMay 09 14:18:36 controller-1.redhat.local dockerd-current[19810]: 2018.05.09 14:18:36 LOG5[1:139972682409728]: Service [redis] connected remote server from 127.0.0.1:60418\n\nThose messages are from the haproxy healthceck. Let's move the\ndefault debug config to warning which will ignore the above errors.\n\nCloses-Bug: #1770180\n\nChange-Id: I93bd0048e85864fa9e62dc38c3575ec7b48e5df5\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Support designate profile when redis is not available\n\nDesignate can function without redis in testing environments like\ntripleo-standalone where multiple producers are not present.\n\nChange-Id: I1f8bb80cb7498cba12aae399321369dc55c33523\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Include ::heat at step 3\n\nSince we include ::heat::keystone::domain at step 3, and that class\nrequires heat.conf since it uses the heat_config resource, we need to\nalso include ::heat at step 3. The ::heat class will take care of\ninstalling openstack-heat-common that provides heat.conf.\n\nCloses-Bug: #165389\nPartially-implements: blueprint split-stack-software-configuration\nChange-Id: I5ba34ca96ca84d3f1cf3785ed8bbef6720f7bd42\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Make sure that rabbitmq_cacert has 'undef' as a default.\n\nThis is done so that the deployment does not fail if we do not pass any\nrabbitmq:ssl_cacert key at all. This is needed on SSL (non TLS-E)\nundercloud installations, see LP and related tht patch.\n\nChange-Id: I4e9801ba3ced734e5aa3fa22df522fab0e84761a\nRelated-Bug: #1947776\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Do not force provider in rabbitmq base profile\n\nWe cannot force the provider when defining the rabbitmq_user on\nstack update operation, because otherwise the noop_resource [1]\nfunction cannot override the resource behaviour and the config\ngeneration fails with unexpected calls to /usr/bin/rabbitmqctl.\n\nWe don't need to force the provider, so stop doing so.\n\n[1] tripleo/lib/puppet/parser/functions/noop_resource.pp\n\nChange-Id: If718dd50147b3430f9f72fa59c297ae65440f71a\nCloses-Bug: #1739771\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add barbican profile\n\nCo-Authored-By: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nChange-Id: If2804b469eb3ee08f3f194c7dd3290d23a245a7a\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Handle redirects for Horizon\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable TLS in the internal network for aodh\n\nThis optionally enables TLS for aodh in the internal network.\nIf internal TLS is enabled, each node that is serving the aodh\nservice will use certmonger to request its certificate.\n\nThis, in turn should also configure a command that should be ran when\nthe certificate is refreshed (which requires the service to be\nrestarted).\n\nbp tls-via-certmonger\n\nChange-Id: I50ef0c8fbecb19d6597a28290daa61a91f3b13fc\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add variable for keystone topics queue for barbican\n\nBarbican keystone listener needs its own queue for keystone\nnotifications.\n\nChange-Id: I3a81e109fcfe8ec8bb434ece7a7fd92f3642922c\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Heat: Manage [clients] options\n\nChange-Id: I7ca0d5b40d1459005c412db042047306ccc8ae43\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Make sure keepalived is restarted before haproxy.\n\nWhen using SSL setup for undercloud, the admin and public vip required\nfor ssl binding by haproxy are created by keepalived.\n\nThis makes sure that keepalived is started before haproxy and thus that\nthe interfaces are indeed present.\n\nThis patch also ensures this is happening for overcloud ssl\nconfiguration. The case where another load-balancing technology other\nthan haproxy is used is not covered.\n\nCloses-Bug: #1638029\n\nChange-Id: I98cb0dcd7f389a1dd38ec8324429bfef4979aa66\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Check rabbitmq user at step >= 2\n\nThe rabbitmq user check is moved to step >= 2 from step >= 1. There is\nno gaurantee that rabbitmq is running at step 1, especially if updating\na failed stack that never made it past step 1 to begin with.\n\nChange-Id: I029193da4c180deff3ab516bc8dc2da14c279317\nCloses-Bug: #1675194\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Handle renaming of Cinder VNX backend parameter\n\nIn I415eee7ddc601d1706a5d7f2a561e11b642fa826 the 'storage_vnx_pool_name'\nparameter was essentially renamed to 'storage_vnx_pool_names'. This patch\nadds support for the new name, and accepts the old name so current THT\ncontinue work.\n\nRelated-Bug: #1775375\nDepends-On: I415eee7ddc601d1706a5d7f2a561e11b642fa826\nChange-Id: Ia48bbb88f6bc8180bfb6981813333eee70db79bb\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add support for cinder backend availability zones\n\nAdd the ability to override the \"backend_availability_zone\" parameter\nin every cinder volume backend.\n\nImplements: blueprint split-controlplane-cinder-volume-az\nDepends-On: I11821a38d8ba5afc594b3d601cd1634207a6f093\nChange-Id: Ic407b747474b567858ad36beabc8a7d8c5022343\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add -s (silent) to curl command for CRL refresh\n\nWithout it, it doesn't reload the services it should.\n\nChange-Id: I43e6188700deb585f905ca700e69b6875f0ded45\nCloses-Bug: #1712404\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Move gnocchi::api resource to run with wsgi setup\"",
        "issue_summary": ""
    },
    {
        "commit_message": "packages: Remove unused deployment_type check\n\nWe no longer trigger the tripleo::packages class inside containers,\nthus this logic is unused.\n\nDepends-on: https://review.opendev.org/838966\nChange-Id: I46b29cde6eb6e53cc88cac231dad5e4577b15bff\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Certmonger: Only notify haproxy class if it's defined\n\nThe haproxy certmonger resource (which requests the HAProxy certs)\nexpected the haproxy puppet manifests to run alongside if we're using a\nlocal CA. This is no longer the case in containerized environments, e.g.\nthe containerized undercloud. This makes that optional.\n\nChange-Id: I2764ca1674dcd5ecd7886233bb5e9795ee697be3\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Increase websocket timeout\n\nWe can get into situation where the timeout is reached after 1h whereas\nwe still wait for messages.\n\nChange-Id: Ibacc703bbbc711b4bab837f9897826864bb84dc7\nRelated-Bug: #1805649\n",
        "issue_summary": ""
    },
    {
        "commit_message": "certmonger/HAProxy: don't use principal if CA is local\n\nusing a service principal with the local CA fails with certmonger.\n\nChange-Id: I25c7492a2982882f5ae9ac03af79b04e96fc7c31\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Switch from rabbit to using oslo messaging params\n\nChange-Id: I03900b39ab257a9563db37e403254b54f846c056\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Stop including ironic::drivers::ssh in the ironic-conductor profile\n\nThe SSH drivers are deprecated, pxe_ipmitool + virtualbmc should be used instead.\nThis is a follow-up to blueprint switch-to-virtualbmc.\n\nChange-Id: I4fd567dffa3992042eebcf495334b8130e1bdc9f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add keystone_resources_managed option to the cinder api class\n\nAdd the keystone_resources_managed toggle so we can let Ansible\ncontrolling that resource and not Puppet.\n\nIt's part of the efforts to not rely on Puppet to create Cloud resources\nlike keystone resources, cinder types, etc.\n\nChange-Id: I557d8f33c9c699aed14b3b6fc1d1c0407365cd08\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Support configuring multiple Dell EMC VNX cinder backends\n\nAdd support for configuring multiple Dell EMC VNX cinder backends\n\nChange-Id: Ice39a02d29d6f83701c5489533a1f66920739e7b\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Drop package_provider\n\nThe Package provider scope needs to be global so this class\nwon't really help us much. Removing for now.\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Modified glance stores parameter values\n\nThe stores parameter should be set with the new parameters\nas they are going to be deprecated in the old method.\n\nChange-Id: If272345e96988778ceccb8f2f624db1c38aea365\nCloses-Bug: 1704327\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove implementation for Nuage integration\n\n... because it is no longer used. Note that the core implementation to\nenable plugin configuration is still left, because it would be required\nby external templates.\n\nDepends-on: https://review.opendev.org/837238\nChange-Id: I616575d4b01beb9ade44251ca27335d64bce1c6e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Get rid of noop service provider\n\nWe no longer need as we use noop_resources generally to disable service\nresources.\n\nDepends-on: https://review.opendev.org/838964\nChange-Id: I757450bd24433364dca7879da75074ca4f816212\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Include ceph::profile::client from rgw.pp\n\nTo deploy successfully the RadosGW service on a dedicated node\nit is necessary to provision on the node a CephX keyring with the\nneeded permissions to import the RadosGW service keyring. This\nchange will provision any keyring passed via client_keys.\n\nIt makes possible to deploy the CephRgw service on any custom role\nwithout including the CephClient service.\n\nChange-Id: I5772eeb233ca241887226145a472c7a0363249cb\nCloses-Bug: #1673288\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Always start httpd at the same time\n\nPuppet wipes out whatever is not in it's resource catalog each run for\nhttpd. This causes httpd to restart if in the next step there are\nreasources added that were not there earlier.\n\nThis patch, thus changes the instances of httpd to start at the same\ntime: On step 3 for the bootstrap node, and on step 4 for every other\nnode.\n\nCloses-Bug: #1699502\nChange-Id: I3d29728c1ab7bd5b78100f89e00e5fa082f97b0c\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add support for manila db purge job\n\nRelated-Bug: #1891890\nDepends-on: https://review.opendev.org/#/c/746131/\nChange-Id: I5d65e0d56efbfa419d3a9393b2d0dae46d751ccf\n",
        "issue_summary": ""
    },
    {
        "commit_message": "NFS mounting for Glance file backend\n\nPreviously we did this with Pacemaker, but with move to NG HA\narchitecture we lost the ability to use NFS mounts as image storage for\nGlance. This reimplements the mounting without utilizing Pacemaker. The\nmount is by default also written to /etc/fstab so that it persists over\nreboot, but this behavior can be disabled.\n\nThis could also go to puppet-glance eventually, but not yet -- we need\nthis backported to Newton because it's a TripleO regression. I don't\nthink puppet-glance would allow backporting this to Newton, because from\ntheir point of view it would be a RFE rather than a regression.\n\nChange-Id: I45ad34c36587a8d695069368cf791f1efb68256c\nRelated-Bug: #1635606\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable X-Forwarded-Proto for manila\n\nThis is necessary so the middleware in manila can set the protocol\ncorrectly in case we're terminating SSL in HAProxy.\n\nDepends-On: Ice78b0abceb6a956bb8c1dc6212ee1b56b62b43f\nChange-Id: Iedaabaf1379466c22e3b9bb2307e940459d26de7\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Use correct paths to configure ovn dbs certs\n\nChange-Id: Id68fb8a79a04f7c864b103ef354698725a5dc64c\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"loadbalancer: fix Redis timeout HAproxy config\"",
        "issue_summary": ""
    },
    {
        "commit_message": "loadbalancer: use 'source' for novnc balance mode\n\nWhen establishing a connection from the client (Web Browser) to the\nnovncproxy (loadbalanced by HAproxy), we need to make sure the client\nwill stick on the same server the time he's connected, because HAproxy\nload-balance to another novncproxy node, the client will loose the\nconnection and timeout like 'Connection Reset By Peer error'.\n\nThis patch aims to configure novnc HAproxy configuration to balance\nusing 'source' mode, so it will make sure the server remains the same\nwhile the connection is established.\n\nChange-Id: Ibbb7162b763f1fd2854a10a92a681910e0683c0a\nCloses-BZ: 1257324",
        "issue_summary": ""
    },
    {
        "commit_message": "Aodh: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: Ie4afe07edb1166beb09af7d49bf39abacfd8c716\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Adds etcd\n\netcd is used by networking-vpp ML2 driver as the messaging mechanism. This\npatch adds etcd service which can be used by other services.\n\nImplements: blueprint fdio-integration-tripleo\n\nChange-Id: Idaa3e3deddf9be3d278e90b569466c2717e2d517\nSigned-off-by: Feng Pan <fpan@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "RabbitMQ: Simplify how to suppress error from pam_unix.so\n\nThis is follow-up of 44985bd42d21ce705387c01b188f27711791f51f, and\nreplaces the implementation to suppress error from pam_unix.so by\nthe quiet option, as CentOS 7/RHEL 7 support was removed a long ago.\n\nChange-Id: I620f96dc21c5bc85b14152e92c79b648c4a1b343\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Implement Nova base profile\n\nThis patch implements the base for Nova profiles.\nIt's a first iteration to deploy Nova using composable roles.\n\nImplements: blueprint refactor-puppet-manifests\nChange-Id: I8253e4b61484047948e222e68408e417d2787fb7\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove manifest for auditd service\n\nThe puppet implementation to configure the auditd service was replaced\nby the triple_autitd role in tripleo-ansible, because the dependent\npuppet-auditd module is no longer maintained and is not complatible\nwith CentOS/RHEL >= 8.\n\nThis change removes the manifest which is no longer used.\n\nDepends-on: https://review.opendev.org/851958\nChange-Id: Ib1d589c1c50398feb3d2c740402567981ae9f799\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Database: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: I4d765dfb7d569942e37d2bbc1d3a382fb9b7a904\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Allow to use the upstream rabbitmq-server-ha OCF resource agent\n\nWe introduce a new hiera key in order to be able to use the upstream\nrabbitmq-server-ha OCF resource [1].\nFor it to work inside bundles we need to have a rabbitmq-server\npackage inside the bundle which includes at least\nhttps://github.com/rabbitmq/rabbitmq-server/pull/2853\nand also we need to be using at least pacemaker-2.0.4-4.el8.\n\nThe rationale for this work is that the current rabbitmq-cluster\nresource agent maintained under the ClusterLabs umbrella is\na cloned resource, which is limited in the number of actions\nit can do in a number of situations (partition, failover, etc).\n\nThe upstream resource agent is a master/slave resource and\nallows for more expressive semantics in general and is preferrable [2].\n\n[1] https://github.com/rabbitmq/rabbitmq-server/blob/master/scripts/rabbitmq-server-ha.ocf\n[2] https://github.com/lemenkov/pmk-rmq.md/blob/master/pmk-rmq.md\n\nCo-authored-by: Bogdan Dobrelya <bdobrelia@redhat.com>\nChange-Id: Ia273d0dbc668bbae4c6e9cb535bd68783faf0148\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add support for Dell EMC VNX Cinder Backend\n\nThis change adds a new define for cinder::backend::emc_vnx\n\nChange-Id: Ieab9a66db78b61383dca4400e06cb1152660933a\nImplements: blueprint dellemc-vnx-cinder\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Re-run gnocchi and ceilometer upgrade in step 5\n\nWithout this gnocchi resources types are not created\nas they are skipped initially and the resources from\nceilometer wont make it to gnocchi.\n\nCloses-bug: #1674421\n\nDepends-On: I753f37e121b95813e345f200ad3f3e75ec4bd7e1\n\nChange-Id: Ib45bf1b3e526a58f675d7555fe7bb5038dadeede\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Handle ipv6 addresses in etcd and cinder's backend_url\n\nWhen configured to use an ipv6 address, the etcd URLs and the cinder\nlock manager's backend_url need to include brackets around the address.\n\nCloses-Bug: #1868284\nChange-Id: I79f385f14b5904803cdc7fdd145afa2dbcef9c49\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove unused puppet-keepalived\n\nThe puppet-keepalived module is no longer used, since we removed\nsupport for the keepalived service[1][2].\n\n[1] 573832124a6de8cdca08f6cbf073ea5b3575bd73 (removal)\n[2] 751c6f016466b3b3c51c5bad5ce21e5e5733c592 (follow-up)\nChange-Id: I7812caf5472a711c14f8619dc4b9894fb73e9c70\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Deprecating VxFlex OS  Volume Config\n\nA new Dell EMC VxFlexOS rebranded to PowerFlex.\nThe resource VxFlex OS will be deprecated and removed\nin W-Release.\n\nDepends-On: https://review.opendev.org/#/c/743852/\nChange-Id: Iacac98f012cdba03b3f0618b9774910c11e769ae\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Create role for the fake openstack-core resource\n\nChange-Id: I74a62973146c0261385ecf5fd3d06db51e079caa\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove neutron wrappers\n\nWith I2feb9e81bc40e44cb2c7a2972366fa4b16590227, we don't need the\nwrappers managed by Puppet anymore, everything is deployed by Ansible.\n\nBlueprint: safe-side-containers\nDepends-On: I2feb9e81bc40e44cb2c7a2972366fa4b16590227\n\nChange-Id: I890fff9c7ead7e72fd4fe3a58b4ffce2e315b916\n",
        "issue_summary": ""
    },
    {
        "commit_message": "redis HA: allow SELinux relabel for /var/run/redis\n\n/var/run/redis is bind-mounted from the host, and on every reboot\nthat directory is recreated with default context for the host.\n\nConfigure the bind-mount so that /var/run/redis is relabelled\nwith a container context every time the redis container is started,\nso that kolla can copy its config file and update the owner and\nattributes as expected without SELinux denials.\n\nChange-Id: Iaa8a99eb9ced21fb6c7c87c5b56dec55383af9a9\nPartial-Bug: #1826554\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Implement Nova conductor profile\n\nCreate nova-conductor profile, part of composable services.\n\nImplements: blueprint refactor-puppet-manifests\nChange-Id: Iaaf3a3c2528d9747e41f360a1fe55f95ed37b2d1\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Use service-specific servernames for haproxy\n\nRight now we're hardcoding the server names for the services to be\nthe controllers. This is problematic if we start  using custom roles\nfor services, which listen on nodes that are not controllers.\n\nWe already have the server names for each service, so using this\nmapping instead fixes the issue.\n\nChange-Id: Ic4b65edb3dc1b75abbc3421a87cab97425b058c4\nCloses-Bug: #1629098\n",
        "issue_summary": ""
    },
    {
        "commit_message": "add glue for nova serialproxy support\n\nChange-Id: Iff6ed763cdca12db2a66cc615b47b04258ec18a7\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add principal to certmonger's haproxy helper\n\nThe principal is needed for kerberos-based solutions like FreeIPA.\n\nbp tls-via-certmonger\n\nChange-Id: Ie27848f522d11135b061aef766de2b696c77fcb9\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Set authtoken memcached_servers in undercloud services\n\nCurrently we set memcached_servers in authtoken middlware by\npuppet-tripleo for most of services, while we set it for undercloud\nservices(Mistral, Zaqar, Novajoin) by environments/undercloud.yaml.\n\nThis patch makes puppet-tripleo configure memcached_servers also for\nthese undercloud services, so that we can have all implementations\nrelated to memcache in one place.\n\nChange-Id: I073fc3f35441f4ce11216f27d3363e4365c887be\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Include ::swift::config in Swift API and Storage roles\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Support deploying multiple Cinder Pure Storage backends\n\nEnhance tripleo::profile::base::cinder::volume::pure to support\ndeploying multiple instances of the cinder::backend::pure backend.\nThe changes are backward compatible with existing single instance\ndeployments.\n\nThe patch updates the $backend_name parameter to support a list\nof names instead of a single name. It also adds a new (optional)\n$multi_config parameter, which is a hash of values associated with\neach backend. The hash keys match the existing THT parameter names.\n\nCo-Authored-By: Alan Bishop <abishop@redhat.com>\nChange-Id: Ia7cc82f5eb4e228a43e47624d87e319ac5340268\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Sync the db as part of the glance-api install\n\nThe glance database should be created as part of the glance-api service\ninstallation and not the registry. Move the db_sync param to the\nglance-api class call.\n\nChange-Id: Ib9f511219e8cb9a7322745b6bd7c4f9c9cc0c198\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add Memcached certificate generation\n\nAdding certification generation and pass it down to puppet-memcached.\n\nChange-Id: I8eb2b45e8868b99dfe402fee514afa8f8c42f086\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Conditionally Enable Nuage VRS\n\nUsing this change, users can conditionally include\nNuage VRS on Overcloud nodes\n\nChange-Id: I6a996a6b9e1b2d4c74e25e2582699eb9e023093a\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Update profiles for loadbalancer split\n\nUpdate loadbalancer (nonha and ha) and midonet profiles to consume new\ntripleo::haproxy class.\n\nKeep it backward compatible with old interface until we update THT by\nusing stdlib function: pick. So we first try to get new parameters\notherwise we fallback to the old interface.\n\nChange-Id: I46ed8348dc990d9aa0d896e1abea3b30a8292634\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Import ::nova class from THT\n\nImport ::nova class with memcached parameter computed from Hiera, that\nwas previously in THT, now in nova-base role.\n\nUse step 3 for ::nova since we need it for database resources.\n\nAlso make sure nova base profile is included for conductor role and any\nnova pacemaker role.\n\nChange-Id: I45244861082edae616f2b82334e7678cefa97bc7\nImplements: blueprint refactor-puppet-manifests\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Redis: Share the same base class\n\n... instead of maintaining the complete independent implementations for\nthe same service.\n\nChange-Id: I7213b66bd8a4feecef15e760771fff6cf960826e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Make sure the resource bundles use a location_rule\n\nIn composable HA we bind resources to nodes that have special\nnode properties. We need to do this also for bundle resources\notherwise there is a potential race where the bundle might be\nstarted on nodes where it is not supposed to during a small\nwindow of time.\n\nTested with the depends-on and correctly obtained a containerized\ncomposable HA deployment:\n\nDocker container set: rabbitmq-bundle\n[192.168.24.1:8787/tripleoupstream/centos-binary-rabbitmq:latest]\n  rabbitmq-bundle-0    (ocf::heartbeat:rabbitmq-cluster):      Started overcloud-rabbit-0\n  rabbitmq-bundle-1    (ocf::heartbeat:rabbitmq-cluster):      Started overcloud-rabbit-1\n  rabbitmq-bundle-2    (ocf::heartbeat:rabbitmq-cluster):      Started overcloud-rabbit-2\nDocker container set: galera-bundle\n[192.168.24.1:8787/tripleoupstream/centos-binary-mariadb:latest]\n  galera-bundle-0      (ocf::heartbeat:galera):        Master overcloud-galera-0\n  galera-bundle-1      (ocf::heartbeat:galera):        Master overcloud-galera-1\n  galera-bundle-2      (ocf::heartbeat:galera):        Master overcloud-galera-2\nDocker container set: redis-bundle\n[192.168.24.1:8787/tripleoupstream/centos-binary-redis:latest]\n  redis-bundle-0       (ocf::heartbeat:redis): Master overcloud-controller-0\n  redis-bundle-1       (ocf::heartbeat:redis): Slave overcloud-controller-1\n  redis-bundle-2       (ocf::heartbeat:redis): Slave overcloud-controller-2\nip-192.168.24.11       (ocf::heartbeat:IPaddr2):       Started overcloud-controller-0\nip-10.0.0.7    (ocf::heartbeat:IPaddr2):       Started overcloud-controller-1\nip-172.16.2.11 (ocf::heartbeat:IPaddr2):       Started overcloud-controller-2\nip-172.16.2.9  (ocf::heartbeat:IPaddr2):       Started overcloud-controller-0\nip-172.16.1.6  (ocf::heartbeat:IPaddr2):       Started overcloud-controller-1\nip-172.16.3.7  (ocf::heartbeat:IPaddr2):       Started overcloud-controller-2\nDocker container set: haproxy-bundle\n[192.168.24.1:8787/tripleoupstream/centos-binary-haproxy:latest]\n  haproxy-bundle-docker-0      (ocf::heartbeat:docker):        Started overcloud-controller-0\n  haproxy-bundle-docker-1      (ocf::heartbeat:docker):        Started overcloud-controller-1\n  haproxy-bundle-docker-2      (ocf::heartbeat:docker):        Started overcloud-controller-2\n\nDepends-On: I44449861cbfe56304b8829c9ca10fd648353b3ae\nChange-Id: I48fb490040497ba08cae19937159c0efdf99e3f8\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Better way to ensure keepalived before haproxy.\n\nThe lastest patchset of https://review.openstack.org/393361 was actually\nnot working.\n\nThe `if defined` idiom depends on *evaluation* order.\n\nAt the time it's red in the haproxy.pp class, the line that loads the\nclass 'haproxy' has still not yet been reached and thus the `defined`\nresult is false. The constraint is not added.\n\nFor this reason, the use of `defined` in module is not advised by\npuppetlabs[1].\n\n[1] https://docs.puppet.com/puppet/latest/reference/function.html#defined\n\nChange-Id: Ibd352cb313f8863d62db8987419378bed5b87256\nRelates-To: #1638029\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Handle galera_node_names being an array\n\nPrepare the pacemaker mysql manifest that galera_node_names will be an\narray. Stay backwards compatible to handle comma-delimited-string too\nand avoid a chicken-and-egg patch problem between t-h-t and\npuppet-tripleo.\n\nChange-Id: Ia0d9d59728c8771974bfbc486f4929b99a38e4fb\nPartially-Implements: blueprint custom-roles\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Update UI language list\n\nChange-Id: I848b3cc747f1be06aeda57ba15d4ec557c23ad46\nDepends-On: Idf3d82058d87d9c8a3b6d8973d5166043dad2252\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add /etc/ceph into pacemaker bundles\n\nWe missed to mount the Ceph config files into the docker/pacemaker\nprofiles.\n\nChange-Id: I23b6890b4cf7f1e6fe84b6be280dde82218275fc\nCloses-Bug: #1713421\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Fix a typo in mysql.pp\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Use HAProxy for docker-registry endpoint\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Fluentd monitoring interface\n\nThis patch enables deploying fluentd service with enabled REST API\ninterface for monitoring purposes, which we will then use for container\nhealth check.\n\nChange-Id: Ifd31f7a636d91040d2b12314091c834dbec6b2a2\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove INSECURE_REGISTRY from docker_registry.pp\n\nThis patch removes the INSECURE_REGISTRY options from the\ndocker_registry manifest. These configuration options can\nconflict with the configuration done in the docker\nprofile. Furthermore they are not directly related to\nthe docker registry service itself and are better managed\nas part of the other profile.\n\nDepends-On: I9e9c495b9095590dcee14e0705728c68c058d2b5\n\nChange-Id: I6d0cfc9aafd2184161666bb9edcce16a0ec5a06f\nCloses-bug: #1736587\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Enable HAProxy forwardfor option for Horizon.\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Include base apache module in tls_proxy resource\n\nOther services include it by using the vhost resource from openstacklib.\nIf we include a service (such as swift-proxy) that uses the tls_proxy\nresource, and we do so in a separate node or in its own container, it\nwill fail since the base apache module hadn't been included.\n\nChange-Id: I0167e08b0b652618d8a1af792376bcf02c8fcd82\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Update netapp cinder configuration\n\nThe upstream puppet-cinder modules have been updated to remove\ndeprecated paramters. We were still passing in deprecated options for\nthe netapp volume. This change ports the backwards compatibility that\nwas being done in puppet-cinder into puppet-tripleo. This should be\ndropped in a later cycle.\n\nChange-Id: I08f548c7784f4e00add26aafc26a9671f503bb97\nCloses-Bug: #1773188\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Make sure rabbitmq is fully up before creating any rabbitmq resources\n\nRight now after creating the rabbitmq pacemaker resource, we have no\nguarantee that rabbit will be up. Let's add the same mechanism we use\ntoday with the galera-ready exec resource. This gives us the guarantee\nthat once the resource has been created it is up and we can actually\ncreate rabbitmq users (some 3rd party plugins do that, not stock\nTripleO).\n\nSpecifically, we probe that the '{rabbit,' app shows up in the status,\nso we can guarantee that rabbit is running before invoking any other\nrabbitmqctl commands.\n\nChange-Id: Ib37eb2e591f97de54ee6449817ae8d70c6541753\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "SSHD Service extensions\n\nThis change adds an `include` statement to bring in the extra\nfunctionality available from the existing puppet-ssh module in\nalready available in RDO.\n\nBy using puppet-ssh it provides a framework to allow the passing in of\nserver options using just hiera values under ssh::server_options.\nFor example, sshd_config banner can now be passed a server option, as\nwell as all the new parameters outlined in the launchpad issue that\nthe patch references for Closing. For this reason, the former augeas\nsetting for `Banner /etc/issue` is now managed by the main puppet-ssh\nmodule instead.\n\nThe change also allows population of MOTD text to `/etc/motd` as\nwell as `issue.net`.\n\n$bannertext is refactored in accordance with patch [1]\n\n[1] https://review.openstack.org/#/c/442406/\n\nChange-Id: Id329538fb7b623526f1d91d8a513cf3440c86a7c\nCloses-Bug: 1668543\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Fixes binding type for OpenDaylight Websocket\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Neutron: Remove NSX plugin support\n\nDepends-on: https://review.opendev.org/846289\nChange-Id: Id628ff0800b81c98d9f5fa43b8e25e704a817fc1\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Stop using deprecated function mysql_password\n\nFunction mysql_password is deprecated and has been removed\nin recent puppetlabs-mysql [1]. It has been replaced with\nthe equivalent, namespaced function mysql::password. Use it\ninstead.\n\n[1] https://github.com/puppetlabs/puppetlabs-mysql/commit/5a706276741e05088ae596141f28b03e1030a948\n\nChange-Id: I405a986f78f865d89b54dffea17e84d75c068ed7\nCloses-Bug: #1878153\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Support deploying additional internal glance-api service\n\nOSSN-0090 [1] recommends deploying two instances of the glance-api\nservice: a \"user facing\" service, plus an \"internal\" service that is\naccessible via keystone's internal endpoint.\n\nTo support this, the tripleo::profile::base::glance::api class is\nenhanced to allow overriding certain associated glance::api parameters.\nThis makes it possible to override parameters when including the\nglance::api class in order to facilitate configuring two different\ninstances of the glance-api service, each with their own configuration.\n\nThe tripleo::haproxy class is enhanced to provide HA support for running\nthe internal glance-api service on its own TCP port (defaults to 9293).\n\n[1] https://wiki.openstack.org/wiki/OSSN/OSSN-0090\n\nChange-Id: Ideb5a951d538d9e2c7cca11dfe0e8b99520de959\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix noop_resource function with package resource\n\nThe current noop_resource function does not override functions of\nthe package provider properly and results in package installation\nexecuted inside containers.\n\nThis ensures the required functions are mocked.\n\nChange-Id: I599f2f3bd6a11fd72e0b34b9ef3752b721ab9688\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Pacemaker: only create DB on pacemaker master\n\nThis fixes a bug introduced in 72fb6727951af2cf5b16e686b3a36f5f3a7c71c7\nwhere non-master nodes would try to create the database (and potentially\nfail due to a race).\n\nChange-Id: Ic0c7b05618b69caca0d4019b5153163f2405bbe5\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Implement Nova vncproxy profile\n\nChange-Id: I5bc2a77b5832706bd9167cf40e5a7e0f95d7b346\nImplements: blueprint refactor-puppet-manifests\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Set memcache_servers in /etc/swift/object-expirer.conf\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable X-Forwarded-Proto header for cinder\n\nChange-Id: I3bd836140537fc5b7e3fba600a712d6a9d6f1185\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Create bigswitch agent profile\n\nCreate a tripleo profile for the bigswitch neutron agent configuration\nto be consumed by THT.\n\nChange-Id: I7a8f7f73c9c8446e21c16a5c378bd7e0f0a4c94e\nPartial-Bug: #1674791\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable networking-mlnx ml2 drivers\n\nDepends-On: Ife22d7c113c33d6e42a94b9d6c32ed8cb61d6488\nChange-Id: I805bdfc6f2bed8f998f73d3e17a4c2ab493f5717\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Neutron: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: Ifa4bd5ff6a9f90c943fef34617bd70fa36bd9288\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Uncomment internal TLS options for placement API\n\nPlacement API is still running over wsgi which can run with TLS on the\ninternal network; These options were commented from haproxy and doing\nthis breaks the TLS-everywhere setup.\n\nChange-Id: I1194f1f487cdcf45541c0d139806aa3dc4456d6e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Drop all non bundle implementations\n\nWe dropped support for non-containerized HA stuff in queens,\nkeeping all these manifests around brings very little and probably\nslows each puppet invocation down a little bit.\n\nNote: this is only dropping the non-containerized HA manifests, the\ncontainerized HA manifests are being preserved.\n\nThere do not seem be other classes referencing these (besides the\nTHT dep-on):\n$ for i in 'profile::pacemaker::database::(mysql|redis)' 'profile::pacemaker::cinder::(backup|volume)' 'profile::pacemaker::haproxy' 'profile::pacemaker::rabbitmq'; do\n    grep -ir -P \"^[^#].*$i\" manifests\n  done\n\nmanifests/profile/pacemaker/database/mysql_bundle.pp:class tripleo::profile::pacemaker::database::mysql_bundle (\nmanifests/profile/pacemaker/database/redis_bundle.pp:class tripleo::profile::pacemaker::database::redis_bundle (\nmanifests/profile/pacemaker/cinder/backup_bundle.pp:class tripleo::profile::pacemaker::cinder::backup_bundle (\nmanifests/profile/pacemaker/cinder/volume_bundle.pp:class tripleo::profile::pacemaker::cinder::volume_bundle (\nmanifests/profile/pacemaker/haproxy_bundle.pp:class tripleo::profile::pacemaker::haproxy_bundle (\nmanifests/profile/pacemaker/haproxy_bundle.pp:  $haproxy_docker_image = hiera('tripleo::profile::pacemaker::haproxy::haproxy_docker_image', undef),\nmanifests/profile/pacemaker/rabbitmq_bundle.pp:class tripleo::profile::pacemaker::rabbitmq_bundle (\n\nDepends-On: I60b92234a8b41b1843e702ff238dd8b6e94dd6e2\n\nChange-Id: Id1340c45679d720cdf5ed9b5b15347d73cffc445\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Deploy nova::db classes in api profile\n\nMove nova::db classes from THT to puppet-tripleo in Nova API profile.\n\nImplements: blueprint refactor-puppet-manifests\nChange-Id: I4fc3cb822822adc1c58b2cfa2de8584a73fa6427\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Heat: Manage policy settings in heat-engine\n\nThe heat-engine service requires access to policy rules so that it can\nenforce resource type policies. This change ensures the policy file and\nthe related oslo.policy options are configured in the heat-engine\nservice.\n\nChange-Id: I56511722315f265c6a88c2e112571fe70b6cebf4\nPartial-Bug: #1983342\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove mistral\n\nMistral has been deprecated since Wallaby and is being removed from\ntripleo-heat-templates\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/809462/\nChange-Id: I55bb229f3c488f6fd943e99178f85a9c6dc47030\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Increase websocket timeout\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Replace enabled languages with excluded languages in UI\n\nChange-Id: I14d2c8d11abb1df17759e2a9d4ae6b9ccebbe30f\nDepends-On: Idf5a3314c19be18ca6cabbae1e94bc7cb1d1fe94\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Enable X-Forwarded-Proto header for keystone_public\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Add support to configure pcsd bind address\n\nAdd support to configure pcsd bind address so that we can\nmake pcsd listen on specific address instead of all interfaces\non the node.\n\nRelated-Bug: #1856626\nDepends-on: https://review.opendev.org/#/c/697942\nDepends-On: https://review.opendev.org/700250\nChange-Id: I442b190b6fa429ee3a81fd2ea84ada6ed9bca7d2\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix grafana haproxy frontend ip variable\n\nGrafana could be exposed along with ceph dashboard\nbut it's actually embedded by in a view created for\nthis purpose.\nFor this reason the ceph-dashboard component should\nbe able to reach grafana or the requests will fail.\n\nCloses-Bug: #1868118\nChange-Id: I7894c51d18961c5cab7ac62e5eec5d515e2667c8\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fill sslProfile only when it is defined\n\nCurrently when it is not defined the config contains sslProfile: undef which\nmakes nterior QDR communication malf`unctioning.\n\nChange-Id: I62edac42204b28d9a81789723b331c79aa3358a6\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Prevent systemd unit files to be created to restart services\n\nThis patch removes the code that create/modify Systemd unit files so the\nservices restart. We did it after Newton when we switched the services\nto be managed under Systemd to automatically restart.\n\nWith containers, we don't want / need that anymore.\nIn Pike, Queens and Rocky, containers are restarted by the Docker\nEngine.\nIn Stein, containers are restarted by Systemd (which restart podman\ncontainers) but the unit files are now managed by Paunch.\n\nTo avoid weird behaviors, let's clean this up.\n\nChange-Id: I82dca36b3c9ebf4243d270ac91ffbf6ad56d6ca6\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add Swift dispersion profile\n\nThe swift-dispersion-populate command needs to be called when Swift and\nKeystone are up and running, and therefore we need to ensure this is\nrunning in step 5 or later.\n\nChange-Id: I5b4c08c252b6083dace5a65367920c475de416ce\n",
        "issue_summary": ""
    },
    {
        "commit_message": "ceilo:base: include ::ceilometer::dispatcher::gnocchi\n\nhieradata was defined in THT but the class wasn't included so we missed\ndispatcher parameters.\n\nChange-Id: Iaf7268153776e76584b86a3539833de922b88f16\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Use verify_on_create when creating pacemaker remote resources\n\nWe currently create remote resources without waiting for their creation.\nThis leads to the following potential race (spotted by Marian Mkrcmari):\n- On Step1 pacemaker bootstrap node creates the resource but the remote\n  resource is not yet created\n- Step1 completes and Step2 starts\n- On Step2 the remote node sets a property (or calls pcs cib) but the\n  remote is not yet set up so 'pcs cluster cib' will fail there with:\n\n    (err): Could not evaluate: backup_cib: Running: /usr/sbin/pcs cluster\n    cib /var/lib/pacemaker/cib/puppet-cib-backup20170506-15994-1swnk1i failed\n    with code: 1 ->\n\nNote that when verify_on_create is set to true we are not using the cib\ndump/push mechanism. That is fine because we create the remotes on\nstep1 and the dump/push mechanism is only needed starting from step2\nwhen multiple nodes set cluster properties at the same time.\n\nTested by Marian Mkrcmari successfully as well.\n\nCloses-Bug: #1689028\n\nChange-Id: I764526b3f3c06591d477cc92779d83a19802368e\nDepends-On: I1db31dcc92b8695ab0522bba91df729b37f34e0f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable collectd to send metrics to Gnocchi\n\nAdds classes for collectd gnocchi plugin configuration.\n\nChange-Id: I9258b5d7cc23b6c19708df2beb7e29484e5c9234\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add cell_v2 setup for nova\n\nWe need to run the basic cell v2 setup for nova as it is required for\nOcata.\n\nChange-Id: I693239ff5026f58a65eb6278b1a8fcb97af4f561\nDepends-On: I43ba77cd4c8da7c6dc117ab0bd53e5cd330dc3de\nDepends-On: I9462ef16fd64a577c3f950bd121f0bd28670fabc\nCloses-Bug: #1649341\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add missing nfs_mount_options for Cinder Netapp backend\n\nAdd nfs_mount_options parameter when instantiating cinder::backend::netapp.\nThe value maps to the CinderNetappNfsMountOptions THT parameter.\n\nCloses-Bug: #1773013\nChange-Id: I0f6fff63a5c3d795572c8f4df98d45ae486ca19d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Make sure we create stonith resources before stonith levels\n\nCurrently stonith levels kind of work out of pure luck. If puppet\ndecides to reorder resources stonith levels can fail with:\n\n            \"Error: /Stage[main]/Tripleo::Fencing/Pacemaker::Stonith::Level[stonith-1-525400e05b23]/Pcmk_stonith_level[stonith-level-1-$(/usr/sbin/crm_node -n)-stonith-fence_ipmilan-525400e05b23]/ensure: change from absent to present failed: pcs -f /var/lib/pacemaker/cib/puppet-cib-backup20200305-60559-tn9ici create failed: Error: Stonith resource(s) 'stonith-fence_ipmilan-525400e05b23' do not exist, use --force to override\"\n\nNowhere in the code do we mandate that the single stonith resources need\nto be created *before* the stonith levels which make use of them.\nLet's add a constraint via collectors so we enforce this ordering.\n\nTested on the environment that was not working and got a correctly\ndeployed IHA overcloud.\n\nChange-Id: I78cb6ae21366a429b65a8357b3b267a485484a42\nCloses-Bug: #1866214\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Glance: Use defaults defined in puppet-glance\n\nCurrently we override default values for backend manifests by undef\nbut because of this we already need to define each parameters otherwise\npuppet-glance raises validation failure or set empty values.\nThis change removes that redundant overrides and make puppet-tripleo\nrely on defaults in puppet-glance (and most of them are\n$::os_service_default which result in defaults in glance itself)\n\nChange-Id: If0c356ed1a6497fda2e8e8b040aaf917c0de5238\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Remove fluentd manifests\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Revert \"Pin puppet-redis to 8.0.0\"\"",
        "issue_summary": ""
    },
    {
        "commit_message": "loadbalancer: drop undef on required params\n\nThis should allow puppet to validate the required params.\n\nChange-Id: I16b6ae1a9fbcb388bfe5a2a95022a2fdffbf0cd1\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Vpp: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: I60c0ecc05f8029f8ac8cd155490685a0fb254c07\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Do not manage pv/vg for cinder iscsi backend\n\nThey are currently created within tripleo-heat-teampltes, so there are\nno reasons why we should create it by puppet.\n\nChange-Id: Icd8730aa4d47bb1059321014d5e8b2c5c323976a\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Do not set cache parameter for openidc\n\n... because now the parameter is defined in tht.\n\nDepends-on: https://review.opendev.org/#/c/724870/\nChange-Id: I19dc7e041a3c5afff348e897150c61f1c0d70969\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Added X-Forwarded-Proto headers for horizon\n\nWhen enabling federated authentication with keystone, and then enabling websso\nin horizon, the URL horizon constructs for the redirect is done internally, and\ndjango needs to be able to know if it has to construct the url with http or\nhttps. By setting this header at the haproxy level, horizon can make the correct\ndecision.\n\nChange-Id: I0281fe1e5efa0d3f5983342dec70752246d9fca8\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove k8s from haproxy\n\nk8s service has been deprecated and is being removed from THT; we don't\nneed that code anymore.\n\nChange-Id: I31765715d86546955ca39540d15b247bafdb403f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add a trigger to call ldap_backend define\n\nLdap_backend is a define so we need a resource to talk it. If\nldap_backend_enable set by tripleo-heat-templates, we call the\nldap_backend as a resource.\n\nGiven an environment such as the following:\n\nparameter_defaults:\n  KeystoneLdapDomainEnable: true\n  KeystoneLDAPBackendConfigs:\n    tripleoldap:\n      url: ldap://192.0.2.250\n      user: cn=openstack,ou=Users,dc=redhat,dc=example,dc=com\n      password: Secrete\n      suffix: dc=redhat,dc=example,dc=com\n      user_tree_dn: ou=Users,dc=redhat,dc=example,dc=com\n      user_filter: \"(memberOf=cn=OSuser,ou=Groups,dc=redhat,dc=example,dc=com)\"\n      user_objectclass: person\n      user_id_attribute: cn\n      user_allow_create: false\n      user_allow_update: false\n      user_allow_delete: false\n  ControllerExtraConfig:\n    nova::keystone::authtoken::auth_version: v3\n    cinder::keystone::authtoken::auth_version: v3\n\nIt would then create a domain called tripleoldap with an LDAP\nconfiguration as defined by the hash. The parameters from the\nhash are defined by the keystone::ldap_backend resource in\npuppet-keystone.\n\nMore backends can be added as more entries to that hash.\n\nPartial-Bug: 1677603\nCo-Authored-By: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nCo-Authored-By: Guillaume Cor\u00e9 <gucore@redhat.com>\nSigned-off-by: Cyril Lopez <cylopez@redhat.com>\nChange-Id: I1593c6a33ed1a0ea51feda9dfb6e1690eaeac5db\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Change haproxy check to tcpka for ec2_api\n\nEC2-API always returns HTTP code 400 if not properly authorized,\ntherefore httpchk is not working, since it's expecting an 200 OK.\nChanging to tcpka for now, until EC2-API implements a URL that is\nsuitable for healthchecks.\n\nChange-Id: Ic8ec8cdd4dc59e3768c06912ceb8a91b425b0a06\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add puppet profile for swift storage\n\nBreaks out the swift storage configuration from t-h-t to a\ncomposable profile\n\nChange-Id: Ie68d7eccf4938bdbdea93327af0638b3fd002b3e\nPartially-Implements: blueprint refactor-puppet-manifests\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Adding listen_options for Contrail Webui https in haproxy\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Adds etcd\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Fix haproxy ceph dashboard condition\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Split up neutron-lbaas service plugin and agent\n\nSplitting up service plugin and agent allows operators to deploy\nneutron-lbaas with greater granularity over what one wants to get\ninstalled configured. For example, one may want to configure only one of\nthe two.\n\nChange-Id: If3af333b34d2af764d111d49e981f9d3a170d803\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Include ironic::drivers::interfaces in the ironic-conductor profile\n\nThis enables configuring new-style drivers (aha hardware types).\n\nPart of blueprint ironic-driver-composition\n\nChange-Id: I72eb8b06cca14073d1d1c82462fb702630e02de3\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Fix a typo in haproxy.pp\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Nova: Remove unused migration proxy\n\nThe migration proxy service was added to allow migration between Ocata\nto Pike[1], but is not longer used since Stein[2].\n\n[1] https://review.opendev.org/c/openstack/puppet-tripleo/+/501204\n[2] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/625979\n\nChange-Id: Ie30cda77433c6a51a81f42531e24fca66c93679a\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Ensure keepalived is restarted when necessary.\n\nIf os-collect-config/config.json is updated before an upgrade/update,\nthen the os-net-config run will automatically erase the keepalived\nmanaged ips.\n\nThis is a hackish way to ensure that keepalived is restarted during the\nnext phase in order to have the ip recreated.\n\nIt basically adds a comment line to the keepalived.conf file (making it\ndifferent than the puppet one) if it's there. This will force a puppet\nrestart of the keepalive service puting the ips back on the undercloud.\n\nChange-Id: I56b706ff44ba31aa87a63f870940831ce02a6e77\nCloses-Bug: #1640213\nRelated-Bug: #1638029\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Do not include the ssh::server class directly\n\n... to avoid the duplicate declaration of the ssh::server class we've\nseen since https://github.com/saz/puppet-ssh/pull/318 was merged.\n\nThere is an open PR[1] in puppet-ssh repo, which makes the server\nclass private. This change also works as pre-emptive fix for that\nbreaking change.\n\n[1] https://github.com/saz/puppet-ssh/pull/325\n\nCloses-bug: #1966625\nChange-Id: I9c5b174e0c8377d50b9b306456d2b2147c5f38b8\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix rabbitmq staged upgrade\n\nFix the short name overriding, and add long name (fqdn) overriding.\n\nChange-Id: Ia152aed696be15119ba5b75177ef82bc786c4b05\nPartial-Bug: #1832588\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Implement stonith levels and enable kdump agent.\n\nThis commit extends the stonith generation logic to allow operators\nto make use of fencing levels.\nGiven a fence.yaml file like the following:\n\nparameter_defaults:\n  EnableFencing: true\n  FencingConfig:\n    devices:\n      level1:\n      - agent: fence_agent1\n        host_mac: aa:bb:cc:dd:ee:ff\n        params:\n          someparam: somevalue\n      level2:\n      - agent: fence_agent2\n        host_mac: aa:bb:cc:dd:ee:ff\n        params:\n          someotherparam: someothervalue\n\nThe code iterates over the \"levelX\" key and creates the respective\nstonith resources and adds them to the specified stonith level.\n\nIt should be backwards compatible since it checks if \"devices\" is\nan array (no level specified) and reconducts this case to level=1.\n\nExample results below.\n\n* without levels:*\n\nhieradata:\n\n    \"tripleo::fencing::config\": {\n        \"devices\": [\n            {\n                \"agent\": \"fence_ipmilan\",\n                \"host_mac\": \"e4:43:4b:4b:c8:19\",\n\n[root@overcloud-controller-0]# pcs status\n...\n\n stonith-fence_ipmilan-e4434b4bc819     (stonith:fence_ipmilan):        Started overcloud-controller-1\n\n[root@overcloud-controller-0]# pcs stonith level\nTarget: overcloud-controller-0\n  Level 1 - stonith-fence_ipmilan-e4434b4bc819\n\n* with levels: *\n\nhieradata:\n\n    \"tripleo::fencing::config\": {\n        \"devices\": {\n            \"level1\": [\n               {\n               \"agent\": \"fence_ipmilan\",\n               \"host_mac\": \"e4:43:4b:4b:c8:19\",\n            ...\n            \"level2\": [\n               {\n               \"agent\": \"fence_kdump\",\n               \"host_mac\": \"e4:43:4b:4b:c8:19\",\n\n[root@overcloud-controller-0 ]# pcs status\n...\n stonith-fence_ipmilan-e4434b4bc819     (stonith:fence_ipmilan):        Started overcloud-controller-1\n stonith-fence_kdump-e4434b4bc819       (stonith:fence_kdump):  Started overcloud-controller-2\n\n[root@overcloud-controller-0 ]# pcs stonith level\nTarget: overcloud-controller-0\n  Level 1 - stonith-fence_ipmilan-e4434b4bc819\n  Level 2 - stonith-fence_kdump-e4434b4bc819\n\nChange-Id: I42033be840ba41e9944af65815a63059834144e9\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Switch HA containers to k8s-file log-driver and make it a parameter\n\nCurrently in puppet-tripleo for the HA container we hardcode the following:\n options => \"--user=root --log-driver=journald -e KOLLA_CONFIG_STRATEGY=COPY_ALWAYS${tls_priorities_real}\",\n\nSince at least podman had some changes in terms of supported driver\nbackends (and bugs) it's best if we make this configurable. While we're\nat it we should also switch to k8s-file as a driver when podman is being\nused which is what all other containers are using. When docker is the\ndefault container_cli we will stick to journald as usual.\n\nTested this on a Train environment and successfully verified that\nwe still see the correct logs in /var/log/containers/.../...\n\nChange-Id: I5b1483826f816d11a064a937d59f9a8f468315a5\nCloses-Bug: #1853517\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix docker debug/mirrors JSON augeas changes\n\nCloses-bug: #1762475\n\nChange-Id: I3c6f47751af1c8050dd0a635bda058e4782c0d17\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Enable internal network TLS for etcd\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Define nova::cache parameters in tht\n\nMigrate parameter definitions for nova::cache module from\npuppet-tripleo to tht, so that we can be less dependent on puppet\nto set configurable items.\n\nDepends-on: https://review.opendev.org/#/c/716988/\nChange-Id: I796196f7a6e0f1235ac269a55e64161613018b1d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Change neutron backend's timeout in haproxy to 10 minutes\n\nWhen client makes some heavy API requests to the Neutron API, like\ne.g. some bulk request to create many ports at once it may happen that\nNeutron will process the request for much longer than 2 minutes, which\nis default server timeout in the haproxy's configuration for backends.\nIt happens e.g. with Kuryr.\n\nBecause of that, haproxy returns to the client HTTP 504 but Neutron API\nis still processing API requests and finally it finishes properly.\nBut client may then try to retry to request which failed with 504 error\nthus finally it may end up with duplicated resources created.\n\nTo avoid that, this patch increases server timeout for the neutron api\nbackend to 10 minutes.\n\nCloses: rhbz#2083245\nChange-Id: I0b59053618247d2a6d62d1c9e69173f3ff1d2922\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Disable legacy ceilometer api by default\n\nCeilometer api is deprectaed in Ocata. Lets disable by default.\nThis can still be enabled by setting enable_legacy_ceilometer_api\nparam.\n\nChange-Id: Iffb8c2cfed53d8b29e777c35cee44921194239e9\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Reload iptables instead of restart\n\nDue to bz#1520534, restarting iptables may cause unrelated kernel\nmodules to be unloaded. In order to not trigger this condition we should\nreload iptables from the configuration rather than restart the whole\nprocess.\n\nChange-Id: Ifc625eb51f6cc2a0a4cf4f83ac7a4978db641d75\nCloses-Bug: #1752441\nCloses-Bug: #1753492\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Run nova-cell_v2-discover_hosts at step 5\n\nWe need to run nova-cell_v2-discover_hosts at the very end of the\ndeployment because nova database needs to be aware of all registred\ncompute hosts.\n\n1. Move keystone resources management at step 3.\n2. Move nova-compute service at step 4.\n3. Move nova-placement-api at step 3.\n5. Run nova-cell_v2-discover_hosts at step 5 on one nova-api node.\n6. Run neutron-ovs-agent at step 5 to avoid racy deployments where\n   it starts before neutron-server when doing HA deployments.\n\nWith that change, we expect Nova aware of all compute services deployed\nin TripleO during an initial deployment.\n\nDepends-On: If943157b2b4afeb640919e77ef0214518e13ee15\nChange-Id: I6f2df2a83a248fb5dc21c2bd56029eb45b66ceae\nRelated-Bug: #1663273\nRelated-Bug: #1663458\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Install rsync package for galera\n\nSince galera is configured to use rsync, we ought to make sure the\npackage is installed. Particularly when using deployed-server, the\npackage is not always installed by default depending on what was used to\ninstall the servers.\n\nChange-Id: I92ee78f2dd2c0f7fd4d393b104166407d7c654e2\nCloses-Bug: #1693003\n",
        "issue_summary": ""
    },
    {
        "commit_message": "[Pure Storage] Add new params for FlashArray Cinder driver\n\nDepends-On: Ia48fa3fa8ce3a3563fdab0966dc5a44f30248bc8\nChange-Id: I9ab50d6c0835ea69044249f1cbbbf10f9b6a2498\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add virtual_packages support to norpm provider\n\nThe norpm provider is supposed to noop package installs/updates but if a\npackage name in puppet does not match the installed package, it is being\nreported as not installed.  The provider then 'installs' it every time\nwhich can trigger unwanted service restarts.\n\nChange-Id: Icdfa6567168f9ecc555489ed67405f98544bd910\nCloses-Bug: #1665405",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable support for Libvirt modular daemons\n\nThis change enables support for modular libvirt\ndaemon configurations.\n\nAlso deprecating modular_libvirt param so that modular-libvirt\nis default configuration and once we remove non-modular libvirt\nconfiguration in next release, this param can be removed.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-nova/+/785305\nCo-Authored-By: Bogdan Dobrelya <bdobreli@redhat.com>\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nChange-Id: Id9c1bfcc88f60f61877fe34b1ee01677d3bcc1b0\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Horizon: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: If97a39d7ffe3cc85646fb49216daeb01e22da7f0\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Ensure directory exists for certificates for httpd\n\nWe used to rely on a standard directory for the certificates and keys\nthat are requested by certmonger. However, given the approach we plan to\ntake for containers that's described in the blueprint, we need to use\nservice-specific directories for the certs/keys, since we plan to\nbind-mount these into the containers, and we don't want to bind mount\nany keys/certs from other services.\n\nThus, we start by creating this directories if they don't exist in the\nfilesystem and adding the proper selinux labels.\n\nbp tls-via-certmonger-containers\n\nChange-Id: I0b71902358b754fa8bd7fdbb213479503c87aa46\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Make keystone notification topics configurable\n\nBy default keystone sends notifications to the 'notifications'\ntopic. This is consumed by default by ceilometer. However, when\nceilometer is not enabled, rabbitmq accumulates these notifications\nsince nothing is consuming them. This results in the queue consuming\nrabbitmq's memory.\n\nWith this capability, we can now dynamically configure notification\ntopics depending on the 'keystone_notification_topics' hiera key.\n\nRelated-Bug: #1729293\nChange-Id: I4dcce73446633c08ea37ba567610eec398094036\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Noop start/stop/restart action for Glance and Keystone in the roles\n\nChange-Id: I1d95746cb990292462106c191987147eba30ee61\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Revert \"Use TLS proxy for Redis' internal TLS\"\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Add support for not using admin_token in Ceph/RGW\n\nThis patch add the option for using Keyston V3 authention with\nthe Ceph/RGW service instead of using the admin_token\n\nChange-Id: I42861afcac221478dcb68be13b6dbc2533a7f158\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Moved loadbalancer.pp to top level.\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Allow use of raw disks for Swift storage role\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Allow not setting hiera cephfs_enable_snapshots\n\nThis option isn't mandatory, and is being\ndeprecated.\n\nChange-Id: Iedee7838587f9ff12118602663ad55ede1be2902\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enables websocket based port status for OpenDaylight\n\nPort Status in ODL was previously disabled due to bugs which have now\nbeen resolved.  This patch enables it via Neutron ML2 conf.  Port status\nis communicated by ODL through a websocket connection on port 8185.\nTherefore we need to enable haproxy to load balance across that port.\n\nRelated-Bug: 1718508\n\nChange-Id: Iebdcc6404f5503eeb45b39380b3f198be175514b\nSigned-off-by: Tim Rozet <trozet@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix enabling zaqar keystone endpoint and MySQL database\n\nThe zaqar service name switched to zaqar-api[1], so the hieradata key\nis zaqar_api_enabled now instead of zaqar_enabled.\n\n[1] I9b451eac4427a52ad8eec62ff89acc6c6d3ab799\n\nCloses-Bug: #1714213\nChange-Id: I692658337e7afc9d0a99b245f8b0b4f76a076bc4\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Use correct manage_firewall hieradata\n\nThe manage_firewall hieradata was moved to\ntripleo::firewall::manage_firewall but some of the references to it\nwere not updated, which makes it impossible to completely disable\nthe firewall rules.\n\nChange-Id: I5f40f3b8b07bd312cce862aa319b8a1ef331ee49\nCloses-Bug: 1679189\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Set pacemaker cluster_members_addr\n\nWe always set the cluster_members_addr parameter.\nBy adding a dep-on I27b8aa930a7413069539eb4fac13c41822049889\nwe make sure this is a noop when using pcs-0.9 which\ndoes not support knet-clusters where passing an addr is\nrequired.\n\nDepends-On: I2e92bb2424f9d674ba888a8c287a26b69f7d9dff\nDepends-On: I27b8aa930a7413069539eb4fac13c41822049889\nChange-Id: I01d5625eb7fe75e539727daeeab20f2801964865\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Remove the duplicated word\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Add cinder-backup profiles\n\nAdds a Cinder backup profile for Cinder backup service activation\n(to be used in https://review.openstack.org/#/c/304563).\n\nCinder backup uses Swift as a default.\n\nChange-Id: Ib1dfe52b83ab01819fc669312967950e75d8ddf1\nCo-Authored-By: Jon Bernard <jobernar@redhat.com>\nCo-Authored-By: Boris Kreitchman <bkreitch@gmail.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add TLS support for rsyslog\n\nThis patch implements creation of TLS certs and key for Elasticsearch\nconnection.\n\nChange-Id: Ie97449b6f3e5d3a6481e087803d1982d7c6387f3\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Horizon: Manage policy files\n\nThis change enables management of policy files for Horizon so that\ncustomized policy rules are injected into horizon policy files in\naddition to service policy files.\n\nDepends-on: https://review.opendev.org/823715\nChange-Id: Ieefe741d1b1ecad7fc23b6ae8dc2d682df86344b\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix use of deprecated \"api_class\" key manager option\n\nDeprecate the keymgr_api_class input parameter and replace with new\nkeymgr_backend option. This mimics an equivalent set of changes in\npuppet-cinder and puppet-nova, which were driven by a similar change\nin Castellan's key manager options.\n\nThe deprecated value is still supported for backward compatibility.\n\nCloses-Bug: #1732998\nChange-Id: I5036c8de9a429f22e1828b4e37735f4aa47bd858\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Configure switchedv while there is no vfs bounded\n\nWhen configuring vf-lag, it will not work properly when configuring switchdev\ncapability while there are some vfs bounded.\nSo removing all the binding codes as it's not needed anymore.\n\nCloses-Bug: 1809733\nChange-Id: I135cef33bece6fd31363e093e53617caac413ce0\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove unnecessary usage of hiera\n\nWe don't need to use the hiera function if the parameter is defined\nin the class itself.\n\nChange-Id: Ibb9f9291c24b4f4541640639a9f7c6f39db292a0\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Only run designate pool update on bootstrap node\n\nThis needs to only run on a single node or database conflicts can\nhappen.\n\nChange-Id: I529869f3cfdda6d829c366e37e15cb3203b6dff6\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Support for Dell EMC SC Volume Config\n\nAdded support for SC volume config options.\nSupports both iSCSI and FC drivers.\nSupports deploying multiple instances of the\ncinder::backend::dellemc_sc backend\n(e.g. one iscsi + one fc, multiple iscsi, etc.).\n\nChange-Id: I2f441a9df5bda4e1c646b3259d233f760fd3e742\n",
        "issue_summary": ""
    },
    {
        "commit_message": "mysql_bundle: Remove redundant override of mysqld options\n\nThese options are already defined in the underlying mysqld manifest\nwith the same values.\n\nChange-Id: I88745bcb640149ad773e1a4eee90b6d06b0d431f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Pin puppet-systemd\n\npuppet-systemd recently added a breaking change to pull the module\nparameter defaults via hiera. This only works in puppet >= 4.10.0 which\nwe are not using. So we need to pin to an earlier commit since we're\nusign 4.8.x.\n\nChange-Id: I11c8372eb20d9ff67bcc91897118061d7f193a54\nCloses-Bug: #1755211\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove faulty migration logic to stop nova-api\n\nThe patch making nova run over httpd had added migration logic to\nstop nova-api, However, this doesn't work since nova-metadata is\nrunning over the same process. Now, the fact that is was running\nseems to be just luck, since the systemctl runs, then we start the\nservice via the nova::api resource. So this is fragile in it's\ncurrent state.\n\nThis then removes the exec, as we don't need it for the migration.\n\nChange-Id: I4603b81d30a704b07eef461b3cdbfe164614b04f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"nova/api: purge archive_deleted_rows via cron\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Reload HAProxy when certificate is renewed\n\nThis is meant to fix the issue of the certificate renewal not\nautomatically restarting/reloading the haproxy service.\n\nIt's all done by a script that's installed by puppet.\n\nPreferably this patch and the one pointed by this should merge at the\nsame time.\n\nCo-Authored-By: Grzegorz Grasza <xek@redhat.com>\nNeeded-By: Id409899bf04e7f9f2653e6c48cfebd0a92ca2d08\nChange-Id: I5d91f8d9b5cd4f86ae0511a69e58858c5dccd35d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Support composable HA for the Ceph rbdmirror daemon\n\nFollow up patch for I63da4f48da14534fd76265764569e76300534472\nto support composable HA for the Ceph rbdmirror daemon.\n\nChange-Id: I3767bee4b1c7849fa85e71bcc57534b393d2d415\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable octavia certificate configuration\n\nThis change enables configuration of certificate based properties in\nOctavia for setting up secure communication with amphorae.\n\nChange-Id: I164da1228397f9a900118cae377b55f79c4fadaf\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Include neutron::db\n\nSee [1] also need to move database_connection in THT [2]\nto neutron::db::database_connection.\n\n[1] https://review.opendev.org/#/c/737497/\n[2] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployment/neutron/neutron-api-container-puppet.yaml#L263\n\nChange-Id: I6d6c8e52e37fb1cce4cd6cf1ac9d0b8e20151ace\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Ensure /etc/docker/daemon.json\n\nA recent Centos docker packaging change removed the default\n/etc/docker/daemon.json file. As such we need to create an empty\njson file if none exists before running Augeas to configure\nthe settings.\n\nChange-Id: Ibfe04b468639002f55da7bb65d2606f730c700b7\nCloses-bug: #1684297\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Drop un-needed 'else' in noop_resource\n\nChange-Id: Id45ac93d482ff23c4c834e2d345a926fc408573f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add support to configure virtlogd\n\nInclude nova::compute::libvirt::virtlogd to manage virtlogd\nconfiguration.\n\nDepends-on: https://review.opendev.org/#/c/685024/\nChange-Id: I3d28680b4cf18c06b799e329639bb424e63d1368\n",
        "issue_summary": ""
    },
    {
        "commit_message": "ironic-inspector: Allow arbitrary configurations\n\nThis change allows arbitrary configurations of inspector.conf, so that\nusers can customize the parameters even if these are not supported by\npuppet-ironic.\n\nDepends-on: https://review.opendev.org/823613\nChange-Id: Ibdaf0ce1f0b03de19015bee61ff60cdb9c3b6ba0\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add retries to the ::pacemaker::stonith property\n\nLet's set a default number of retries also for the stonith\nproperty creation. Just like we do for most of the composable\nHA resource creation.\n\nChange-Id: Ie6e19cc838a3f45100f6c98a350bdf6a37d40590\nDepends-On: I20098c5d69cde356fe79f6d8dbdc03ae42ecb3ef\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Swift add_devices.pp IPv6 handling\n\nAdd brackets to IPv6 addresses before forming $object from $base\n\nChange-Id: I4568d538561a0102b69f331a122d4989333a3bfa\nCloses-Bug: #1623096\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Set balance to source for openshift_master endpoints\n\nCurrently the haproxy loadbalancer set by TripleO uses balance\nroundrobin. According to this Openshift HA configuration example[1]\nit uses balance source for both the API and the router backends.\nThis way we ensure that all traffic from a user\u2019s session goes to\nthe same node(sticky sessions).\n\n[1] https://blog.openshift.com/keeping-both-of-your-openshift-container-platforms-highly-available-with-keepalived-and-haproxy/\n\nChange-Id: I6db94513420609a64ac2f2a6238b5eaaea9a7dca\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Qdr: InternalTLS support.\n\nConfiguration changes to provide Internal TLS support\nfor Qdr.\n\nChange-Id: I30142db8bfa55412b8c8224aeb05916184117a86\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove setting root user for ovn dbs pacemaker bundle\n\nThis patch removes the option \"--user=root\" from the docker options.\nRight now the kolla image - ovn-northd which is used for ovn dbs pacemaker\nbundle doesn't set the user 'openvswitch'. So even after this patch\nis merged, the ovn bundle will be started as root user.\n\nThis patch is 1st step towards running ovn dbs pacemaker as a non root user.\n\nIt requires changes in\n - in ovn-northd kolla image and\n - in the ovn-dbs.yaml pacemaker service file in T-H-T to give the proper\n   permissions to the log and data folders\nto run the ovn pacemaker bundle as a non root user which will be handled\nin follow up patches.\n\nRelated-bug: #1781534\nChange-Id: I32f37522b012967f12c459cdf4cf14c43c079231\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix Undercloud masquerading firewall rules\n\nIterate over destination for each source to have the\ncorrect return rules created. (Passing a list as\ndestination to tripleo::firewall::rule does not work.)\n\nAlso the \"forward destinations\" rules should use the\nsource addresses in the data for both source and\ndestination rules.\n\nChange-Id: I3d572bf4aab65f5befb596f7c90c94fc0abe7afa\nCloses-Bug: #1797455\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Explicitly disable all MySQL/MariaDB query_cache use\n\nThe query_cache in MySQL / MariaDB is generally not recommended,\nas it tends to produce more cache misses than hits and adds latency to all\nqueries.  Upstream MySQL / MariaDB are  moving away from it, MariaDB > 10.1.7\nnow defaults it to OFF, MySQL has deprecated the entire feature. Ideally\npuppet-mysql would default query_cache_type to zero as well. While it is likely\nthat recent TripleO versions are producing a     MariaDB without a query cache\nin any case due to its default of  off, add the values explicitly to avoid\nconfusion and to  support potential backporting efforts.\n\nReferences:\n\nhttps://mariadb.com/kb/en/library/mariadb-memory-allocation/#query-cache\nhttps://mysqlserverteam.com/mysql-8-0-retiring-support-for-the-query-cache/\nhttps://mariadb.com/kb/en/library/mariadb-1017-release-notes/#notable-changes\nhttps://haydenjames.io/mysql-query-cache-size-performance/\n\nChange-Id: Iadee0cbffbb50d20a5e97c8883fd955fa5cb9266\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Implement NTP profile\n\nThis puppet manifest will install and configure by default\nthe NTP service. It will also make sure chrony is purged, because it's\npresent on the EL7 images.\n\nChange-Id: If3cf7d9690001b051465ea25cf8a8c3bc6f7c33a\n",
        "issue_summary": ""
    },
    {
        "commit_message": "HAProxy: Refactor certificate retrieval bits\n\nThis moves the certificate request bits to simplify the profile and move\nthe logic to the HAProxy/certmonger specific manifest.\n\nThis is a small iteration on the effort to separate the certificate\nretrieval to its own manifest since this part won't be containerized\nyet.\n\nChange-Id: Ibb01cd9a59049e4728615cb4f37e5bfac5800a92\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Instance HA support\n\nThis commit is the puppet-tripleo part that implements the instance HA\nspec. It only adds a couple of pacemaker resources and stonith devices\nwhen instance HA is activated via an environment variable.\n\nThe compute nodes that take part in instance HA need to have the\nfollowing services added to them:\nOS::TripleO::Services::ComputeInstanceHA\nOS::TripleO::Services::PacemakerRemote\n\nMore detailed info will be added to the docs.\n\nblueprint instance-ha\n\nChange-Id: I4d1908242e9513a225d2b1da06ed4ee769ee10f7\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Remove condition to match hdr(host) in haproxy redirect rule\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove control over the galera_master_node\n\nWe do not want to give users control over the galera_master_node,\nthis should be gathered using the clustercheck script instead.\n\nDepends-On: I56ebd2d8405ac35c707666d993b396f04aeb683e\nChange-Id: Ib6a36e9283b73133251fb9ff3f33e71c50edb3db\nCloses-Bug: 1467918\nCloses-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=1234817\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Pass 'false' docroot to vhost for tls_proxy\n\npassing undef causes a failure since due to a recent commit [1] the\nresource now does proper validation of the parameters.\n\n[1] https://github.com/puppetlabs/puppetlabs-apache/commit/d6952b21ec66d7ce8b69dd0c2f2a0debca54e18f\n\nChange-Id: I6dc1e5820a1f4fe449d254d301738e1073f4b82b\nCloses-Bug: #1706026\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove Ceilometer Api puppet classes\n\nThis service has been removed upstream and in RDO.\nLets drop these classes.\n\nChange-Id: I549c4f8ad412c54dead9d2b2c3ea2bd479fcda1b\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Do not depend on bootstrap_nodeid for any pacemaker profile\n\nWhen we create a pacemaker resource it must happen from a single node.\nIf it happens from multiple nodes an immediate error will be returned by\npcs.\n\nFor the pacemaker roles we enforce this by leveraging the recently\nintroduced <SERVICE_NAME_bootstrap_short_node_name> which gives us\nthe first hostname per-service, regardless of the role.\n(introduced via I03e8685f939e8ae1fcd8b16883b559615042505d)\n\nWith this approach if a pacemaker service belongs to two different\nroles (say role Controller on node A and role galera on node B), it\nwill only create the resource from one of the two and not both (which\nwould return an error).\n\nOnly setting Partial-Bug for this one, because it addresses the issue\nfrom the pacemaker resource creation POV (which is always affected). But\nthe issue itself is a race that we're theoretically affected by since\nthe composable roles work landed. While I have tried to fix the more\ngeneral case in previous attempts, I think it is best if we start a\ndiscussion on how to fix it, because each approach has a bunch of\npotential drawbacks and is quite invasive on how we do things. A\ndiscussion slot for this has been proposed for the Atlanta PTG.\n\nChange-Id: I662398cab60d523d204b57a5674ca8f5c0f2e68a\nPartial-Bug: #1615983\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Allow setting of keepalived router ID\n\nBy default the undercloud and the overcloud share virtual_router_id\ndefinition, leading to errors like \"ip address associated with VRID not\npresent in received packet\". This allows setting the range for the IDs.\n\nChange-Id: I0c822777824b469b0f8ef0f31b3708fe47d5b2d7\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Revert \"Aodh deprecation\"\n\nThis reverts commit de98e1411b0d433c3176098dc7eca3cf022bef76.\n\nReason for revert:\nAodh service has never been deprecated in tripleo-heat-templates.\nThe current warning in puppet-tripleo gives a wrong notice to users.\nDeprecation should happen in a consistent manner within all TripleO\nrepos.\n\nConflicts:\n        manifests/profile/base/aodh/api.pp\n        manifests/profile/base/aodh/evaluator.pp\n        manifests/profile/base/aodh/listener.pp\n        manifests/profile/base/aodh/notifier.pp\n\nResolved conflicts caused by migration of class name format (from\nabsolute names to relative names)\n\nChange-Id: I43eb5e96a2f15c4c49193c676acccce9c3f413c1\n",
        "issue_summary": ""
    },
    {
        "commit_message": "set x-forwarded-port header for proxied requests\n\nThis is required for keystone federation to work correctly when\nmod_auth_openidc.\n\nChange-Id: Ib79fbd47169388bfb044a8183725a3d1de5bc480\nCloses-bug: 1777884\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Fix Sahara SSL default port\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix fluentd multifile problem.\n\nThere is a problem on the current implementation.\nCurrently the new_source variable is an Array of hashes,\nnot a hash of hashes. The current impletation is wrong,\nas it can be seen for the following error at the log gate:\nhttp://logs.openstack.org/09/563009/7/check/tripleo-ci-centos-7-containers-multinode/aa4faf9/logs/undercloud/home/zuul/overcloud_deploy.log.txt.gz#_2018-09-03_15_17_39\n[search for fluentd_service.pp] as there are too many lines at the same timestamp.\n\nError: Evaluation Error: Error while evaluating a Resource\nStatement, Evaluation Error: Error while evaluating a Function\nCall, comparison of Hash with Hash failed at\n/etc/puppet/modules/fluentd/manifests/config.pp:6:16  at\n/etc/puppet/modules/tripleo/manifests/profile/base/logging/fluentd/fluentd_service.pp:47\non node centos-7-rax-iad-0001722758.localdomain\n\nChange-Id: Ifd5fbf6509addf4a564ff83c4551525c9a139ff4\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Use cell information for mysql and novncproxy haproxy proxies\n\nIn case of a multicell deployment the mysql and nova novncproxy\nbackend servers need to use the SERVICE_cell_node_names.\nAlso the novncproxy did use the nova_api_vip and\nnova_api_node_[ips|names] information insteand of\nnova_vnc_proxy_vip and nova_vnc_proxy_node_[ips|names]\n\nChange-Id: I606d1187a442c6ef6327a7503b6b5f0832cbb872\nRelated-Bug: #1822607\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Reload haproxy if any configuration changes on HA\n\nIn some cases, for instance, when updating from a non-SSL setup in\nHAProxy to an SSL setup, we don't reload haproxy's configuration.\nThis is problematic since we need HAProxy to serve the certificates\nand the new endpoints.\n\nThis forces the reload when puppet notices changes.\n\nChange-Id: Ie1dd809e6beef33fadad48de55e488219fb7d686\nCloses-Bug: #1636921\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add Pure Storage FlashBlade Manila backend\n\nDepends-On: I08c52c42916909e6689564d20bc778dfaf0f23ff\nChange-Id: If204a13609ace655e03808a7eb5db0fcf1202360\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Tune haproxy for long running sessions to use leastconn\n\nFor long running sessions, the leastconn LB is more prefered than the\ndefault roundrobin. For long connections, it picks the least recently\nused of the servers with the lowest connection count.\n\nLRU LB strategy that leastconn uses also indirectly reduces the\npossibility of cascaded failures by smoothing out the high traffic\nspikes, which otherwise may be caused by unequal round-robin\ndistribution of client connections upon executing it a fail-over to\nanother backend.\n\nHeat API/cfn provides Orchestration API with a notion of long running\ntasks. Neutron server may maintain long running RPC calls to its\nagents.  Cinder BlockStorage API provides long running volume and\nbackup actions.  Swift Proxy's PutObject etc. and Ceph RGW APIs, like\nhttps://docs.ceph.com/docs/master/radosgw/s3/bucketops/, have a notion\nof \"long running\" as well. Ironic Inspector API provides long running\noperations, like introspection of BM nodes. All those should benefit\nfrom the leastconn LB switch controlled by the new parameter.\n\nCloses-Bug: #1882927\nChange-Id: I9515af738113a3f7aa2ea07315889d4a6595d4eb\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Support separate oslo.messaging services for RPC and Notifications\n\nThis commit introduces separate oslo.messaging services in place of\na single rabbitmq server. This enables the separation of rpc and\nnotifications, the continued use of single rabbitmq server as well\nas the use of alternative oslo.messaging drivers/backends.\n\nThis patch:\n* adds oslo_messaging_* hiera parameters\n* update rabbitmq and qdrourterd services\n* add release note\n\nDepends-On: I03e99d35ed043cf11bea9b7462058bd80f4d99da\nDepends-On: I934561612d26befd88a9053262836b47bdf4efb0\nChange-Id: Ie181a92731e254b7f613ad25fee6cc37e985c315\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add support for cinder-backup GCS and S3 backends\n\nThis patch adds these new classes:\n- tripleo::profile::base::cinder::backup::gcs\n- tripleo::profile::base::cinder::backup::s3\n\nDepends-On: I7fd2c745480086571d02b89d4adbaa02213a94fa\nChange-Id: I06857dd2fb64071ea734a0d3ef68ada5e5d2c077\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Gnocchi: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: Ic4fac5d0595ff5addf4d47ae6391f65784e1a03c\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add profile to configure the rsyslog sidecar container\n\nFor services that log to syslog (such as swift and haproxy), a sidecar\ncontainer that reads from syslog and outputs to stdout is needed. This\ncontainer will have a very static configuration, but needs to be\nconfigured somehow anyway; thus, a small profile was added for this.\n\nbp logging-stdout-rsyslog\n\nChange-Id: I4864ddca223becd0a17f902729cf2e566df5e521\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"nova-migration-target: Remove redundant options from match block\"",
        "issue_summary": ""
    },
    {
        "commit_message": "firewall: generally accept \"jump\" param and use tripleo:firewall for log rule\n\nTentative fix for bug #1669763, trying to use the same class for every\nrule we want to add to the chain.\n\nChange-Id: I4ba451c1b258391c8f1cfb4d73e38828c437b1c1\nCloses-Bug: #1669763\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Implements: liquidio-containerization\n\nModified Liquidio puppet module for containerization support.\nThese changes would support both baremetal and container based\ndeployments.\n\nChange-Id: Ice2baafae2fb1011e16d83c83b5c85f721f6d679\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Format [oslo_cache] memcache_server when IPv6 is used\n\nWhen Memcached uses IPv6 network, python-memcached requires that each\nserver name is formatted as is described in the following example.\n inet6:[<host>]:<port>\n\nThis change ensures the format is properly applied according to\nthe IP protocol version and cache backend used.\n\nNote that the parameter in keystone was not properly formatted even\nwhen IPs are used to set the parameter. This change fixes that and\nensure the parameter is properly configured.\n\nAlso, this change fixes the timing to apply any2array. The function\nshould be applied before we check the first memcache server by [0],\notherwise the logic to detect IPv6 address does not work as intended.\n\nCloses-Bug: #1964824\nChange-Id: I22f8fc7f59b4eeac10c3a274c36daeaa1861fd69\n",
        "issue_summary": ""
    },
    {
        "commit_message": "sshd: Allow customizing the ListenAddress option\n\nThis change introduces support for the ListenAddress option in\nsshd_config so that we can restrict the network addresses used by sshd.\n\nThis is useful for the nova migration target service which should be\navailable in only migration networks.\n\nChange-Id: I897bbf114436a87d223602a393ad6cb524ec9c84\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Ensure presence of pacemaker restart directory.\n\nCurrently the /var/lib/tripleo/pacemaker-restarts directory is created\nonly when base/pacemaker.pp file is included in the manifest. There is a\nnotification that ensures precedence order and trigger the touch.\n\nThe trigger and the dependency on the base/pacemaker.pp should not be\nrequired as someone using the tripleo::pacemaker::resource_restart_flag\nwould expect the file to be created no matter what.\n\nFor instance in the Cinder upgrade in the convergence step has this\ndefined:\n\n        Cinder_config<||> ~> Tripleo::Pacemaker::Resource_restart_flag[\"${::cinder::params::volume_service}\"]\n\nbut in the convergence step, the base/pacemaker.pp is not included and\nthe above trigger fails as the directory is not created.\n\nIt looks the same for manilla.pp.\n\nThis patch removes the trigger and ensures the directory is created when\nneeded.\n\nChange-Id: Ic3aa82c818662e9e88e21c8381d657adef5b43ac\nCloses-Bug: #1632232\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Deploy Keystone and Gnocchi API with new Apache profile\n\nDeploy Keystone and Gnocchi API with the new Apache/Pacemaker profile.\n\nChange-Id: Id28c618133e53e28dfac7e3e9cf9f5f5a6b2421a\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fluentd: Transform path by service\n\nCurrently, the configuration delivered via\nservice_config_settings does not provide the\ntransformation path regarding the logs for\ncontainerized deployments. So logs are not\ncorrectly configured on fluentd on containerized\ndeployments.\n\nThis path added this feature so the logs are\nproperly located on fluentd configuration.\n\nAdded unit test for this issue\n\nPartial-bug: #1715187\nPartial-bug: #1716427\nChange-Id: Ie7df4b8b94cb0ae38096ab95800f211ef1cd8455\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Remove explicit service_name setting from nova manifest\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Make sure python3-novaclient is installed before creating fence_compute\n\nThis has been observed during an IHA FFU process. Namely\nafter the OS upgrade by LEAPP the fence_compute resource will\nfail starting because python3-novaclient is not installed.\nNormally this is taken care of by rpm dependencies, but\nfence_compute is buggy and does not explicitely have that\ndep (https://bugzilla.redhat.com/show_bug.cgi?id=1857247)\n\nSo we need to make sure the package is installed before\ncreating the resource.\n\nTested this on four consecutive successful IHA FFU runs\nand it worked okay.\n\nRelated-Bug: #1888398\n\nChange-Id: I6816d414409da3748b2e341ec05ebcad86ad8fd1\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add posibility to download scripts for sensubility\n\nThis patch adds parameters for class collectd::sensubility\nenabling download of various scripts for usage within sensubility\ncheck definitions\n\nChange-Id: Ifb1046d710827a82dcecbfbb2a449b1f87bbe363\n",
        "issue_summary": ""
    },
    {
        "commit_message": "NetApp: Remove implementation for 7mode systems and E-Series systems\n\n... because these are no longer supported by cinder.\n\nCloses-Bug: #1965850\nCloses-Bug: #1965853\nDepends-on: https://review.opendev.org/834585\nChange-Id: Icf0863c34440e36ad737e9ce7959339d49a7e720\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Allow to configure snmpd_config\n\nExpose a new Puppet parameter to snmp profile, ``snmpd_config`` which\nis an array definded to undef by default.\nIt can be used to override all snmpd configuration for advanced\ndeployments.\nIf used, all parameters have to be configured included users and\npasswords, which should be the same as given to snmpd_password\nand snmpd_user. There is no logic that will verify the content\nof ``snmpd_config``.\n\nExample of hieradata which configures snmpd_config:\n  snmpd_config:\n    - 'createUser ro_snmp_user MD5 \"secrete\"',\n    - 'rouser ro_snmp_user'\n    - 'proc neutron-server'\n    - 'proc nova-api'\n\nDepends-On: I5c322b3f5350261b58ef065bd3ded0369cadbc4c\nChange-Id: Ief2518d5e47137215a34e9ae3b35c27c87fa6e08\nCloses-Bug: #1720868\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Puppet module to deploy HAProxy bundle for HA\n\nThis module is used by tripleo-heat-templates to configure and deploy\nKolla-based haproxy containers managed by pacemaker.\n\nWe use short-lived containers that call pcs via puppet to create\nthe needed pacemaker resources, properties and constraints.\n\nCo-Authored-By: Michele Baldesari <michele@acksyn.org>\nPartial-Bug: #1692908\n\nDepends-On: I44fbd7f89ab22b72e8d3fc0a0e3fe54a9418a60f\nDepends-On: Ie9b7e7d2a3cec4b121915a17c1e809e4ec950e7f\n\nChange-Id: Ifcf890a88ef003d3ab754cb677cbf34ba8db9312\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add base nova-ironic profile\n\nConfigures a nova-compute instance to use Ironic.\n\nChange-Id: I4f817aba542cfaa386b3c0617feae90c61579b43\nPartially-Implements: blueprint ironic-integration\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove puppet-redis from additional dependencies\n\n... because now it is included in the common dependencies.\n\nDepends-on: https://review.opendev.org/827971\nChange-Id: I5a266e8c1dcd95c9963d812e4a5cdf3965141824\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Ironic Inspector - disjoint ip range(s) for HA\n\nAllow tht parameter IronicInspectorSubnets to specify\nper-instance ip range(s) using hostname as key for each\nlist of ip ranges. For HA deployments use disjoint\naddress pools to avoid potential address conflict.\n\nImplements: blueprint ironic-inspector-overcloud\nChange-Id: Ifae513265b8c35d98012f14f951bac33ae90b66c\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Removing conditions to enable Nuage VRS and Metadata Agent\n\nRemoving the condtions for enabling Nuage VRS and\nMetadata Agent on Overcloud nodes\n\nChange-Id: Iee1f3f8ca406005b2086a852d2432e569a6b296d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Enable TLS in the internal network for gnocchi\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Add TLS for nova metadata service\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Haproxy: When using TLS everywhere, use verifyhost for the balancermembers\n\nThis checks that the subjectAltName in the backend server's certificate\nmatches the server's name that was intended to be used.\n\nChange-Id: If1c61e1becf9cc84c9b18835aef1eaaa8c0d4341\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove restart_flag leftovers for bundles\n\nSince the introduction of I62870c055097569ceab2ff67cf0fe63122277c5b\n\"Introduce restart_bundle containers to detect config changes and\nrestart pacemaker resources\" we actually use paunch to detect any\nconfig changes (by verifying an md5 hash over the generated config\nfiles of the service).\n\nWith this new way of detecting changes there is no need to use the\nold 'tripleo::pacemaker::resource_restart_flag' method to restart\npcmk services.\n\nLet's just remove this unused code.\n\nChange-Id: Ib12dbe66575e3d54a8ec7d2c72c2b4619bc39b03\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Refactor how key manager backend is set\n\nThis change refactors current implementation to determine key manager\nbackend for cinder and nova, based on the following two points.\n\n- keymgr_api_class was deprecated a while ago. We can remove this\n  parameter now.\n\n- We don't have to redefine the parameter in puppet-tripleo layer but\n  we can use the parameter implemented in puppet-nova or puppet-cinder\n  directly.\n\nChange-Id: I265ac3762823ea8930cc43150dc7b317f337f709\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fill DNS name for haproxy certificates\n\nThis sets the subject alt name field for the certificates we\nauto-generate, which will remove the security warnings we constantly\nsee in the undercloud. This is the proper way to set certificates,\nsince the usage of the CN as a replacement for the subjectAltName is\nbeing deprecated (very slowly).\n\nChange-Id: I475cbffd47425e850902838eec06bf461df2acd0\nCloses-Bug: #1622446\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove _member_ role from the keystone accepted roles\n\nAs per the development mailing list: Keystone removed _member_ role\nmanagement\n\nChange-Id: Ia13afc6da29ad0bca0e134faadeb92edabb394e3\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add Octavia API endpoint to haproxy\n\nThis patch adds an endpoint for Octavia API to haproxy.\n\nCloses-Bug: #1728589\n\nChange-Id: I978b83fa5f3900d2f09c2affc59e90e150a42892\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add the ml2_odl section when using opendalight_v2\n\nAdd the option to add the section of ml2_odl\nto ml2_conf.ini when opendaylight_v2 mechanism driver is used\n\nChange-Id: I2a1c5097614e47cc09e43bbc77305a0548d54baa\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Allow mysql haproxy stanza do be customized\n\nWe introduce a new tripleo::haproxy parameter called mysql_custom_listen_options\nwhich can be used to customize mysql listen options in haproxy's config.\n\nTested as follows:\nparameter_defaults:\n  ExtraConfig:\n    tripleo::haproxy::haproxy_default_timeout:\n      - 'http-request 10s'\n      - 'queue 2m'\n      - 'connect 10s'\n      - 'client 5m'\n      - 'server 5m'\n      - 'check 10s'\n    tripleo::haproxy::cinder::options:\n      bind-process: 2\n    tripleo::haproxy::glance_api::options:\n      bind-process: 2\n    tripleo::haproxy::mysql_custom_listen_options:\n      bind-process: 2\n\nObserved that haproxy's mysql stanza had:\nlisten mysql\n  bind 172.17.1.91:3306 transparent\n  bind-process 2\n  option tcpka\n  option httpchk\n\nBefore this patch this was not the case and the tripleo::haproxy::<mysql>::options just got ignored.\n\nCloses-Bug: #1858775\n\nChange-Id: Ia0ecca5b54c1ca51898035e641665150dbdac9f7\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Add passing of X-Forwarded-Proto to Glance API endpoint\"",
        "issue_summary": ""
    },
    {
        "commit_message": "neutron plugins: include neutron base\n\nneutron base is required by plugins to work correctly. Let's add it here\nso we don't have to deal with it in THT.\n\nChange-Id: Icaf6b0479297983220874d7ee9ea2c3336706332\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove unused parameter in sahara\n\nRemove unused parameter in sahara\n\nChange-Id: I46c033b410ab850289b798ee93990b6fb10c80ea\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix nic selection when no nic is specified\n\nThis is a way to reinstate change\nhttps://review.opendev.org/c/openstack/puppet-tripleo/+/761833 which was\nsupposed to remove a workaround for VIP selection on IPv6. Turns out\nthe workaround is still needed because the resource-agent for IPaddr2\nis still problematic with IPv6:\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1902851\n\nWith this change we still force a nic when using ipv6 except in the\ncase a user specifies the nic via the tripleo::pacemaker::force_nic\nhiera key.\n\nTested this and I can correctly bind the VIPs as expected:\n    tripleo::pacemaker::force_nic: lo\n    force_vip_nic_overrides:\n      redis_vip: vlan20\n      ovn_dbs_vip: vlan20\n\n[root@controller-2 ~]# grep -ir ovn_dbs_v /etc/puppet/hieradata/\n/etc/puppet/hieradata/all_nodes.json:    \"ovn_dbs_vip\": \"172.17.1.107\",\n/etc/puppet/hieradata/extraconfig.json:        \"ovn_dbs_vip\": \"vlan20\",\n[root@controller-2 ~]# ip -o a |grep 17.1.107/32\n10: vlan20    inet 172.17.1.107/32 brd 172.17.1.255 scope global vlan20\\\n    valid_lft forever preferred_lft forever\n\nChange-Id: I14bfaf0060093811cddf0cdd9a130b91a3cd0477\n",
        "issue_summary": ""
    },
    {
        "commit_message": "New profile to configure libvirt-guests on compute host\n\nOn compute shutdown we might want to gracefully shutdown instances\nusing libvirt-guests. If it gets configured is managed via a tht\nparameter NovaResumeGuestsStateOnHostBoot. This triggers config\nof /etc/sysconfig/libvirt-guests via puppet-nova, configures a\ndependency for virt-guest-shutdown.target to\npaunch-container-shutdown.service that instances get shutdown\nbefore the libvirt container gets stopped.\n\nChange-Id: Id1cc2e75af316b864cebf601395f1111b7fb049a\nCloses-Bug: 1778216\nDepends-On: I2766cdd66ff17756daaf1a75ad516a7af6eebddc\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix typos in parameter descriptions, comments and tests\n\nChange-Id: I75b17e41aff3a63b618b6cada01f225f93a4ff4f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Plumgrid helper\n\nExtra settings that need to be applied for plumgrid where compute\nnodes are running.\n\nChange-Id: Ided5483f0f36f0efd5a09112832d07f028a2a7f9\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add a flag to rabbitmq so that we can deploy with ha-mode: all again\n\nIn change Ib62001c03e1e08f58cf0c6e0ba07a8879a584084 we switched the\nrabbitmq queues HA mode from ha-all to ha-exactly. While this gives us a\nnice performance boost with rabbitmq, it makes rabbit less resilient to\nnetwork glitches as we painfully found out via\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1441635.\n\nWill propose another THT change to actually change the default to\n-1 so we get this ha-mode:all by default.\n\nChange-Id: I9a90e71094b8d8d58b5be0a45a2979701b0ac21c\nPartial-Bug: #1686337\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\nCo-Authored-By: John Eckersberg <jeckersb@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge default_listen with swift_proxy_server_listen_options\n\nCurrently haproxy for swift doesn't have default setting. This generates config\nsuch as\n\n  listen swift_proxy_server\n  bind 10.0.0.5:13808 transparent ssl crt /etc/pki/tls/private/overcloud_endpoint.pem\n  bind 172.16.1.4:8080 transparent\n  option httpchk GET /healthcheck\n  timeout client 2m\n  timeout server 2m\n  server overcloud-controller-0.storage.localdomain 172.16.1.10:8080 check fall 5 inter 2000 rise 2\n\nwithout\n\n  http-request set-header X-Forwarded-Proto https if { ssl_fc }\n  http-request set-header X-Forwarded-Proto http if !{ ssl_fc }\n  option httplog\n\nThis makes really hard to debug in case of issues.\n\nThis patch merges default_listen_options with swift to have config which is\nmore reliable for debugging\n\nCloses-Bug: #1764731\nChange-Id: I6716499b4a10f3ba39db33d6468c261c58ee373d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Always start httpd at the same time (TLS proxy)\n\nFor the TLS everywhere job, there are some apache vhosts set up that\nserve as TLS proxies. These need to be started at the same time as the\nrest of the apache vhosts too.\n\nChange-Id: I15e67c7c04142cff01704e2590d3b2a6a949cc06\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enforce proper ordering when applying firewall rules\n\nThe tripleo firewall module has fundamentally three pieces:\n1) firewall::pre (allows existing connections/ssh/icmp)\n2) firewall::rule (allows services traffic)\n3) firewall::post (drops all traffic)\n\nOne of the assumptions coded in the module is the following line:\nService<||> -> Class['tripleo::firewall::post']\n\nWhich has been added so that (see also bug LP#1643575):\n\"\"\"\nuse ordering to make sure we start all Services in catalog before post\nrules. It ensure that we don't drop all traffic before starting the\nservices, which could lead to services errors (e.g. trying to reach database or amqp)\n\"\"\"\n\nThe problem is that there is nothing specifying that the firewall rules\ncreated by tripleo services need to be implemented between the pre and\npost classes. So the following can happen:\nJul 10 05:04:13 overcloud-controller-1 systemd: Started OpenSSH server daemon.\nJul 10 05:04:13 overcloud-controller-1 puppet-user[32418]: (/Stage[main]/Ssh::Server::Service/Service[sshd]) Triggered 'refresh' from 2 events\nJul 10 05:04:13 overcloud-controller-1 puppet-user[32418]: (/Stage[main]/Tripleo::Firewall::Pre/Tripleo::Firewall::Rule[000 accept related established rules]/Firewall[000 accept related established rules ipv4]/ensure) created\n...\nJul 10 05:04:13 overcloud-controller-1 puppet-user[32418]: (/Stage[main]/Tripleo::Firewall::Post/Tripleo::Firewall::Rule[998 log all]/Firewall[998 log all ipv4]/ensure) created\n...\nJul 10 05:04:14 overcloud-controller-1 puppet-user[32418]: (/Stage[main]/Tripleo::Firewall/Tripleo::Firewall::Service_rules[cinder_api]/Tripleo::Firewall::Rule[119 cinder]/Firewall[119 cinder ipv4]/ensure) created\n\nThis means that we can actually open the traffic for our services *after*\nsaid traffic has been completely blocked. In order to fix this we\ntag the pre/post rules with a different tag and add resource collectors\nto actually enforce proper ordering. We now get:\n...\nJul 11 08:54:43 overcloud-controller-0 puppet-user[32554]: (/Stage[main]/Tripleo::Firewall::Pre/Tripleo::Firewall::Rule[000 accept related established rules]/Firewall[000 accept related established rules ipv4]/ensure) created\n...\nJul 11 08:54:43 overcloud-controller-0 puppet-user[32554]: (/Stage[main]/Tripleo::Firewall/Tripleo::Firewall::Service_rules[cinder_api]/Tripleo::Firewall::Rule[119 cinder]/Firewall[119 cinder ipv4]/ensure) created\n...\nJul 11 08:54:52 overcloud-controller-0 puppet-user[32554]: (/Stage[main]/Tripleo::Firewall::Post/Tripleo::Firewall::Rule[998 log all]/Firewall[998 log all ipv4]/ensure) created\n\nTested this by doing 20 deploys of 1ctrl+1cmp and then scaling up the\novercloud to 3ctrl+2cmp.\n\nThe reason this change, besides being semantically correct, is needed\nfor scaling up the controller role is the following:\n1) When we detect a scaleup situation, we call 'pcs cluster node add <newnode>'\n   from the bootstrap node\n\n2) It can happen that 1) succeeds because the node still had no iptables\n   at all, so pcs communication succeeds. So at this point the cluster\n   has added a new node and all is well\n\n3) Now we apply the pre and post rules and all traffic is blocked. And\n   slowly we start adding rules to let services be accessible over the\n   network.\n\n4) pacemaker is unable to talk to other nodes and assumes a network split.\n   Eventually it will start fencing node to guarantee the state of the\n   remote nodes and so the deploy will fail.\n\nWith this change if the 'pcs cluster node add' call succeeds we are\nguaranteed to not interrupt network traffic afterwards.\n\nChange-Id: I01e681a6305e2708bf364781a2032265b146d065\nCloses-Bug: #1781147\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove httpchk option from haproxy listeners\n\nTo make sure we don't use the ssl-hello-chk option set by the\npuppet-haproxy module we used to redefine the listener options\nfor all listeners.\n\nWith this change a default for the options hash is provided to\nthe puppet class instead.\n\nThis change also configures use of tcpka only where wanted, as\ndocumented by [1], removing it from the haproxy defaults section,\ngiven it wasn't used anyway by the other listeners which were\nindeed overriding options.\n\n1. https://github.com/beekhof/osp-ha-deploy/blob/master/pcmk/lb.scenario\n\nChange-Id: Ic8deb77533f561cea7ce7db1d20f6be5e2dc0d33\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fixes HA Proxy backend check for ODL\n\nThis patch removed listen_options for ODL:\nhttps://review.openstack.org/#/c/562036/\n\nWhich introduced a regression where default options were then applied\nfor ODL, including httpchk.  This does not work with ODL because ODL\nwill not respond to an HTTP GET without specific paths used.  This patch\nadds the correct path that may be used to issue HTTP backend check.\n\nCloses-Bug: 1768037\n\nChange-Id: I60bdfc436044851ac02449c262d382b07b888f79\nSigned-off-by: Tim Rozet <trozet@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove keystone PKI cert generation\n\nWe don't currently offer any parameter interface to enable\nPKI certs, and these have all been deprecated by keystone, so\nremove them.\n\nChange-Id: I8232262b928c91dcde7bea2f23fa2a7c2660719e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Autonatically set memcache_servers for keystone cache\n\n... so that operators can enable keystone caching with memcache\neasilty.\n\nChange-Id: Ie1ff8e774e3a2115ca7b19a2183c43d3c15849d6\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Add support for ODL-OVS IPv6 deployment\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Implement firewalling in tripleo::firewall\n\nCurrently firewalling is implemented in tripleo/init.pp this commit\nmoves it to its own scope tripleo/firewall.pp.\n\nThis is done so that in tripleo-heat-templates we can have a simple and\ngeneric `include tripleo::firewall` in every manifest - unconditional.\nThe rest of the behavior will all be managed by hiera.\n\nIf a user wants to enable firewalling:\n\n```\ntripleo::firewall::manage_firewall: true\n```\n\nIf a user wants to specify firewall rules:\n\n```\ntripleo::firewall::firewall_rules:\n  '103 mongod':\n    port: 27017\n```\n\nChange-Id: I144c60db2a568a94dce5b51257f1d10980173325\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable encryption of pacemaker traffic by default\n\nWe already are setting a pre-shared key by default for the pacemaker\ncluster. This was done in order to communicate with TLS-PSK with\npacemaker-remote clusters. This key is also useful for us to enable\nencrypted traffic for the regular cluster traffic, which we enable by\ndefault with this patch.\n\nChange-Id: I349b8bf79eeeaa4ddde1c17b7014603913f184cf\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Ensure interface names are downcased\n\nhttps://tickets.puppetlabs.com/browse/FACT-777\nPuppet downcases fact names so they names don't become Types\nInterfaces can have Uppercase letters in them.\n\nCloses-Bug: #1745448\n\nChange-Id: I03fd5c103f4b4d4c90770f4d8aa26ae8eeeecdcd\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Restart docker after changing storage driver\n\nThis likely explains why CI appears to still be running the\ndevicemapper driver even though overlay2 is now the default.\n\nChange-Id: Ic2d80bae1fddbdb1c80bae297031521dd78d896a\nCloses-Bug: #1692502\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix amphora provider driver description\n\nCloses-Bug: #1830702\nChange-Id: Id2c61fd10df8c5427416fd6e6914e95502c3a714\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add Octavia OVN Provider configuration (1 of 2)\n\nThis is part 1 of 2, where ovn provider info located in\ntripleo::profile::base::octavia::api will move\nto newly created octavia::provider::ovn.\nBut that has to be split into 2 parts to avoid breaking the\nCI until the THT+pupple-tripleo changes merges [1].\n\n[1]: https://review.opendev.org/#/q/topic:bug/1861886+(status:open+OR+status:merged)\n\nThis patch enhances Octavia's OVN driver config, so it can connect to\nOVN_Northbound DB using TLS.\n\nDepends-On: https://review.opendev.org/#/c/711333/\n\nChange-Id: I85049de9960586a1069aa750c8d727c6e37cec73\nRelated-Bug: #1861886\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Enable object-expirer on Swift proxy profile\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Add configuration for the Nova proxy endpoint\n\nChange-Id: I6128f8e8a439880aa40f9b3a32e47563ad90cdb6\nPartial-Bug: #1755560\nDepends-On: I3701c34841b84c2272dcc24d982fc622ff6139b6\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Adding tacker service\n\nChange-Id: I3d6bbc05644e840395f87333ec80e3b844f69903\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Addition of Nuage as mechanism driver for ML2\n\nAdding Nuage as mechanism driver where ML2 is the neutron\ncore plugin. ML2 base profile includes Nuage when mechanism\ndriver is Nuage. Added Nuage neutron ML2 profile for tripleo.\n\nChange-Id: Ib56a7ad8f43fc6274eebc83bd2a62e68c030599d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Ironic: Manage [disk_utils] parameters by puppet\n\nThis change enables the separate class to manage the [disk_utils]\nparamers so that users can use puppet parameters to manage options\nin this section.\n\nDepends-on: https://review.opendev.org/823903\nDepends-on: https://review.opendev.org/850298\nChange-Id: I6d0fd53d0785a5d7428de6aee74a5db9d7d239b7\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Support for Dell EMC VXFlexOS Backend\n\nAdding support for VXFlexOS Volume Backend\n\nChange-Id: I83b4d400947da16229c565c5311ca033b4c76d73\nCloses-Bug: 1875176\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove puppet-tripleo/firewall\n\nNow that all the firewall bits are in ansible, tripleo itself doesn't\nneed to use puppet.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/848452\nChange-Id: I2b3ba503c9732800ef52287dda0f0906de65e247\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove support for puppet-ceph\n\nDeployment of a managed Ceph cluster using puppet-ceph\nis not supported from the Pike release. From Queens it\nis not supported use of puppet-ceph when using an\nexternal Ceph cluster either.\n\nThis change removes the old manifests necessary to\nsupport deployment of Ceph via puppet-ceph.\n\nTemplates removed by I17b94e8023873f3129a55e69efd751be0674dfcb\n\nDepends-On: I8b22917e7436084028ef4fbe7604d28d6a68bee0\nImplements: blueprint remove-puppet-ceph\nChange-Id: I052af1f755b40a5fefa1f8d37e62b6b36c931271\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Next generation HA architecture work\n\nThis change moves the cinder-volume/cinder-scheduler constraints in the\ncinder-scheduler profile as these can't be applied by the cinder-volume\nservice when cinder-scheduler isn't managed by Pacemaker.\n\nBlueprint:\nhttps://blueprints.launchpad.net/tripleo/+spec/ha-lightweight-architecture\n\nChange-Id: I5e7585c08675d8a4bd071523b94210d325d79b59\nImplements: blueprint ha-lightweight-architecture\nCo-Author: cmsj@tenshu.net\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add Ceph profiles\n\nAdd Ceph base, monitor, osd and client profiles. Does not add\npacemaker specific versions as ceph is not managed by pacemaker.\n\nChange-Id: Ie92b25a9c68a76b6d92abedef31e8039b16d9863\n",
        "issue_summary": ""
    },
    {
        "commit_message": "HAProxy: Set listen options for internal services too\n\nThis was missed from a previous commit, as described in the bug report.\nWe need to set this variable in this case as well, else it will use the\nundefined variable, thus ignoring anything that the user had set.\n\nChange-Id: I6810e7bb3eed16a6478974ac759c3f720a41120a\nCloses-Bug: #1709332\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add support for glance multistore\n\nAdd new tripleo::profile::base::glance::api::multistore_config parameter\nto support configuring multiple glance-api backends. The parameter is\noptional, and represents a hash of settings for each additional backend.\nThe existing 'glance_backend' parameter specifies the default backend.\n\nIn order to support DCN/Edge deployments, the syntax supports multiple\ninstances of the 'rbd' backend type. Restrictions are imposed to allow\nonly a single instance of the 'cinder', 'file' and 'swift' backend types.\n\nChange-Id: I41ab9b3593bf3d078c5bbd1826df8308e3f5e7af\nDepends-On: I5a1c61430879a910e7b6c79effba538431959d56\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove unused pacemaker profiles\n\nWith the landing of HA NG in Newton we can actually remove the\npacemaker profiles we do not need. The only ones that are being\nused in one form or the other are:\n\n$ grep -ir services\\/pacemaker environments | awk '{ print $3 }' | sort | uniq\n../puppet/services/pacemaker/cinder-backup.yaml\n../puppet/services/pacemaker/cinder-volume.yaml\n../puppet/services/pacemaker/database/mysql.yaml\n../puppet/services/pacemaker/database/redis.yaml\n../puppet/services/pacemaker/haproxy.yaml\n../puppet/services/pacemaker/manila-share.yaml\n../puppet/services/pacemaker/rabbitmq.yaml\n../puppet/services/pacemaker.yaml\n\nThe only exception is profile/pacemaker/database/mongodbvalidator\nbecause it is included by profile/base/database/mongodb.pp\n\nChange-Id: I80c8559bb2d915385bcc20ae71fe144ddd6591c1\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Use CRL for HAProxy\n\nThis sets up the CRL file to be triggered on the certmonger_user\nresource. Furtherly, HAProxy uses this CRL file in the member options,\nthus effectively enabling revocation for proxied nodes.\n\nSo, if a certificate has been revoked by the CA, HAProxy will not proxy\nrequests to it.\n\nbp tls-via-certmonger\n\nChange-Id: I4f1edc551488aa5bf6033442c4fa1fb0d3f735cd\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Create vhost_socket_dir with proper permissions\n\nFor ovs2.8 version, it is required to modify the vhost socket\ndirectory permissions as openvswitch:hugetlbfs instead of\nqemu:qemu. Create the dir and assign it proper permissions in\nstep 3.\n\nChange-Id: I5fc2f852c66c2b825af96aba2657d0f9085dc8c3\n",
        "issue_summary": ""
    },
    {
        "commit_message": "keystone: remove the keystone resource management\n\nIt's now done by Ansible, we don't need this code anymore.\n\nDepends-On: I96a3351fca26cd8bb122a86cb4c3a58d5f88573e\nChange-Id: I3fa4448fc81935d4df61f873a73d3fffc6f9e3bb\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Configure libvirt SASL SCRAM-SHA1 when TLS is enabled\n\nChange-Id: Ic9335829fe39eaf4e76385f651a77b293793571a\nRelated-bug: 1732479\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Only db-sync sahara is included in the bootstrapnode\n\nCurrently, sahara's db-sync is run on every node. We should instead\nrun it if we're on the bootstrap node as race conditions may occur\nand these will cause issues.\n\nChange-Id: I5db281caae17402ff198cb4cd46304338d98c52e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fixes issues with raising mysql file limit\n\nChanges Include:\n - Adds spec testing\n - Only raise limits if nonha.  puppet-systemd will restart the mariadb\n   service which breaks ha deployments.  Hence we only want to do this\n   in noha.\n - Minor fix to hiera value refrenced not as parameter to mysql.pp\n\nPartial-Bug: #1648181\nRelated-Bug: #1524809\n\nCo-Authored By: Feng Pan <fpan@redhat.com>\n\nChange-Id: Id063bf4b4ac229181b01f40965811cb8ac4230d5\nSigned-off-by: Tim Rozet <trozet@redhat.com>\nSigned-off-by: Feng Pan <fpan@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Bump haproxy check timeout\n\nSome services like nova may not respond within 10s for\nhealthcheck in a resource constrained environment. Let's bump\nthis to avoid haproxy marking these services unavailable.\n\n\"When performing a healthcheck, the server has timeout\n'connect' to accept the connection then timeout 'check'\nto give the response.\"\n\nChange-Id: Iae56ff4cd1c2d849577b6923f9601dc4b10f91ad\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"pass list of memcache servers to keystone::federation::openidc\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Qdr: InternalTLS support.\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove tripleo::loadbalancer\n\nThe split has been done on both undercloud & overcloud, they now use\ntripleo::haproxy and tripleo::keepalived. We can move forward with\nremoving tripleo::loadbalancer and tripleo::loadbalancer::endpoint, not\nused anymore.\n\nSimplify tripleo::profile::base::loadbalancer to just include\ntripleo::haproxy and rely on Hiera for parameters.\n\nChange-Id: Ieeb1e94117ae9cb8b11320306de3a9b236bd989a\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Include ::cinder::nova in cinder's configuration\n\nPartial-Bug: #1802347\nChange-Id: I925e25bcc352955560fc449fc5287e56beb12ca3\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove unused code in ovn dbs bundle to set the sysctl value\n\nThe docker/services/pacemaker/ovn-dbs.yaml service file doesn't\ndefine the puppet tag 'sysctl::value'. So this patch removes\nthe puppet code to set the sysctl - net.ipv4.ip_nonlocalbind' to 1.\nInstead of adding this tag, the service file sets the above sysctl\nvalue using the host_prep_tasks section in this patch - [1]\n\n[1] - https://review.openstack.org/#/c/582520/\nChange-Id: I1076c88051cc48a263996024fcdfe8d917537d20\nRelated-bug: #1781585\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Stop including ironic::drivers::ssh in the ironic-conductor profile\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Add ability to configure Cinder's NFS snapshot support\n\nAdd the ability to configure the nfs_snapshot_support parameter\nassociated with Cinder's NFS backend.\n\nChange-Id: I4df8e3941eb074339e399e5a5c44fa411ff21560\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix duplicate entries in /etc/sysconfig/iptables\n\nCommit 94ca328e5d309a5617043b2944e65df79271e0cd\nintroduced filters for ephemeral firewall rules\nmanaged by Ironic Inspectors iptables PXE filter.\nThese new filters cause duplicate entries in the\npersisted firewall rules.\n\nsed expression '/-m comment --comment/p' was used\nto ensure the ironic-inspector api port is not\naccidentally removed. But the expression also\nmatches several other entries causing duplicates\nto be written.\n\nThis change enhances the expression to check for\n'-m comment --comment' and 'ironic-inspector'.\n\nCloses-Bug: #1771128\nChange-Id: I0a75a7aff9b1a0afbad63e4b6b5159f4351c7ee8\n",
        "issue_summary": ""
    },
    {
        "commit_message": "New composable service: FluentD\n\nChange-Id: I278dfee01ed24713dec29aae55d2c7bdcb7e74bc\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Replace deprecated nova::::metadata::novajoin::api::service_password\n\nDepends-on: https://review.opendev.org/#/c/720891/\nChange-Id: I50489c5e512f2b69adf2a1c09d58dc05444c083b\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Designate: Use designate::coordination\n\nDepends-on: https://review.opendev.org/799556\nChange-Id: Iee12593c77be15734610c303ad7df648f26b8e45\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove unnecessary certmonger manifest\n\nThe original intent of this manifest was to set the defaults for the\nCA and some other values when requesting certificates via certmonger.\nHowever, this approach doesn't work and in the undercloud we ended up\ndoing this via hieradata instead. So this file is not used.\n\nChange-Id: I552d504091acc0d5588e30d14bc2fc85d7b7ecea\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Ironic inspector support\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Add novajoin profile\n\nThis is needed in order to deploy novajoin in a containerized undercloud\nenvironment.\n\nChange-Id: Iea461f66b8f4e3b01a0498e566a2c3684144df80\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add missing octavia mysql user creation\n\nThis patch makes sure the octavia mysql user is created when the\noctavia_api service is enabled.\n\nChange-Id: I270f3f6879737fc29370165e4a8fa8c9c19fffb3\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Add httpchk for http services\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix novavnc haproxy network\n\nSince \"Use single NovaLibvirtNetwork to configure instance console\ncomponents\" Icef2481b65b41b524ad44eeecfbee4451006e1d2, we are getting\nthe following error:\n\nError while evaluating a Function Call, The service_network for this\nservice is undefined. Can't configure TLS for the internal network.\n\nLet's first lookup the old network and then the newer one to keep\ncompatibility.\n\nTested by triggering fs039 on\nhttps://review.opendev.org/c/openstack/tripleo-heat-templates/+/780934\nwith a dep-on on this review.\n\nChange-Id: Ic9ae8a1a0f69d85b2acd2598644c1cae8c1db78d\nCloses-Bug: #1919506\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Switch metrics qdrs to edge mode\n\nWe have proper qdrouterd version available now, so we can do the switch.\n\nChange-Id: Ic11e0330010f51c39a8a27700cd7d96b466bd532\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Configure migration SSH tunnel\n\nThis patch configures SSH tunneling for nova cold-migration and reuses the\ntunnel for libvirt live-migration unless TLS has been enabled.\n\nChange-Id: I367757cbe8757d11943af7e41af620f9ce919a06\nDepends-On: Iac1763761c652bed637cb7cf85bc12347b5fe7ec\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Neutron: Replace hiera by lookup\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Adding a udev rule to save sriov interface name before configuring switchdev\n\nAfter moving mlnx interfaces to switchdev mode in sriov, it will\nreset that interface and may change its name and also will need ifup\nin order to get back the previous configuration.\nSo adding a udev rule and ifup command the save the interface name\nand its configuration\n\nChange-Id: Ib4f384da344344f9e2ec666b0d8dbae441f24568\nCloses-Bug: 1816710\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Use mode 'http' in haproxy for ceilometer, neutron, aodh and gnocchi\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Adding support for VF LAG in SR-IOV for Mellanox interfaces\n\nIt is possible to configure bond over two virtual functions\nfor the vms in case of using mellanox interfaces.\n\nChange-Id: Iaeee31a9edaefec25498a734cac6eda389c38ec5\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove manifests for VPP and Neutron ML2/VPP plugin\n\n... because these services are no longer supported by t-h-t. This\nallows us to remove puppet-fdio, which looks unmaintained, from\nthe dependencies.\n\nDepends-on: https://review.opendev.org/864605\nChange-Id: Ibe0a59ad3dd9069e9650036cb2af31a3b9ddfb69\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add Ceph RBD mirror Pacemaker profile\n\nThis change adds a profile for the Ceph RBD mirror service, which\nshould be managed by Pacemaker to make sure there is always a single\ninstance running.\n\nChange-Id: Ic63dc5cffece38942d305f538f71dd58a5d50789\nPartial-Bug: #1652177\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove legacy flag and use composable interface\n\nWe dont need this flag anymore as we will disable api\nusing composable interface instead.\n\nSee I67900f7e6816212831aea8ed18f323652857fbd3\n\nCloses-bug: #1656364\n\nChange-Id: Ib6aea02bde6ad7e5223336579f0a99d6cd3ee98f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove ntp\n\nWe no longer support ntp so we should remove the puppet classes and\npuppet-ntp usage.\n\nChange-Id: I8d813fdccb45a464e5bbecda2de0f322299cf6e3\nDepends-On: https://review.opendev.org/#/c/656999/\nRelated-Blueprint: tripleo-chrony\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add Mistral event engine\n\nMistral has an event engine for triggering cron events. Let's run it.\n\nChange-Id: I386e0b77064ca6938af36238f82bfec010aa5a17\nDepends-On: Icaef5e5732f98e9cc39ed1f024d715cee371acac\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"ironic: add support for the ansible deploy method\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Use memcached for token caching in authtoken for telemetry services\n\nUse memcached to cache token in authtoken middleware for telemetry\nservices(gnocchi, aodh and panko), as in-process cache, which we\ncurrently use, was already deprecated[1].\n\n[1] Ied2b88c8cefe5655a88d0c2f334de04e588fa75a\n\nChange-Id: Ib9a881ab52d44c77eeef1716cb4e9f6340735ebc\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Allow custom per-service listen_options for haproxy\n\nThere are situations where it would be advantageous to let\nan operator specify custom per-service options.\nOne such use case seen in the wild is to extend the timeout of the cinder\nbecause due to the specific storage backend these cinder operations\nsometimes take a bit longer. Letting the user tweak the\nhaproxy_default_timeout is likely not what we want as for the case\nabove we only want to tweak a single service.\n\nWe explored another approach to fix this by adding a bunch of\n<service>_options class parameters in the tripleo::haproxy class but it\nmade it extremely bloated and confusing, so we opted for this approach\nwhich is much less invasive both code-wise and complexity-wise\n\nTested by deploying with:\nExtraConfig:\n  tripleo::haproxy::cinder::options:\n    \"timeout client\": '90m'\n    'timeout server': '90m'\n\nAnd observing the following cinder haproxy stanza:\nlisten cinder\n  bind 10.0.0.4:8776 transparent\n  bind 172.16.2.9:8776 transparent\n  mode http\n  http-request set-header X-Forwarded-Proto https if { ssl_fc }\n  http-request set-header X-Forwarded-Proto http if !{ ssl_fc }\n  option httpchk\n  option httplog\n  timeout client 90m\n  timeout server 90m\n  server overcloud-controller-0.internalapi.localdomain 172.16.2.7:8776 check fall 5 inter 2000 rise 2\n  server overcloud-controller-1.internalapi.localdomain 172.16.2.16:8776 check fall 5 inter 2000 rise 2\n  server overcloud-controller-2.internalapi.localdomain 172.16.2.13:8776 check fall 5 inter 2000 rise 2\n\nCloses-Bug: #1755711\n\nChange-Id: Icb7f026190b310d34c47dc059e2fdb22031b0963\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Introduce param to enable use of clustercheck\n\nIn the pacemaker scenario we want to use the clustercheck script\nto evict galera nodes which are out of sync. This change adds a\nparameter meant to enable use of clustercheck for the mysql service.\n\nChange-Id: I7199c7e5d759a76f58c0f48b40e9d460a3163886\nCloses-Bug: 1456701\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Make sure we do not match multiple remotes when waiting for them\n\nThe current grep could match node-1 even when we're waiting for node-11.\nAdd a space so we're sure that we match only the right node:\n[root@controller-0 ~]# pcs status |grep -e \"overcloud-novacomputeiha-1\\s.*Started\"\n overcloud-novacomputeiha-1     (ocf::pacemaker:remote):        Started controller-1\n[root@controller-0 ~]# pcs status |grep -e \"overcloud-novacomputeiha-11\\s.*Started\"\n overcloud-novacomputeiha-11    (ocf::pacemaker:remote):        Started controller-0\n\nChange-Id: Ieedf6020f78015a9fe19f8ae61e0e6e4a3b4cb5b\nRelated-Bug: #1807906\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"nova/api: more cleanup\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Add support for libvirt VNC TLS with option of a dedicated CA\n\nConfigures ca/certs/key for nova-novnc vencrypt.\n\nA dedicated IPA sub-CA can optionally be used to restrict access.\nA custom certmonger helper is used to support this as certmonger currently\nhas limited support for IPA sub-CAs.\n\nDepends-On: I24a9841ba04c95df27599b4d7ac2da8416e751e5\nChange-Id: Ic73bcbdbecc1bc05f43acdd5480370f37ead3fb8\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add new nuage agent profile.\n\nThe Nuage agent will also get used on compute nodes.\n\nChange-Id: Ic842ebdc183918ec9a24f83ae39adfba27bc799c\n",
        "issue_summary": ""
    },
    {
        "commit_message": "ironic: support enabling staging drivers\n\n* add ironic::drivers::staging to enable use of staging drivers\n  (disabled by default)\n* remove mentions of SSH drivers (removed upstream, similar\n  functionality is provided by staging drivers)\n\nImplements: blueprint ovirt-driver\nChange-Id: I89da8187c2c549ad2f6d569890080ce144be46c0\nDepends-On: Ibef8f33f306b9d3b598698345ce3b0978f62a2ad\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Aodh: Sync default value in parameter description\n\nThis fixes default values in parameter description which do not match\nthe actual values or are missing.\n\nChange-Id: I9bd4458c094c301339f7b9d45f25670f3b715bd4\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Only restart haproxy services when enable_load_balancer is defined\n\nIf we upgrade a cloud that was configured with external load balancer\nthe process will fail during convergence step because it will try to\nrestart haproxy which is not configured when an external load balancer\nis configured.\n\nCloses-Bug: #1636527\n\nChange-Id: I6f6caec3e5c96e77437c1c83e625f39649a66c48\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Updates OpenDaylight HA Proxy backend check\n\nThe new URI is more accurate and only supported as of ODL version\nFluorine. It will also return an HTTP error code when the ODL is\nisolated from the cluster so that HA Proxy will not send it requests.\n\nCloses-Bug: 1715387\n\nChange-Id: Ib841b2fc68e5b1f6480298afce20b91a7afef634\nSigned-off-by: Tim Rozet <trozet@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove unused variable in certmonger/mysql manifest\n\nThis was initially meant to select the CN/SubjectAltName based on the\nnetwork, but this is now instead done in t-h-t. So this ended up being\nunused.\n\nDepends-On: Id5dfb38852cf2420f4195a3c1cb98d5c47bbd45e\nChange-Id: I58c3aee0506469125a7837a27271c2fe18e1dd60\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable TLS in the internal network for Cinder API\n\nThis optionally enables TLS for Cinder API in the internal network.\nIf internal TLS is enabled, each node that is serving the Cinder API\nservice will use certmonger to request its certificate.\n\nbp tls-via-certmonger\n\nChange-Id: Ib4a9c8d3ca57f1b02e1bb0d150f333db501e9863\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add ability to install kernel related packages\n\nAdded support to have the kernel class install packages prior to the\nkmod loading.\n\nChange-Id: I6085bcd2f91f84577dcf59d3c93afb24ab718a49\nRelated-Bug: #1840180\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Refactor collectd/gnocchi integration\n\nCurrent implementation of collect_gnocchi plugin configuration blocks\nusage of other python-based plugins. This patch leverages puppet-collectd\nclasses properly to enable configuration of more than one python-based\nplugin together.\n\nChange-Id: I248859bf0e4b70e3a057e96b5fb74be64f4008ed\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add ceilometer profiles\n\nImplements: blueprint refactor-puppet-manifests\n\nChange-Id: I4b5e93a108e80e91af26ffee454130ee18c0042e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Make the additional_erl_args change more independent\n\nIn I3bf244a70538209773804eb85fae6be035c587f4 we made sure that\nwe use the additional_erl_args to define parameters. This all\nworks well but it requires the corresponding THT change\n(I567839785a72813a382a00253562894e19eb6715). Let's make it so\nthat we can merge all the puppet changes without mandating the\nTHT change at the same time. This makes things easier when backporting.\n\nTested by deploying a queens environment with this change,\npuppet-rabbitmq from master and correctly got a working rabbitmq\ncluster. (I.e. we avoided deploying with the corresponding THT change)\n\nChange-Id: I9fa9ba95410ed3994f608beb2c5e1578dc3a7c7a\nRelated-Bug: #1884922\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Terminate Zaqar websocket endpoint in HAProxy\n\nNote that there was a need to modify different timeouts due\nto the nature of how websockets work. The source where the\nreasoning and value came from is listed as a comment in the\ncode.\n\nRelated-Bug: #1625448\nCo-Authored-By: Brad P. Crochet <brad@redhat.com>\nChange-Id: I9de77d5f692c1c9d04e3c59c5de5312e63f81aed\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Implement Advanced Firewalling support\n\n* Provide a Define function which will allow to manage IPtables rules.\n* Manage rules in 'pre' and 'post' Puppet stages, it allows to create\n  rules before and after regular Puppet stages (ie: to make sure no rule\n  exists *before* and everything is blocked *after* regular Puppet\n  stages)\n\nChange-Id: I84fc79096f6fc3db76a61d012d8cb62dd12bdd89\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Only include neutron::designate class in neutron server\n\nThe only service that needs the neutron::designate configuration\noptions is neutron-server, and if we include it for other neutron\nservices we may end up with missing config because the relevant\ndesignate hieradata is only generated for neutron-api.\n\nChange-Id: I2c71132a1c3be34b51e81b0932f094cfacadd5aa\nCloses-Bug: 1811134\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Revert \"Pin puppet-systemd\"\n\nThis reverts commit bd5599ca59b168ce4785991c4165fa4196b8d78a.\n\nReason for revert:\nThe issue was caused by old puppet version (<4.9) we used at that time\nbut currently we have already bumped puppet version to recent one(like\nPuppet 7) so the issue should have been resolved.\n\nChange-Id: Id589b292963491ce836ae3e77f181ca5b6c48ea8\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove the string cast for using transport_url\n\nos_transport_url was updated to allow receiving\na string or an integer as parameter.\n\nFixes the workarounds in puppet-tripleo\n\nChange-Id: I50993514048bf96b5a42b3425a7d6f98778fe694\nDepends-On: I9e56f8e2de542b20fe9e6995506cff5bb435e220\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Stop accidentally removing docker-distribution\n\nBy default Puppet does virtual package matching if precise name matching\nfails. Docker-distribution RPM \"provides\" docker-registry:\n\nbash-4.2# rpm -q --whatprovides docker-registry\ndocker-distribution-2.5.1-1.el7.x86_64\n\nThis means that when we wanted to make docker-registry package absent,\nwe were actually removing docker-distribution instead. This is now fixed\nby allow_virtual => false. Only name matching is performed.\n\nChange-Id: I1f93b404085f0bc2b6c063f573c801db6409c0bb\nCloses-Bug: #1666459\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Allow OCF resources to be created with --force\n\nWhile moving to running pcs commands on the host and off short-lived\ncontainers, we are confronted with the issue that pcs usually checks\nfor the resource agent's existence on the host before creating it.\nSince we'd rather avoid installing the needed resource agents on the\nhost (as it is inside a container), we allow a new 'force_ocf' parameter\nto be passed to those situations where we might need it.\n\nDepends-On: I20eb78a061a334b20f6b2274591c5d313a0af532\n\nRelated-Bug: #1863442\nChange-Id: If9048196b5c03e3cfaba72f043b7f7275568bdc4\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add support for glance db purge job\n\nRelated-Bug: #1892467\nDepends-on: https://review.opendev.org/#/c/746452/\nChange-Id: Ie9cd653cc6d66911d00f9a92db30f33e2e1d1ad9\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Haproxy has non-working Horizon session persistence.\n\nHaproxy is using session persistence[1] for horizon.  It is not\ncorrectly configured though.  The cookie is not properly set.  This add\nthe necessary code.\n\n[1]: http://blog.haproxy.com/2012/03/29/load-balancing-affinity-persistence-sticky-sessions-what-you-need-to-know/\n\nChange-Id: Ic9d79475cf84c25fb8146ecbc5f0a45862c106f0\nCloses-Bug: 1526786\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Reload HAProxy on refresh\n\nIf the configuration for the HAProxy class or any of the frontend\nendpoints has changed, we explicitly execute a reload on HA setups.\nThis is useful since on updates of HA setups we set pacemaker on\nmaintenance mode, and thus we are unable to refresh HAProxy's\nconfiguration; The aforementioned detail is problematic, since some\npuppet configurations rely on HAProxy taking into account the\nconfiguration.  An example of this is changing a port in the endpoint\nmap or enabling SSL.\n\nChange-Id: I7f26257fb43146afebca928f5498ee2174178063\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix style nits in contrail manifests\n\nThere are some style nits in the recently merged contrail puppet manifests.\n\nChange-Id: Ice5935105e0323cb55e0d018190e6471ade7324a\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Allow custom per-service bind_options for haproxy\n\nThere are situation when it might be required to use different TLS\nversions between the services. HAproxy configures TLS version on\nbind line in the configuration, there is missing customization.\n\nAt the moment we can only set TLS version globally via ssl_options\n\nThis code's idea it to configure it per-service. For example, with:\nparameter_defaults:\n   ExtraConfig:\n      tripleo::haproxy::cinder::internal_bind_options: 'force-tlsv11'\n      tripleo::haproxy::keystone_public::public_bind_options: 'force-tlsv12'\n      tripleo::haproxy::horizon::public_bind_options: 'force-tlsv11'\n      tripleo::haproxy::horizon::internal_bind_options: 'force-tlsv12'\n\nWe will get something like the following in the haproxy config:\nlisten cinder\n  bind 2620:52:0:13b8:5054:ff:fe3e:1:13776 transparent ssl crt /etc/pki/tls/private/overcloud_endpoint.pem\n  bind fd00:fd00:fd00:2000::17:8776 transparent force-tlsv11\n  ...\n\nlisten keystone_public\n  bind 2620:52:0:13b8:5054:ff:fe3e:1:13000 transparent ssl crt /etc/pki/tls/private/overcloud_endpoint.pem force-tlsv12\n  bind fd00:fd00:fd00:2000::17:5000 transparent\n  ...\n\nlisten horizon\n  bind 2620:52:0:13b8:5054:ff:fe3e:1:443 transparent ssl crt /etc/pki/tls/private/overcloud_endpoint.pem force-tlsv11\n  bind 2620:52:0:13b8:5054:ff:fe3e:1:80 transparent force-tlsv11\n  bind fd00:fd00:fd00:2000::17:443 transparent ssl crt /etc/pki/tls/private/overcloud_endpoint.pem force-tlsv12\n  bind fd00:fd00:fd00:2000::17:80 transparent force-tlsv12\n  ...\n\nThe two {public,internal}_bind_options accept both strings and arrays of\nstrings.\n\nCloses-Bug: #1829328\n\nChange-Id: I4b724a515d729c2e8e0da9cb8f081b8325d51a6b\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Removing WARNING: line has more than 140 characters in puppet-tripleo profiles\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Sensu unit tests\n\nChange-Id: Id546927a95d602de3590b5ac8ef6a19dafb226d8\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Add region support for instance HA\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Use TLS proxy for neutron server's internal TLS\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Add TLS proxy resource\n\nsome services need a terminating proxy to do TLS on their main\ninterfaces, to address this, we use httpd's mod_proxy and make it listen\nin front of these services with an appropriate certificate.\n\nbp tls-via-certmonger\n\nChange-Id: I82243fd3acfe4f23aab373116b78e1daf9d08467\n",
        "issue_summary": ""
    },
    {
        "commit_message": "HAProxy: enable forwardfor for all http endpoints\n\nCurrently all http endpoints except Horizon doesn't add\nX-Forwarded-For header. In this cases each backend service\nemits the HAProxy's IP address into its logs. This can make\ninvestigation difficult.\nThis change enables forwardfor for all http end points and\nmakes those add X-Forwarded-For header.\n\nCloses-Bug: #1968691\nChange-Id: I2682f0cb3f6253b487eed2d40437ef5780e4ae77\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add support for cinder RBD driver parameter\n\nAdd the ability to control the rbd_flatten_volume_from_snapshot\nsetting in cinder's RBD driver. The parameter has been supported in\npuppet-cinder for a while, and this patch makes it possible to\ncontrol the value using hiera data.\n\nChange-Id: I430a2d1793ffcd0964d268a1930e3fb85e32a995\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Patch fluentd module for unit tests until code lands\n\nThe fluentd tdagent provider is currently wrapped in parser function\nrather than just being defined normally. We have a proposed patch to the\nmain module, but until that time let's pull the fix in for the unit\ntesting. We don't actually consume this provider in tripleo so it\ndoesn't affect deployment and only shows up in unit testing.\n\nChange-Id: I73c7e73d3c4f77fcb93bca54157031db0a548b61\nCloses-Bug: #1833724\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable disablereuse option in Zaqar proxy backend\n\nModify the Zaqar mod_proxy backend to use use the parameter\ndisablereuse=On, disabling the ability to reuse connections to the\nproxy backend.  This is necessary to prevent reuse of connections by\nmod_proxy to the backend Zaqar WebSocket server when the Zaqar\nWebSocket server closes the socket on its own, that mod_proxy\noccasionally expects to be open.  This creates a new connection with\nevery request.\n\nChange-Id: Id5f22d8682805566eadd8205a5aa88524ce94b80\nCloses-Bug: #1803422\n",
        "issue_summary": ""
    },
    {
        "commit_message": "CephRgw healthcheck aligned with ceph-ansible\n\nceph-ansible specifies GET in the healthcheck\noption and this patch just aligns the haproxy\nrgw section to the ceph-ansible specs.\n\nChange-Id: I2de78f17ebb5ff50566c4f53f3377322018525d1\n",
        "issue_summary": ""
    },
    {
        "commit_message": "tuning: manage keystone resources only at step3\n\n1. Manage Keystone resources only at step 3. Don't verify them\n   at step 4 and 5, it's a huge loss of time.\n2. Don't require Keystone resources for Gnocchi services, they are\n   already ready at Step 5.\n\nRelated-Bug: #1664418\nChange-Id: I9879718a1a86b862e5eb97e6f938533c96c9f5c8\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Ensure we configure ssl.conf\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Don't require memcached_node_ips when deploying keystone\n\nThe keystone module always expects memcached_node_ips to be defined\nin hieradata, the value of which is used to configure mod_auth_openidc\nwhen OpenID Connect is enabled for federation.  In some cases, such as\nwhen using a trimmed down custom Controller role for development purposes,\nmemcached may not even be deployed.  This will result in memcached_node_ips\nnot being set, which causes a deployment failure.\n\nThis patch defaults memcached_ips to an empty list, which allows a\ndeployment of keystone to succeed even when memcached is not being\ndeployed.\n\nChange-Id: If44b6d11f8c41c96bd823c3e38bacdc08034986d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Force MySQL users to use SSL if internal TLS is enabled\n\nThis forces the MySQL users to use SSL when connecting to MySQL.\n\nbp tls-via-certmonger\n\nDepends-On: I24e4c195a31109835739e78a6b53d36f661f9fd0\nChange-Id: I98856955132b680a159144204da1d5b400fe9794\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add a default rule for dhcpv6 traffic\n\nVia bug https://bugs.launchpad.net/tripleo/+bug/1657108 we need\nto zero out the default rules in /etc/sysconfig/ip{6}tables in\nthe image.\nWe have done this for ipv4, but when we will do it for ipv6 we\nwill also need to make sure we add a rule for dhcpv6 traffic\nas it is shipped in the iptables rpm. (See\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1169036 for more info)\n\nWith this change we correctly get the rule present (aka the first\nACCEPT line. The second line is due to the stock ip6tables rule\nI had in my testing):\n[root@overcloud-controller-0 ~]# iptables -nvL |grep 546\n[root@overcloud-controller-0 ~]# ip6tables -nvL |grep 546\n    0     0 ACCEPT     udp      *      *       ::/0 fe80::/64 multiport dports 546 /* 004 accept ipv6 dhcpv6 ipv6 */ state NEW\n    0     0 ACCEPT     udp      *      *       ::/0 fe80::/64 udp dpt:546 state NEW\n\nChange-Id: If22080054b2b1fa7acfd101e8c34d2707e8e7864\nPartial-Bug: #1657108\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix barbican server name to not use aodh hiera\n\nthis looks like a copy/paste error. Let barbican use its own\nhiera data.\n\nChange-Id: I84118c1a561c3db2f18504b55c5a8c4f042e7e3b\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Disable keystone domain creation by keystone::ldap_backend\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Remove setting root user for ovn dbs pacemaker bundle\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Wrong default in docstring\n\nUpdate default doc default for bind_host to match previous change\nhttp://review.openstack.org/386817/\n\nChange-Id: Iff048ba7152c1b7e945f284311215c8f872c1409\nCloses-bug: #1640104\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Move db syncs into mysql base role\n\nThis patch moves the various DB syncs into the MySQL role.\n\nDatabase creation needs to occur on the MySQL server to\navoid permission issues.\n\nThis patch also moves database creation to step 2 so we can\nguarantee that all per-service databases exist at this time.\nThis avoids complex ordering needed during step 3 where\nservices, on different hosts, can run their own db sync's\nin a distributed fashion.\n\nChange-Id: I05cc0afa9373429a3197c194c3e8f784ae96de5f\nPartial-bug: #1620595\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Run designate-api under apache\n\nDesignate should be run under apache for production deployments.\n\nChange-Id: I3b566d3da33ff583e47ce241f02da19ec889bcc3\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Adds OpenDaylight\n\nPartially-Implements: blueprint opendaylight-integration\n\nNote this patch only adds support for a single ODL instance.\n\n - neutron/opendaylight.pp handles installing ODL to control nodes\n - ml2/opendaylight.pp handles configuring ML2 to work with ODL\n - ovs/opendaylight.pp handles configuring OVS to connect to ODL\n\nChange-Id: I666dc0874f1d11a72a62d796f4f6d41f7aa87a3f\nSigned-off-by: Tim Rozet <trozet@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Pacemaker: Replace hiera by lookup (1)\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nNote that this change does not cover manifests to set up pacemaker\nresources. These will be covered by a separate patch.\n\nChange-Id: Id5d601477477f0f33277f115527139f81d80133e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "OVN HA: Set the OVN Resource Agent parameter 'inactive_probe_interval'\n\nThis parameter is required to configure the inactive probe interval. If not\nspecified, this param defaults to 5 seconds which is not enough. This patch sets\nthe value of this param to 180 seconds.\n\nChange-Id: Ifbfb2a1ced308e4e4c89f0db31808df17cb43e7e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove Dell EMC PS Series Driver support\n\n... because it it not supported in anymore, and puppet-cinder\nimplementation was already removed in [1]\n\n[1] 7083e88a699233930b0de413394ae95cab649462\n\nDepends-on: https://review.opendev.org/#/c/716027/\nChange-Id: I8b7af40a4dfba297821a7aae6edf5938c43034a1\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Do not fail if PCI device is missing\n\nFixes a problem where SR-IOV VF count configuration will fail if a\nphysical function is in use by a guest when 'puppet apply' is executed.\nThis change substitutes warnings for failures and skips complaints if a\nPCI device is unavailable.\n\nNote: this patch has the side-effect of allowing the same configuration\ndata on hosts that may *not* or *ever* have PCI SR-IOV devices on the\nhardware. Time will tell how evil this is in practice.\n\nCloses-Bug: #1701284\nChange-Id: I71edc135432ab2193741c37ce977dd11172401e6\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove unused puppet-ptp\n\nUsage of puppet-ptp was removed by [1]. This change removes the module\nfrom test requirements.\n\n[1] 1015d5ab010cf6d1c6924c88d20aa75a09bca5b2\n\nChange-Id: Ie7936c10db92e76d9b346dd06b9db6e3c51c663e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "panko: Do db_sync in api manifest\n\nThe db_sync from panko comes from the panko-api package; So we move the\ndb_sync to be done in the api manifest as it's done for other services\nsuch as barbican.\n\nThis is necessary since in cases where the overcloud deploy requires\npuppet to do the installations, with the previous setup it failed since\nthe command wasn't available in the step it was being done.\n\nChange-Id: I20a549cbaa2ee4b2c762dbae97f5cbf4d0b517c8\nCloses-Bug: #1671716\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Make the bundle user configurable via hiera\n\nAllow all bundles --user option to be overridden as some of them might\nprefer switching to a non-root user when possible.\nThe ovn-dbs bundle is a bit special because it never specified any user.\nHence we default that user to undef and do not set anything.\n\nTested as follows:\n1. deployed an overcloud\n2. patched it with this change\n3. redeployed and and then observed that no HA container has restarted at all\n4. verified cinder-volume runs with root by default:\nUSER  PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND\nroot    1  0.0  0.0   4204   716 ?        Ss   09:01   0:00 dumb-init --single-child -- /bin/bash /usr/local/bin/kolla_start\nroot    7  0.7  0.7 912976 145760 ?       S    09:01   1:04 /usr/bin/python3 /usr/bin/cinder-volume --config-file /usr/share/cinder/cinder-dist.conf --config-file /etc/cinder/cinder.conf\nroot   71  0.1  0.6 925800 124640 ?       S    09:01   0:14 /usr/bin/python3 /usr/bin/cinder-volume --config-file /usr/share/cinder/cinder-dist.conf --config-file /etc/cinder/cinder.conf\n5. added 'tripleo::profile::pacemaker::cinder::volume_bundle::bundle_user: cinder' to\n   the templates and redeployed\n6. Observed that cinder-volume got restarted and now runs with cinder\n   user:\nUSER   PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND\ncinder   1  0.0  0.0   4204   804 ?        Ss   12:23   0:00 dumb-init --single-child -- /bin/bash /usr/local/bin/kolla_start\ncinder   7  2.1  0.7 912976 145432 ?       S    12:23   0:04 /usr/bin/python3 /usr/bin/cinder-volume --config-file /usr/share/cinder/cinder-dist.conf --config-file /etc/cinder/cinder.conf\ncinder  64  0.3  0.5 919908 118452 ?       S    12:23   0:00 /usr/bin/python3 /usr/bin/cinder-volume --config-file /usr/share/cinder/cinder-dist.conf --config-file /etc/cinder/cinder.conf\n\nChange-Id: I985d0d192ef3accf7fdd31503348de80713fded4\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Force MySQL / MariaDB log_warnings to 1\n\nThis MySQL / MariaDB server value was changed\nfrom the value 1 to 2 between MariaDB 10.1 and 10.2 [1].  The\nresult of this change is that any database connection which is\nnot gracefully closed results in a log message\n\"Got an error reading communication packets\" in the MySQL server\nlog, which is misleading as it does not usually refer to any\nactionable issue; real connectivity issues are always seen in\napplication logs and most of these messages in the server\nlogs are likely to be false positives due to the behavior of HAProxy.\n\nWhile applications can reduce the occurence of this error by\nensuring that database connections are gracefully closed, this\nis already the behavior of oslo.db and SQLAlchemy which maintains\na connection pool that closes out stale connections explicitly\nwhen requests are made.\n\nThe majority of these warnings are likely the result of normal HAProxy\noperation, where the settings \"timeout client\" and \"timeout server\"\nare set to 90 minutes, such that any connection older than this\ntime will be non-gracefully closed by the proxy, generating\nthe warning.  An idle application server process will not have attended\nto connections that are older than the timeout period,\nleading to these connections being left for HAProxy to handle;\nHAProxy's timeout behavior leading to this message in the logs has been\nconfirmed in local experimentation.\n\nThe application server itself is never exposed to this as upon\nthe start of work will always recycle any connection that is older\nthan its own timeout, which defaults to 60 minutes for applications\nusing oslo.config + oslo.db.   Without HAProxy having the capability\nto close out these connections using MySQL's protocol, the messages\nare unavoidable.\n\nThe message will also occur anytime an Openstack process is stopped\nor killed for all connections that are pooled in that process.\n\nThe correct way to diagnose if an application is having connectivity\nissues is to look in the application server log itself for error\nmessages and stack traces that have much more detail as to the context\nthat produced a particular error message.   This warning is also\nknown to occur when an application server is not able to respond\nto packets quickly enough as has been observed with services\nsuch as Cinder where eventlet monkeypatching causes the PyMySQL\nclient to be blocked; however when this occurs, there is an\ninformative stack trace and error message in the application logs\nthat shows what's going on.\n\nAs this particular warning message is not useful in that most\noccurences will refer to normal behavior as designed, the\nlog level should be forced to \"1\" to prevent these messages\nas they are causing confusion in downstream environments.\n\n[1] https://mariadb.com/kb/en/upgrading-from-mariadb-101-to-mariadb-102/#incompatible-changes-between-101-and-102\n\nChange-Id: I0efb4f77aaceda635c8983d6b7a240171a7accdc\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove unused class for cell v2 setup\n\nThe nova::cell_v2::simple_setup class and the classes included by that\nclass are not actually used. The actual tasks are implemented by\nansible + external_post_deploy_tasks.\n\nChange-Id: I3e26036821e1aeef84715827f7f5437c5878e0cf\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fetch internal certificates for HAProxy based on network\n\nThe service profile in HAProxy has the capability of creating\ncertificates based on a map. The idea is to standardize this, as\nsome of those certificates should match certain networks the services\nare listening on (with the exception of the external network which is\nhandled differently and the tenant network which doesn't need a\ncertificate). So, based on which network a certain service is\nlistening on, we fetch the appropriate certificate.\n\nbp tls-via-certmonger\n\nChange-Id: I89001ae32f46c9682aecc118753ef6cd647baa62\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Use HAProxy 'transparent' bind option for compat with IPv6\n\nChange-Id: Iddf1fdaabc1c758546999e7af7e7412158400e7f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Modify cassandra dependency\n\nSwitch to locp/cassandra module since it has much more options than\nmidonet/puppet-cassandra and it is already defined on the\nopenstack-puppet-modules packages in RHEL. More info:\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1285718\n\nDepends-On: I72f21036fda795b54312a7d39f04c30bbf16c41b\nChange-Id: Icea9bd96e4c80a26b9e813d383f84099c736d7bf\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Fix barbican server name to not use aodh hiera\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Use HAProxy for docker-registry endpoint\n\nThe docker tooling has a preference for interacting with encrypted\nendpoints. Terminating the docker-registry endpoint with HAProxy\nallows the SSL VIP to be used for this purpose.\n\nChange-Id: Ifebfa7256e0887d6f26a478ff8dc82b0ef5f65f6\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Add missing octavia auth include to keystone manifest\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Deploy Heat APIs over httpd\n\nThis deploys the Heat APIs (api, cfn and cloudwatch) over httpd, and\nincludes the TLS-everywhere bits.\n\nbp tls-via-certmonger\n\nChange-Id: I23971b0164468e67c9b3577772af84bd947e16f1\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix typo in remote pcsd_bind_addr\n\nTypo slipped in when this code was merged, we need to reference the\nproper variable\n\nCloses-Bug: #1861668\n\nChange-Id: Ida10d018e73fb19bb72032fcb2113e1762fb94fa\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable HAProxy mode http for Swift and Ceph RGW\n\nPreviously we missed to enable http mode for the Swift and Ceph\nRGW listeners in HAProxy.\n\nChange-Id: I4d7a8299d57e9c5f6effea19f0b630f4a092ff7e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "profile/nova/compute: add iscsi bits\n\nAdd iscsi bits allowing live migration.\n\nChange-Id: I495a7af4220f0b35e9fd0a6cfc146610d8f46d10\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Clean out UI httpd configuration file\n\nWhen updating the package with yum directly, a new httpd config file is\ncreated with a different name than the one used by Puppet, causing\nhttpd to fail. Cleaning out the package config file and keeping it\naround means it won't get overwritten on update, and is the way other\nprojects such as puppet-horizon handle this.\n\nChange-Id: I539729ce4cd0898f8b0f3f26266e4e6d55b99e37\nCloses-Bug: #1628983\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Redirect to https for horizon\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Add support to set ovs_nb_connection\n\nWhen using ovn provider unless set, it would try to\nconnect to 127.0.0.1.\n\nChange-Id: If8eb685dd21791b65845afd44fb483592b8bcc0c\nDepends-On: https://review.openstack.org/653673\nCloses-Bug: #1825146\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Increase haproxy client/server timeout for swift-proxy\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Add support for configuring designate DNS backend\n\nCurrently just a thin layer between the templates and puppet-designate.\nbind9 is currently the only supported backend.\n\nChange-Id: If97e16a125537c1b5d9f5cfac1de0ffae0edb99a\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Remove Ceilometer Api puppet classes\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable support for loadbalancing Ironic\n\nJust like any other OpenStack API endpoint.\n\nChange-Id: Iaa45d7bef94c3c42df0988a58f146bb8a530f74e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add resource for requesting certificates for HAProxy\n\nThis resource will be used in both the overcloud and the undercloud,\nand can be called in several instances (for public-facing or\ninternal-facing certificates).\n\nbp tls-via-certmonger\n\nChange-Id: I0410fe0dbbed97d16909e911f7318d78a5bd7d7b\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Conventional log directories for pacemaker bundles\n\nUse /var/log/containers/<service> instead of /var/log/<service>, as\nthe rest of the containerized services.\n\nChange-Id: Id5760c16260de991ff95168c76186edc113752c8\nDepends-On: Icb311984104eac16cd391d75613517f62ccf6696\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\nCloses-Bug: #1731969\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Heat: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: I00f41fcebf32d529fda3ed739a6751f72d10c911\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Configure redis as incoming storage driver in gnocchi\n\npuppet support for this is added in Id8d4d091da2611de75390e045ebd473caf2a8909\n\nChange-Id: I3354b54571a1b9d0a9187698217628d273cd7d7e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Calculate zaqar mongo from mongodb_node_ips\n\nIn order to make the zaqar service fully composable, the mongo ips need\nto be calculated without assuming that mongo and zaqar are on the same\nnode.\n\nChange-Id: I0b077e85ba5fcd9fdfd33956cf33ce2403fcb088\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Introduce alternative to get ip_addresses and server_names\n\nThis introduces a key called \"base_service_name\" which you can set in\norder to use the \"magically\" generated <service name>_node_ips and\n<service name>_node_names, which will set ip_addresses and server_names\nin the HAProxy endpoint. This makes it easier for folks creating\nservices to add custom HAProxy endpoints.\n\nChange-Id: I5de14152904d06c49e9d5b2df6e3f09a35f23d92\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove certificate request bits from service profiles\n\nThis is now the job of the certmonger_user profile. So these bits are\nnot needed anymore in the service profiles.\n\nChange-Id: Iaa3137d7d13d5e707f587d3905a5a32598c08800\nDepends-On: Ibf58dfd7d783090e927de6629e487f968f7e05b6\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Support for Dell EMC XtremIO Volume Config\n\nAdded support for XtremIO volume config options.\nSupports both iSCSI and FC drivers.\nSupports deploying multiple instances of the\ncinder::backend::dellemc_xtremio backend\n(e.g. one iscsi + one fc, multiple iscsi, etc.).\n\nChange-Id: I5a02b90530057f616fb84de5b04d04865693ce2f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Powermax Config Fixes\n\nFixing the issues with Powermax config\nand unit tests\n\nChange-Id: Idf5c2f3a9f00833baee4299b8147427938a28df9\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Support for external swift proxy\n\nUsers may have an external swift proxy already available (i.e. radosgw\nfrom already existing ceph, or hardware appliance implementing swift\nproxy). With this change user may specify an environment file that\nregisters the specified urls as endpoint for the object-store service.\nThe internal swift proxy is left as unconfigured.\n\nChange-Id: Ia568c3a5723d8bd8c2c37dbba094fc8a83b9d67e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Write restart flags to restart services only when necessary\n\nWrite restart flag file for services managed by Pacemaker into\n/var/lib/tripleo/pacemaker-restarts directory. The name of the file must\nmatch the name of the clone resource defined in pacemaker. The\npost-puppet restart script will restart each service having a restart\nflag file and remove those files.\n\nThis approach focuses on $pacemaker_master only (we don't want to\nrestart the pacemaker services 3 times when we have 3 controllers), so\nit relies on the assumption that we're making the matching config\nchanges across the pacemaker nodes.\n\nChange-Id: I6369ab0c82dbf3c8f21043f8aa9ab810744ddc12\n",
        "issue_summary": ""
    },
    {
        "commit_message": "add cache to object-expirer pipeline\n\nWithout 'cache' in the object-expirer pipeline, adding $memcache_servers\nwill have no effect. This commit adds 'cache' to the pipeline.\n\nChange-Id: I8ddb71e8e6a5844446dd2478b6b9389ed0ade075\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Add TLS in the internal network for Swift Proxy\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Hardcode openidc_cache_type parameter for keystone federation with OpenIdc\n\nBy default OpenIdc uses shared memory caching mode, which will\nnot work for multiple controller nodes. puppet-tripleo already\nconfigured to calculate memcached servers for OpenIdc, but for\nsome reason doesn't set \"openidc_cache_type\" to \"memcache\", so\nshm is used.\n\nThere are a number of options available for \"openidc_cache_type\",\nbut memcache is the only one that will currently work for multiple\ncontrollers:\n\n- shm and file are stored locally on every node;\n- redis requires mod_auth_openidc to be compiled with redis\n  support, but it is not generally the case.\n\nTo avoid providing illusion of freedom of choice, it would\nbe right to hardcode this in puppet-tripleo.\n\nCloses-Bug: #1873239\nrhbz: #1824506\n\nChange-Id: I7cbc462b2ff99b7b0d3ff58fda1b52ccf85fc86d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix linting issues\n\nhttps://review.openstack.org/624989 fixed the lint job and since it's\nbeen broken for a while, we've got some linting issues.\n\nCloses-Bug: #1808883\nChange-Id: I3d5df4479cf05f4c4a81d37184e8225ea1478e26\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Use transport_url for swift-proxy instead of rabbitmq params\n\nThese parameters are being deprecated, so we should be using the\ntransport_url format instead.\n\nChange-Id: I8b7457b6233c4f88af2d7bc1b9304fcccb6edf61\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Include vendordata class in nova-compute\n\nThe nova::vendordata is not automatically loaded now, so we should\nexplicitly include the class in the manifest for nova-compute to\nconfigure vendordata parameters in nova-compute.\n\nDepends-on: https://review.opendev.org/#/c/730424/\nChange-Id: I0843d38bd9fe0cc9bf92f533a7dbe83a0b4f297d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add support for external Ganesha service in Manila Share profile\n\nWe might want to connect Manila Share to an external Ganesha service\nand in that case need to provide additional configs so that we can\nconnect to the remote node via SSH.\n\nChange-Id: I1741721ede9f9f469e2554b409ec6e0e6c7c22a2\nImplements: blueprint manila-external-ganesha\nDepends-On: I31fff6a1b6fede860b8aaee0079183924e8b31d6\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add support for aodh-expirer cron job\n\nRelated-Bug: #1891888\nDepends-on: https://review.opendev.org/#/c/746241/\nChange-Id: I9bc8a4ffde6e24edaa9744478d699ccc5243b784\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add ceilometer profile rspec testing\n\nThis change adds rspec testing for the ceilometer profiles. While\nwriting these tests, the tripleo::profile::base::ceilometer::collector\nclass needed to have the hiera lookups moved to class parameters to\nallow for testing the possible options around the database backend.\nThese tests add coverage for ipv4 and ipv6 configurations for the\ncollector profile as well as excluding mongodb on the backend.\n\nChange-Id: I1abae040104e8492a9fe266de74080e1e7701731\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Move ceilometer upgrade step out of base\n\nceilometer-upgrade should only run on controller nodes.\nSince its currently in base profile, it gets triggered\non compute as well. So instead split out the upgrade\ninto its own and include when we deploy notification\nand central agents instead.\n\nChange-Id: I2910e8aa5da7fded4cf94b57fb0a14fefd88adbe\nCloses-bug: #1693339\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Set tunnel timeout for nova_novncproxy\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Allow specifying an rndc key\n\nThis is necessary in ha because if we let the puppet module generate\nthe rndc key it will be different on all controllers and they won't\nbe able to talk to each other.\n\nChange-Id: I4f030cd419511be43e9e4189dbc4418d5a6c6c61\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Rremove manifests for ceilometer-expirer\n\nceilometer-expirer was alreday removed from ceilometer[1], and it is\nno longer used in TripleO deployment.\n\n[1] 9323f07f977f320882f8b536c3b54835274826fc\n\nChange-Id: I9b4a2b38de393d050c95060cc9145efad904deca\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Leverage kolla config_files to copy config into containers\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Use on-marked-down shutdown-sessions for redis haproxy conf\n\nThe problem we have with redis can be described as follows:\n- Connection is made to redis via haproxy, where haproxy directs to one redis node\n- That chosen redis node fails and a new redis node gets promoted\n- HAProxy will send *new* connections to redis to the newly promoted\n  redis server, but you still have a session active (ie. that has not hit\n  timeout), so haproxy will attempt to use that connection.\n\nBy using 'on-marked-down shutdown-sessions' we make sure we close\nold existing sessions when the redis master node changes.\n\nCloses-Bug: #1742086\nTested-By: Marian Krcmarik <mkrcmari@redhat.com>\n\nChange-Id: Ia4d8c27057ee2de9e49e4358aa069571d1c952a9\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Support redfish inside a fencing yaml file\n\nCurrently the only working and supported fencing devices are via IPMI\n(and partially via xvm). With this change we add support for redfish\nfencing devices. Note that the support is currently only when the\nfencing parameters are defined by hand. More work will be needed to\nsupport redfish inside the 'overcloud generate fencing' command.\nThe syntax used will look like the following:\nparameter_defaults:\n  EnableFencing: true\n  FencingConfig:\n    devices:\n    - agent: fence_redfish\n      host_mac: 52:54:00:b8:9a:90\n      params:\n        ipaddr: 172.16.0.1\n        ipport: 8000\n        login: admin\n        passwd: password\n        systems_uri: /redfish/v1/Systems/compute-0\n        ssl_insecure: true\n    - agent: fence_redfish\n      host_mac: 52:54:00:d2:8e:30\n      params:\n        ipaddr: 172.16.0.1\n        ipport: 8000\n        systems_uri: /redfish/v1/Systems/compute-1\n        ssl_insecure: true\n        login: admin\n        passwd: password\n    - agent: fence_redfish\n      host_mac: 52:54:00:8a:da:e4\n      params:\n        ipaddr: 172.16.0.1\n        ipport: 8000\n        login: admin\n        passwd: password\n        systems_uri: /redfish/v1/Systems/controller-0\n        ssl_insecure: true\n    - agent: fence_redfish\n      host_mac: 52:54:00:69:82:4c\n      params:\n        ipaddr: 172.16.0.1\n        ipport: 8000\n        login: admin\n        passwd: password\n        systems_uri: /redfish/v1/Systems/controller-1\n        ssl_insecure: true\n\nNote that for this to work https://bugzilla.redhat.com/show_bug.cgi?id=1677023\nneeds to be fixed first. Tested this with the fix for the above rhbz and\nthe depends-on and got correctly fencing devices configured:\n stonith-fence_redfish-52540069824c     (stonith:fence_redfish):        Started controller-1\n stonith-fence_redfish-5254008adae4     (stonith:fence_redfish):        Started controller-2\n stonith-fence_redfish-5254004c56a8     (stonith:fence_redfish):        Started controller-1\n\nDepends-On: I96fa203c706858f13d5bd6732c31003ecb193b62\n\nChange-Id: Ic85855b6789dbad918f709fdeeabc6934876ce72\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add httpchk for http services\n\nThe httpchk health check option should help reduce the situtations\nwhere haproxy thinks the service is up but the service is only\nlistening and not actively serving http requests.\n\nChange-Id: I13cc5dcf2eea53731e756d078586ab9a97340912\nCloses-Bug: #1629052\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Make enabling haproxy stats interface configurable\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove manifests for networking-bigswitch\n\n... because support for the plugin has been removed from t-h-t.\n\nDepends-on: https://review.opendev.org/831379\nChange-Id: I7f941edae70270117ad38ba0ceb4c2ffa5c145ee\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Cinder: Manage quota options\n\nThis change enables management of quota parameter using puppet-cinder,\nso that users can use native interface of that module to customize\nsome parameters.\n\nChange-Id: I51fd6b7b13b33bb0367fe36308f1533530dc6c15\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Ceph grafana service certificate request\n\nThis change adds the certmonger ceph_grafana class to\ndefine the necessary requirements to make the cert request\nfor the ceph dashboard service.\n\nChange-Id: Ib5f780349c12eebbf514a75293d8f4644dc5731f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Bind openshift-master to the public network\n\nIt's ok to bind the HAProxy configs for openshift-master to the public\naddress. This will allow users to access the cluster from outside the\ninternal network. Openshift nodes will remain bound to the internal\nnetwork.\n\nChange-Id: Ib573758b515264d1dda90cc9de61f4fa6659dc7d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Add missing base apache configs when internal TLS\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Allows customization of the HAProxy default timeouts\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"[Pure Storage] Add iSCSI CIDR list parameter for FlashArray Cinder driver\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove the duplicated word\n\nChange-Id: Ib16459b1f7c8ef2c0e6612c660e31bfb5f2c74fc\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable TLS in the internal network for Octavia API\n\nPartial-Bug: #1789303\nCo-Authored-By: Kellen Gattis <kgattis@redhat.com>\nChange-Id: I38a71f28667ad0c50ebabd24cfbd148d52fe398b\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Allow OCF resources to be created with --force\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Use ctlplane for internal QDR communication\n\nThis patch makes interior metrics QDR use ctlplane interfaces for which\nports are opened on THT side.\n\nChange-Id: Ie1394d6f6977d8ae3a4e57015cc8c3b2ec7a6f3d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "make sure we start nova-compute after nova-conductor\n\nWhen nova-compute and nova-conductor are collocated, we need to make\nsure nova-conductor starts before nova-compute otherwise nova-compute\nwill just fail to start.\n\nChange-Id: Icc3ed768af2a08e2db78d9c9278d309a62d26850\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Aodh deprecation\n\nService assurance framework is going to replace Aodh as alerting solution in T release.\nThis patch adds warning about the service removal.\n\nChange-Id: Icef377071aaad5b58518a8a436c5821532482be2\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add support for ovn clustered databases\n\nThis patch adds support for managing the ovn connection correctly when\novn is handling clustering instead of pacemaker. By default if the\nparameter is not enabled, the pacemaker managed way is assumed.\n\nChange-Id: I97442478d77d222fdd428eebd270c08df08237f6\nRelated-Bug: #1931133\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Clear last dependency on puppet-ceph from Manila manifest\n\nThis is now addressed in ansible and by removing it we should be\nable to get rid of the last dependency we had on puppet-ceph\n\nChange-Id: I10d1fb8efea5ccb79f32260fe98dcfdf59eff254\nDepends-On: I86b1b75c9d807356e9a1f1901bc7e8856f0c0961\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add TLS for ec2api metadata service\n\nThis adds a TLS proxy in front of it so it serves TLS in the\ninternal network.\n\nbp tls-via-certmonger\n\nChange-Id: Id7d487abb65cf17cd65626e582bf4ff950b4395c\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable access to HAProxy stats page\n\nEnable access to the HAProxy stats page. The listen directive is bound\nto the controller virtual IP address.\n\nChange-Id: Ie0012da77ffdd9bfa8f06341aca2d70991558a28\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Create barbican's creator role by default\n\nBarbican has a very specific set of keystone roles that it uses in order\nto properly enforce RBAC. One of them (and the most important) is the\ncreator role. Which you'll assign to your users in order to allow them\nto create and retrieve secrets (the other role that can do this is\nadmin... but we don't want to rely on this).\n\nFor usability, lets create this role automatically as part of the\nTripleO installation.\n\nCloses-Bug: #1812209\nChange-Id: I9d5f912684a0987a6bdf244321215bd5595a0fa0\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Be able to set pcs resource op defaults\n\nTested by adding the following hiera key to the deployment:\nparameter_defaults:\n  ExtraConfig:\n    tripleo::profile::base::pacemaker::resource_op_defaults:\n      timeout_test:\n        name: 'timeout'\n        value: '60s'\n\nAnd correctly obtained:\n[root@controller-0 tripleo]# pcs resource op defaults\ntimeout: 60\n\nThis allows an operator to raise global timeouts (which might be needed\nin case podman performance turns out to be problematic)\n\nDepends-On: https://review.opendev.org/664606\n\nChange-Id: Ifa75eb9274705ea4b1c530b22659e4e106681250\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add pacemaker nuage profile.\n\nThe pacemaker version of nuage has its DB sync at a different\nstep so we need a separate profile to ensure plugin.ini exists.\n\nChange-Id: Ia4a297008b259a8e238bd1ad511e82f4e5ab6d63\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Create separate resource for HAProxy horizon endpoint\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Use validate_legacy\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Add tests for tripleo::keepalived\n\nThis change adds test coverage for the tripleo::keepalived class\nand exposes the ability to pass network_vips as a parameter rather than\njust via hiera.\n\nChange-Id: Ied2f26f6bfdcd9c4fe85f08461b997c15c66345f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Clean TLS proxy-related setup for neutron-server profile\n\nSince the commit this depends on sets it up via hieradata, the\nconditionals here are no longer needed.\n\nbp tls-via-certmonger\nDepends-On: I9252512dbf9cf2e3eec50c41bf10629d36070bbd\n\nChange-Id: I37275e42763e103b81878b6af07c750a524c5697\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Loadbalancer: Add support for Redis\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Fixes incorrect ownership of ODL TLS cert/key\n\nDeployments were failing because the owner/group of the TLS generated\ncertificate and key were set to 'odl'.  This user and group does not\nexist in a containerized deployment because the ODL RPM is only\ninstalled in the container.\n\nThis patch leaves the owner as root for the files which works because\nthe files are only used to generate a keystore for ODL (which is owned\nby odl), and the cert/key files themselves are never read by ODL.\n\nCloses-Bug: 1757135\n\nChange-Id: Ie5b9e98ea2fc16b820d56272653df4874e81cf68\nSigned-off-by: Tim Rozet <trozet@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"make sure we start nova-compute after nova-conductor\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Make OpenStack service ports configurable in HAProxy\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Run nova-cell_v2-discover_hosts at step 5\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Add short node name override support to manila\n\nIn line with the cinder & cinder-backup services, we add\nshort node name override support to manila when implemented\nwith pacemaker.\n\nThis is required in order to complete the 'scale-up' upgrade\nsteps for manila similar to the implementation in\nI3cfd4272449b207874723682903505d2bbdb435b\n\nIncluded is also an update to the tests and their fixtures to\nensure that the unit tests for the manila data are consistent\nwith the other similar services (cinder volume and cinder\nbackup).\n\nRelated-Bug: #1838971\nChange-Id: I2c468e608a8f70d031b9ba08521bb75f7094c048\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Force GDPR compliance of containers logs\n\nAfter purge_after_days, defaults to a 14, forcibly remove\nany rotated and compressed logs of containerized services\nin /var/log/containers. This overrides any related\ncontainerized logrotate configuration used for\ncontainerized services.\n\nAllow to alter rotation interval for log files managed\nvia containerized logrotate. Defaults to 'daily'\nand rotate 14 (days).\n\nUse sharedscripts to clean up files in the postrotate\nscript only once.\n\nAdditionally, to enforce GDPR compliance of log files\nin /var/log/containers, put them under logrotate management\n(minsize 1) and always compress. Prohibit the size option\nas it does not honor time-based contstraints required by\nGDPR. Forcibly remove all files but those rotated and\ncompressed logs, via the postscript section.\n\nPartial-bug: #1771543\n\nChange-Id: Id8e4717a5ecda53bc9cd39f1c2efaa80b56bd45e\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Allow for customization of the Ceph cluster name for Cinder\n\nProvides necessary 'passthrough' to configure the Ceph cluster\nname to the Cinder RBD backend.\n\nChange-Id: I8d5293eaaf104b6374dfa13992a67ddc37397f10\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Make calls to nova::compute::rbd from libvirt profile\n\nSome of the tasks carried by nova::compute::rbd class apply libvirt.\n\nChange-Id: Ib233689fdcdda391596d01a21f77bd8e1672ae04\nDepends-On: I28557deb13b75922932cd3e86c3467a541c988d0\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Stop creating symlinks for lbivirt's CA files\n\nThese were used in baremetal deployments, but are unused in\ncontainerized deployments. We bind-mount the CA files instead of\ncreating symlinks nowadays.\n\nChange-Id: Ib05f2bc4be9987b222cef78541fe05988cd8c0a4\nRelated-Bug: #1821139\n",
        "issue_summary": ""
    },
    {
        "commit_message": "HAProxy: Make certmonger bundle the cert and key on renewal\n\nthe postsave command is ran by certmonger when a certificate is\nrequested (which will happen on certificate renewal). The previous\ncommand given didn't take into account the file that haproxy expects,\nwhich is a bundled PEM file with both the certificate and the key. Thus,\ncertmonger would have never generated a new bundle that haproxy would\nuse, resulting in haproxy always having an old bundle after certificate\nexpiration.\n\nThis fixes that.\n\nChange-Id: Idb650d35f56abaf6a17e17794a068dd5933e6a62\nCloses-Bug: #1712514\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"neutron/plugins/ml2/bigswitch: do not require agent\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Use rpc and notify transport_url for oslo_messaging backends\n\nThis commit adds the transport_url for specifying the oslo.messaging\nrpc and notify transport schemes. The rpc or notification backend\ncan be one of rabbit, amqp, zmq, etc. Oslo.messaging is deprecating\nthe host, port and auth configuration options. All drivers will\nget the options via the transport_url.\n\nThis patch:\n* Adds transport_url to base services\n* Updates the corresponding specs\n* Adds to default hierdata\n\nDepends-On: I1cf93d2caebfa1f7373c16754a2ad9bd15eb1a40\n\nChange-Id: Iea5607dbb3ee6b1dd50acc1395de52dc920aa915\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Make enabling haproxy stats interface configurable\n\nSome people might or might not want to enable it. So this makes it\nconfigurable. It defaults to true as we were always deploying it before.\n\nChange-Id: I8d2a08cdaf3e5ec3d1a69d4f95e57522508c8610\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add tcp-check connect port line to haproxy redis stanza\n\nWhen https://bugzilla.redhat.com/show_bug.cgi?id=1677420 will be merged\nin haproxy (via haproxy-1.5.18-9.el7.x86_64) our redis backend will stop\nworking because the fix around tcp-check is now more correct and\naccording to the haproxy doc a tcp-check sections *must* start with\ntcp-check connect first. From\nhttp://cbonte.github.io/haproxy-dconv/1.5/configuration.html#4-tcp-check%20connect\n:\n\"\"\"\nWhen there are no TCP port configured on the server line neither server port\ndirective, then the 'tcp-check connect port <port>' must be the first step\nof the sequence.\n\"\"\"\n\nChange-Id: I261eb30b52a3baee3b0e6d47e8f32f3c579930bf\nCo-Authored-By: Luca Miccini <lmiccini@redhat.com>\nCloses-Bug: #1837086\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Manila: Remove implementation for VMAX share driver support\n\n... because the support has been removed.\n\nDepends-on: https://review.opendev.org/854503\nChange-Id: I98be49707843e9fab65518fbe07f852833ef4b2a\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Octavia: Replace hiera by lookup\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Adds the base and pacemaker profile for the memcached service\n\nImplements: blueprint refactor-puppet-manifests\n\nThis is the puppet-tripleo side for the memcached as a composable\nservice.  The related tht review that uses this is at\nI8802c2a0cf1e5fa1a6d1fab5e87f6014bea2f517\n\nChange-Id: Icd504aef7dda144582c286c56c925a78566af72c\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Remove remaining implementation for TripleO UI\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Add class to set noop on various puppet resources\n\nThis patch adds a new tripleo::noop class that can be\nused to help switch all resources of a given type\nto noop mode. The class does this via Puppet resource\ncollectors to enable the noop metaparam on all resources\nof the specified type.\n\nWhen a resource is in noop mode no action\nwill get taken (however puppet stdout will log information\nabout what would happen if noop were removed).\n\nThe motivation for this patch is to be able to do something\nlike this and run puppet to configure select resources\n(like only config files):\n\n class {'tripleo::noop':\n   file => false\n }\n\nIt is important to note that when tripleo::noop is used all common\nresources default to noop mode.\n\nThis could be used alongside docker containers to provide\na mechanism to pre-configure all related config files for\na set of docker containers ahead of time.\n\nChange-Id: I67f9dbbf33a2d6bcee5005ae0b6b1aa7091039ad\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Add Octavia OVN Provider configuration (2 of 2)\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Move databases creation and sync with the role\n\nThis change moves the database creation and sync with the role\nprofile, so that it's only executed when the role is enabled and\nby the role itself.\n\nIt also calls the non-pacemaker profiles out of the 'step'\nconditional because the non-pacemaker profiles know how to deal with\n'step' already.\n\nChange-Id: I6c752cb53090e7ef8e0319bade462f2453ed7660\nRelated-Bug: 1572952\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Make sure rhel-plugin-push.service is stopped after pacemaker stops\n\nWhen issuing a normal reboot command on an overcloud node the following\nstop sequence can take place:\n------------- -----------------------------\n| Pacemaker | | paunch-container-shutdown |\n------------- -----------------------------\n          |     |\n           \\   /\n            \\ /\n        ----------\n        | docker |\n        ----------\n\nIf there are docker plugins that are allowed to stop before docker and\nalso before pacemaker, it might happen that stopping them down during\nthe pacemaker stop will cause a bunch of timeouts and a failure to stop\ncontainers:\nSep 13 17:53:00.821030 controller-0.localdomain pacemakerd[6147]: notice: Shutting down Pacemaker\nSep 13 17:54:15.798026 controller-0.localdomain lrmd[6284]: warning: galera-bundle-docker-0_monitor_60000 process (PID 226329) timed out\nSep 13 17:54:15.799004 controller-0.localdomain lrmd[6284]: warning: galera-bundle-docker-0_monitor_60000:226329 - timed out after 20000ms\n\nOne of these plugins is 'rhel-push-plugin.service'. It seems that when\nthis plugin is free to stop before docker on shutdown, it is very\npossible that docker commands can start timing out.\n\nBefore:\nBefore adding the symlink we would need 15mins to reboot a node and\nwe would get a bunch of timeouts on shutdown and some failed actions on\nboot.\n\nAfter:\nA reboot will take a reasonable couple of minutes to complete with no\nfailed actions at boot and timeouts during shutdown.\n\nNB: We add the symlink unconditionally as systemd will ignore it if the\nservice is not installed.\n\nChange-Id: I6f6d27f2457efcc49d9edd8a2f98484c5f7c0933\nCloses-Bug: #1792701\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Move horizon to step 3\n\nWe configure apache in step 3 so horizon should be configured at the\nsame time or else updates will cause horizon to be unvailable during the\nupdate process.\n\nChange-Id: I4032f7c24edc0ff9ed637e213870cdd3beb9a54e\nCloses-Bug: #1678338\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Delete the unnecessary word in numvfs_persistence.pp\n\nTrivialFix\n\nChange-Id: I4c67bedd2792c6fe4a2a6bfacd15cf27df6c5559\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add zaqar profiles\n\nChange-Id: Ie215289a7be681a2b1aa5495d3f965c005d62f52\nDepends-On: Ia863b38bbac1aceabe6b7deb6939c9db693ff16d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add support for Ironic Networking Baremetal\n\nAdd manifests to for Ironic Networking Baremetal componentes:\n - ML2 plug-in - baremetal mechanism driver\n - L2 Agent - ironic-neutron-agent\n\nChange-Id: I3c40f84052a41ed440758b971975c5c81ace4225\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add SQLAlchemy-collectd support\n\nThe SQLAlchemy-collectd plugin is now shipped in podman\ncontainers under Kolla, this allows heat templates\nto pull the plugin into the collectd configuration when\nthe collectd templates are being used.\n\nA corresponding set of template changes in tripleo-heat-templates\nwill enable this plugin.\n\nChange-Id: If598da717653a383a2d3b3373c56517f8bca832f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Accept missing memcached_node_ips\n\nCurrently when Memcached is disabled in the deployment, puppet-tripleo\nfails because some manifests expect that memcached_node_ips is defined\nin hieradata.\n\nThis patch ensures that we define the default value ([]) for\nmemcached_node_ips, so that puppet-tripleo doesn't fail even if\nthe parameter doesn't appear in heradata.\n\nChange-Id: I6d3e32f7f8f0751bdfbd0b6f2e79c5d85e1af284\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Clean up unused params from aodh profiles\n\nChange-Id: I7c89fcef8cdd0e73ef8c5d615bb55db177abd375\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Let pacemaker bind-mount needed cert for haproxy bundle\n\nWhen SSL configuration is enabled, haproxy expects to load a SSL\ncertificate file at startup.\n\nUpdate the bundle configuration to always bind-mount the cert\nfile, to support both SSL and non SSL HAproxy bundle deployments.\n\nChange-Id: I6f4d3a5abae8f1781cfe6f69ff960aad500061e3\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable internal TLS options for ironic API\n\nThis was missing from the haproxy configuration. This commit sets that\nup.\n\nChange-Id: I33a16d79cc26c8c239b575361517e0151f14503c\nRelated-Bug: #1820815\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Make sure qemu CA has correct permissions\n\nMake sure the qemu ca has correct permissiones 0644 to be bind\nmountend into the libvirt container.\n\nRelated-Bug: #1900986\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1888951\n\nChange-Id: I9538b7e579d4921b14f6ef5eec0300e7e50628d4\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove support for Sensu/Uchiwa\n\n... because it was relady removed from tripleo-heat-templates.\n\nDepends-on: https://review.opendev.org/#/c/684614/\nChange-Id: I38b2f325477540e86fe98ed075ac75a0988eeec3\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add package_manifest resource.\n\nThis patch converts the write_package_names function into\na proper resource. Using the write_package_names only works\nif the function comes last in the puppet manifest. By\nmaking the same functionality a custom resource we allow\nfor it to exist anywhere in the manifest and provide the\nsame functionality.\n\n The new syntax would be:\n\n package_manifest{'/tmp/foo': ensure => present}\n\nCo-Authored-By: Martin M\u00e1gr <mmagr@redhat.com>\nChange-Id: If3e03b1983fed47082fac8ce63f975557dbc503c\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Allow for customization of the Manila CephFS pool name\n\nManila needs to know the CephFS pool name, which the deployer\nmight want to customize when the Ceph cluster is externally managed.\n\nChange-Id: I3adaa442b8c53ff902761d1dba283a79494c8ae6\nPartial-Bug: 1837099\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove NovaConsoleauth Service\n\nAs of Rocky [1], the nova-consoleauth service has been deprecated and\ncell databases are used for storing token authorizations. All new consoles\nwill be supported by the database backend and existing consoles will be\nreset. Console proxies must be run per cell because the new console token\nauthorizations are stored in cell databases.\n\nnova-consoleauth was deprecated in tripleo with:\nI68485a6c4da4476d07ec0ab5e7b5a4c528820a4f\n\nThis change now removes the NovaConsoleauth Service.\n\n[1] https://docs.openstack.org/releasenotes/nova/rocky.html\n\nRelated-Bug: #1828414\n\nDepends-On: https://review.opendev.org/658081\n\nChange-Id: I55d13aa079f40a97a7aeb60a636d8a7ce1d052c8\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Introduce tripleo::config\n\ntripleo::config is a class that will take care of param_config in THT.\n\nExample in THT:\n\npuppet_config:\n  param_config:\n    aodh_config:\n      oslo_middleware:\n        enable_proxy_headers_parsing: True\n\ntripleo::config will call the aodh_config provider for each\nparameter and its value, so here it'll call:\n\ncreate_resources('aodh_config',\n                 'oslo_middleware/enable_proxy_headers_parsing' => {\n                   'value' => True\n                 } )\n\nNote: we add a filter capability where once can configure\ntripleo::config with providers parameter to filter which providers we\nwant to call.\n\nChange-Id: Ia008917475edcd086fb5076fab320206d05ea557\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Make sure resource_op_defaults are set before bundles\n\nSee LP#1948032. We set a higher default resource op time out because\npodman often times out within the default 20s. We need to guarantee\nthat this timeout is set *before* we create any bundles otherwise\nit might be too late and we'd fail a deployment like described in the\nLP.\n\nChange-Id: Ic6ac8d21d12389e70cd382018290324d3ae948ce\nCloses-Bug: #1948032\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Add module to support ScaleIO backend in Cinder\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Adding OVNDBs vip to keepalive\n\nChange-Id: I56f7e3280eda6fe3cc8dd677ad06b700ef504829\n",
        "issue_summary": ""
    },
    {
        "commit_message": "nova-conductor: Fix wrong bootstrap node hieradata used\n\nIt should use nova-conductor bootstrap node instead of nova-api\nbootstrap node, because nova-conductor and nova-api might be deployed\nin different nodes.\n\nThis also adds a few unit test cases to validate the behavior to\ninclude the nova::db::sync class.\n\nChange-Id: I50ccae2b97382d2631f4a0a3cb3dbea0e7f23958\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable TLS for the HAProxy stats interface\n\nThis creates a new class for the stats interface and furtherly\nconfigures it to also use the certificates that are provided by\ncertmonger (via the internal_certificates_specs variable).\n\nNote that the already existing haproxy_stats_certificate still works and\nwill take precedence if it's set.\n\nbp tls-via-certmonger\n\nChange-Id: Iea65d91648ab13dbe6ec20241a1a7c95ce856e3e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"SSL support for haproxy -> novnc proxy connection\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Deprecating Dell EMC Xtremio Iscsi Volume Config\n\nA new Dell EMC Xtremio volume config which supports\nboth iSCSI and FC drivers is added. Deprecating the\nold Xtremio Iscsi config.\nhttps://review.opendev.org/#/c/723020/\n\nChange-Id: I333852460dd9e3bda55de7e2a11cf6cdab03ed35\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Clean up TLS-related bits from swift-proxy\n\nbp tls-via-certmonger\nChange-Id: I8a66d3a067f934ea30b668308237cbca1d58fbb8\nDepends-On: I3cb9d53d75f982068f1025729c1793efaee87380\n",
        "issue_summary": ""
    },
    {
        "commit_message": "updates to collectd support\n\nBased on Steve Hardy's comments in\nhttps://review.openstack.org/#/c/413748/, we need to move handling of\nthe list of plugins out of the heat templates and into puppet.  This\nmodule now uses the service_names variable to look up information on\nper-service collectd plugins.\n\nChange-Id: Ie5fba01e1f91ffdc39eb0eb1be9b1464c797b04f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Opencontrail vrouter profile\n\nA new opencontrail helper profile to run the vrouter. Will be\nincluded on nodes where VMs will run like compute, etc.\n\nChange-Id: I23b6e69ff75202e88722ca4f7d15a246abcd0453\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add support for switchdev mode in SR-IOV\n\nIn Kernel 4.10 supports changing SR-IOV to switchdev mode.\nThis mode allows to create VFs represontors which can manage\nthe SR-IOV VFs from the hypervsior.\n\nThis patch extends the tripleo::host::sriov::number_of_vf to\n<physical_network>:<number_of_vfs>:<sriov_mode>,\nwhere sriov_mode accepts legacy or switchdev.\nif sriov_mode is not specified we default to legacy.\n\nChange-Id: I578f956f2a8c6ee29a9d1ff38ee51765bcab05c1\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Revert \"Pin puppet-redis to 8.0.0\"\n\nThis reverts commit 4931d2cce84c61c764214360e4cf9f9a4083cdd2.\n\nReason for revert:\nThis issue was caused by a duplicate declaration detected when redis\nand redis::sentinel are both included and old puppetlabs-stdlib is\nused, but now redis::sentinel is no longer used.\n\nRelated-Bug: #1941772\nChange-Id: I0e4cf41b16fcbfd2260f84bd07a8b940de20dbc8\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Make service profiles default to rabbitmq_node_ips\n\nInstead of hard-coded yaml aliases in t-h-t, make each service\nprofile that requires rabbit default to the list of rabbit ips.\n\nNote this could still be extended in future to e.g enable per\nservice rabbit clusters, but the default is to lookup the\nhiera which should be logically equivalent to current t-h-t.\n\nChange-Id: Ie53c93456529420588eb1927703ea91b54095d87\nPartially-Implements: blueprint custom-roles\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Support for PowerStore Cinder Backend\n\nAdding support for PowerStore Volume Backend Driver\n\nDepends-On: https://review.opendev.org/#/c/742031/\nChange-Id: Id1fd4754285e683a4d92f6f2e790cd11255cb82a\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Move etcd to step 2\n\nEtcd should be configured and started in step 2 with other core\nservices when required.\n\nChange-Id: If95a74d211a194f2bfbe9653a6e19e05b095a210\nSigned-off-by: Feng Pan <fpan@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "HA: fix rabbitmq readiness check for rabbitmq-server 3.8\n\nIn HA profiles, we wait for rabbitmq application readiness by\nparsing the output of \"rabbitmqctl status\". This breaks with\nrabbitmq-server 3.8 which changed the output of that command.\n\nFix our check by using a \"rabbitmqctl eval\" and by relying on\na stable function call rather than parsing output. This\napproach works for rabbitmq-server 3.6 to 3.8.\n\nChange-Id: Id88d0aee74e4b26fd64bbc2da5d0c0fc4bbd6644\nCo-Authored-By: Yatin Karel <ykarel@redhat.com>\nCloses-Bug: #1864962\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Allow to override HAProxy global options.\n\nYou can either append new options or override existing one.\n\nThis can be particularly useful in case you want to set your own log\noptions, for example.\n\nChange-Id: I19005b7e70e624d3b64b6c2ac8eaadfdec3944db\nCloses-Bug: 1721246\n",
        "issue_summary": ""
    },
    {
        "commit_message": "novnc-proxy: Remove default post-save command for certmonger\n\nThe default command didn't work, so we need to fix that.\n\nRelated-Bug: #1811401\nNeeded-By: Idc0844c8726aa53bc4cbd55f902248f854d2464f\nChange-Id: Ifacbee9e31d84be1008ab7545defac71cf65793f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Use keystone::cache\n\nThis patch includes and starts using the\nkeystone::cache class explicitly.\n\nThe other parameters will be removed in [1].\n\n[1] https://review.opendev.org/#/c/746643/\n\nChange-Id: I6c0e8d33538edc1d521e38f028ff2772614feb99\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Implement Nova Compute profile\n\nImplements: blueprint refactor-puppet-manifests\nChange-Id: I57f729daf675674ce37b49e17652c575715fbe23\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Support for PowerMax Volume Config\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Add Octavia API endpoint to haproxy\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Add support for ovn clustered DB in the octavia ovn-provider\n\nChange-Id: I9ff9fac2ddaf6dc90b5a426e6988aa1e1f83b492\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add gnocchi profiles\n\nImplements: blueprint refactor-puppet-manifests\n\nCo-Authored-By: Carlos Camacho <ccamacho@redhat.com>\nCo-Authored-By: Juan Antonio Osorio Robles <jaosorior@redhat.com>\n\nChange-Id: I38f218da118c45f3af1938eb17298017f4c70e24\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove leftover of firewall management by puppet\n\nThis removes leftover of 373dee4156a628384c774abdbd65e890901d678c ,\nwhich removed all implementations related to firewall management by\npuppet.\n\nCo-Authored-By: C\u00e9dric Jeanneret <cjeanner@redhat.com>\nChange-Id: Iaef89f096e8d51e4250b18541de613cfd404ed0d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add class to write overcloud VIPs into /etc/hosts\n\nThis will be useful to start using FQDNs instead of IPs if we don't\nhave a DNS set-up. This will effectively grab a map of hosts to add\nand create them with puppet's host resource.\n\nChange-Id: I1bdb2701dfb3e7ef072e674c9882d3be5af7296c\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Pin puppet-collectd\n\nPin puppet-collectd because its recent change[1] broke its\ncompatibility with facter 2.X.X, which is currently required\nin centos-7 jobs.\n\n[1] https://github.com/voxpupuli/puppet-collectd/commit/bda9e87a412324ac2f11a5e1672d4630be3b09a7\n\nChange-Id: Ie3174349b23a46d527358e0d57f9ccbce73dec49\nCloses-Bug: #1862434\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add MySQL profiles\n\nAdd MySQL profiles, for non-ha and ha scenarios.\n\nChange-Id: I7ddae28a6affd55c5bffc15d72226a18c708850e\nCloses-Bug: #1601853\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix tripleo::haproxy::stats to be more correct and flexible\n\nIn this change we do three things:\n1) We make the class parameter 'ip' also be a list so that multiple\n   bind addresses are possible\n2) We remove the hard coded 1993 and move it to a parameter\n3) Instead of passing only the controller_virtual_ip as the only bind\n   address on all controllers which makes no sense (see linked LP)\n   we also bind to the IP specified in the hiera key\n   'tripleo::haproxy::haproxy_stats_bind_address'.\n\nTested this change with the accompanying THT patch and correctly\ngot the haproxy stats on a custom network (internal_api and the\ncontroller vip):\n\nlisten haproxy.stats\n  bind fd00:fd00:fd00:2000::16:1993 transparent\n  bind 192.168.24.15:1993 transparent\n  mode http\n  stats enable\n  stats uri /\n  stats auth admin:password\n\nI did not remove the controller_virtual_ip binding as that might be\na breaking change for operators. We could think about deprecating it\nand removing it eventually.\n\nRelated-Bug: #1830334\nChange-Id: Iab5f11c3065ff34a3543621554e7f05161d069f2\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Removes logic dependent on 'odl_on_controller'\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Add collectd-sensubility configuration\n\nThis patch adds possibility to configure collectd-exec to execute\ncollectd-sensubility and configure this extension.\n\nChange-Id: Ieb5042603ff76fd22f867a17a853bb1ec6a744f2\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Pass variable from puppet-tripleo to puppet-neutron\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Allow mysql options to be set for the HA bundle\n\nIntroduce a generic mechanism to override mysql options for the HA\nbundle. We reuse the profile::base hiera key so we leverage unity\nbetween nonHA and HA hiera settings\n\nChange-Id: I6dc048882e7e9be44710829e98c90d2e9663b372\nCo-Authored-By: <dciabrin@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Use correct memcached IPs for Swift object-expirer\n\nThe memcached IP is not properly set in case of separate storage nodes.\nUntil now, these were only set if the Swift proxy node was also\nconfigured on the same node; however, this is not the case with separate\nstorage nodes. The service would still run, but was not able to use any\ncache and logging errors therefore.\n\nCloses-Bug: 1889663\nChange-Id: I70ac9fcd3f74975c96c715ecbc818e6606ff4517\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add tunnel timeout for ui proxy container\n\nAdd an explicit tunnel timeout configuration option to increase the\ntunnel timeout for persistent socket connections from two minutes (2m)\nto one hour (3600s).  A configuration was already present to apply a\ntunnel timeout to the zaqar_ws endpoint, but that only applies to\nconnections made directly to the zaqar_ws endpoint directly.  Since UI\nnow uses mod_proxy to proxy WebSocket connections for Zaqar, the timeout\nis now applied for the same reasons to the ui haproxy server.\n\nChange-Id: If749dc9148ccf8f2fa12b56b6ed6740f42e65aeb\nCloses-Bug: 1672826\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable automatic restart of memcached, apache and mongodb\n\nPrior to Newton, HA deployments had automatic restart of non-Openstack\nservices on controller nodes. From Newton onward, after we switched to\nsystemd for the vast majority of services, Openstack services are\nconfigured for automatic restart, but memcached apache and mongodb\nlack it.\n\nGenerate a drop-in file for the mentioned services, so they can\nrestart automatically in both HA and non-HA deployments.\n\nChange-Id: I8576db193b358cf804e8aaeb0e05b31c635ae5ba\nCloses-Bug: #1741263\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Barbican: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: I2030aef451bda4471cb20a6de935c3b371885889\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Switch Octavia API to use source balancing\n\nRecent rolling upgrade testing showed an issue where the HAProxy\nin front of the Octavia API was blind round-robin distributing\nconnections. This leads to failures during a rolling upgrade event\nwhere consumers of the API doing version discovery may get different\nAPI instance/versions across API calls.\n\nThis patch switches the Octavia API to use source IP balancing with\nconsistent hashing to improve the rolling upgrade scenario where\nmultiple API requests from the same user should be directed to the\nsame API instance.\n\nIt also switches the healthcheck to do a simple HEAD / check. This\nshould reduce load on both the Octavia API process and the HAProxy\nprocess, but also lines us up for enabling /healthcheck later in\nVictoria (A Ussuri Octavia feature).\n\nChange-Id: If6b8964a1ac28221604e138723e5971d1f616edb\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix Heat 302 redirects\n\nWhen doing a heat stack-show, Heat initially returns a 302 redirect.\nWith the existing loadbalancer config for SSL, this results in a\nredirect to an http:// address pointing at the SSL port, which\nnaturally doesn't work.\n\nThe fix for this is to use the rsprep haproxy option to rewrite the\nLocation header in responses from the Heat api server.  This allows\nus to properly handle redirect traffic as https.\n\nAlso note that http header rewriting requires \"mode http\", so that\nis added here as well.\n\nChange-Id: I7e5c5b1877e9aa46c4b88dfba45c1fddf61727fc\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add missing \"z\" flag for specific mounts\n\nDepending on the host history, it may happen some directory content\ndon't have the correct SELinux type. This has been seen with OVN\nservice, during a Queens -> Train FFU:\n\nwhile the /var/lib/openvswitch/ovn directory had the correct\ncontainer_file_t type, some files in this location were typed with\nopenvswitch_var_lib_t, leading to errors during the deploy part of the\nupgrade (after the OS upgrade, when the deploy is running on the cleaned\nhost).\nThe specific issue depends on the actual files with the wrong label, but\nusually it involves a container crash/error, leading to a deploy error,\nand a manual intervention in order to correct the SELinux type in the\nlocation.\n\nThis situation may happen when first deployed on Queens, since it was\nusing Docker. For the records, back then Docker Daemon was configured in\norder to disable the SELinux support, so it didn't really care about\nlabels; but the situation is different with Podman, and we have a full\nSELinux support at all levels on the OS, leading to the issue.\n\nFor the records, tripleo-heat-templates as well as tripleo-ansible are\nsetting the \"setype: container_file_t\" on the directories, but we don't\nuse the \"recurse: true\" in order to avoid performance issues - some\nlocations might be huge, and it would take too much time to relabel\neverything via ansible.\n\nThis patch aims to converge all the mounts to the same options, and\nensure no SELinux denial can prevent the actual container startup and\nfunction.\n\nChange-Id: Ic3e427156fc82c524c763d1896937fcc3c49fabb\nCloses-Bug: #1943459\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Use FQDNs for RabbitMQ's cluster configuration\n\nThis sets the cluster_nodes configuration in RabbitMQ to use FQDNs\ninstead of IP addresses. Note that in HA, RabbitMQ is already\nconfigured using FQDNs.\n\nChange-Id: I2b1cec25ff25f4afd72a28246c2cda9c58d7b61e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add support for fence_ironic fencing agent.\n\nWe now support creating Pacemaker stonith fencing using the fence_ironic\nfencing agent.\n\nPartial-Bug: #1649695\n\nDepends-On: I315f9bb78a1296f691dadaeb39fb0a48df1d5f06\nChange-Id: I596eef68820f16516feeda147d3689f0da85d7ac\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Do not invoke host config in agent config\n\nThe SR-IOV agent config was pulling in the host configuration which is\nincorrect and will not work under certain conditions.\n\nChange-Id: If5a0861441c1c33431364f2a1f3d7d1296106159\nCloses-Bug: #1832335\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Set disable:true for oci-machine-register\n\nThis is meant to help resolve an issue where systemd would stop\nthe docker service incorrectly. Often seeming to occur when a container\nwas in a restart state.\n\nChange-Id: Ifb519f8ee7412ef486e709a19c1251a0f7e5d35e\nRelated-bug: #1733943\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Replace deprecated ip functions\n\nThe ip functions in puppetlabs-stdlib are deprecated since 4.13.0[1]\nand should be replaced.\n\nAlso, this change removes the is_ip_addresses method, because now\nthe method is used only with the String variables and can be replaced.\n\n[1] https://github.com/puppetlabs/puppetlabs-stdlib/commit/6d185bdaa19f698270a0df4b0a0c05618864b955\n\nChange-Id: I28f1a718e2d24d5de6cbe40e1b1a68b1072f3f07\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Pin rsyslog\n\nThey've broken backwards compatibility in master so we need to pin to\nthe previous version.\n\nChange-Id: Ie384fd450c01a760f426512479e1bd54fa578dff\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Removing WARNING: line has more than 140 characters in puppet-tripleo profiles\n\nSome lint checks are returning:\nWARNING: line has more than 140 characters in puppet-tripleo profiles\n\nThis patch will remove those warnings by adding \\'s\n\nChange-Id: I19b56c93db82948fb0498a4c9851b522c81946f8\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Move gnocchi::api resource to run with wsgi setup\n\nHaving this run in step 4 causes a refresh (restart) for httpd, which\nin turn is problematic for the gnocchi db upgrade command, since when\nit runs httpd is not available at that point. This fixes the issue,\nsince the API configuration is now ran at the same time as the wsgi\nbits.\n\nChange-Id: Ie0ab389a4450bb940757e34d1964423911885fa3\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Move unfencing to meta_params\n\nWe currently do a requires=\"unfencing\" on a start operation, which is\ndeprecated and will be removed in pacemaker 2.0\n\nWe need to move this to a meta param and since pacemaker has supported\nthis since the dawn of time we can move to it now.\n\nCloses-Bug: #1771519\n\nDepends-On: I5ec830e092646a3626cacea264de9ad81fcdd124\nChange-Id: I788e57b7bff68a934794e008cd6127e19882cd23\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix lint failures\n\nWe started seeing some lint failures which were not caught properly\nbefore. This change fixes all these failures to unblock the lint job.\n\nChange-Id: I8efbf29e0d153d48f114d8799ffb67e3c7a8185f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Filter haproxy_certificate_specs if hostname is empty\n\nThe HAProxy tripleo service currently attempts to generate certificate\nspecs for all enabled networks which failes on roles that omit some\nnetworks.\n\nFor now workaround it by filtering out the bad certificate specs in\npuppet-tripleo.\nA similar workaround was implemented for apache in\nI651919488cb68b0b9878b4e21ab376bfc6e3f0fe.\n\nCloses-bug: #1905604\nChange-Id: I6f165491228f05539193f2e762b1b10320f52c36\n",
        "issue_summary": ""
    },
    {
        "commit_message": "haproxy: Use healthcheck API for Ironic and Octavia\n\nThe healthcheck API is now enabled in Ironic and Octavia so we can\nreplace the API endpoint used to check service status.\n\nDepends-on: https://review.opendev.org/787215\nChange-Id: I3a412e393647598f3607279b4741373bab07595e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add AuditD Profile\n\nThis patch allows the management of the AuditD service and its associated\nfiles (such as `audit.rules`)\n\nThis is achieved by means of the `puppet-auditd` puppet module.\n\nCloses-Bug: #1640302\nCo-Authored-By: Luke Hinds (lhinds@redhat.com)\nChange-Id: Ie31c063b674075e35e1bfa28d1fc07f3f897407b\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Implement Nova Scheduler profile\n\nChange-Id: I5e1c90e3c6dc556f872ced73744c5c74caaa3635\nImplements: blueprint refactor-puppet-manifests\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable X-Forwarded-Proto header for keystone admin endpoint\n\nThis is useful for handling URLs properly when TLS is enabled.\n\nChange-Id: I4defed679cf3b2980dcc4ce1db030c0fdf154bfe\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove unused tripleo::profile::base::validations\n\nThis was used by instack-undercloud which was retired during the Rocky\ncycle. The same is now implemented by tripleo-ansible and the remaining\nimplementation is unused.\n\nChange-Id: I9b83f8d337883cc260d6819e96439cc19700134f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove the hardcoded tcp_keepalive false parameter\n\nIn change I35921652bd84d1d6be0727051294983d4a0dde10 we want to remove\nall those duplicate tcp_listen_option entries. One consequence of that\nis that we need to set rabbitmq::tcp_keepalive to true via hiera\n(as opposed to forcing it via the tcp_listen_option hash).\n\nFor this to work we need to remove this forced parameter override.\nNote that even if I35921652bd84d1d6be0727051294983d4a0dde10 and this\nchange don't merge at the exact same time it is still okay because\nwe do force tcp_keepalive to true via the tcp_listen_options.\n\nChange-Id: I608477d5714a5081b3b4ab3b9fc2932bdd598301\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add httpchk for http services\n\nThe httpchk health check option should help reduce the situtations\nwhere haproxy thinks the service is up but the service is only\nlistening and not actively serving http requests.\n\nChange-Id: Ie72b96c76d7513f84003bc15b6527c97df7ba92f\nCloses-Bug: #1629052\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Add cinder RBD support for multiple ceph clusters\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove wsgi enabled parameters in nova\n\n... because issue with wsgi deployment in nova[1] was resolved a while\nago, and we don't encourage users to use standalone eventlet servers.\n\n[1] https://bugs.launchpad.net/nova/+bug/1661360\n\nChange-Id: I40c3b6ea9a958cb5b1548282299414a72eb254c4\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Disallow TLS v1.0 from HAProxy\n\nThis forces HAProxy to only accept newer versions of TLS, which allows\nus to meet FedRAMP requirements.\n\nChange-Id: I14f4de3875a743ee5328b13668790b26cefd8439\nRelated-Bug: #1754368\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable metrics qdr to use public VIP\n\nThis patch adds HAProxy configuration for MetricsQdr service, so that\nQDRs running on controller nodes in interior mode can be accessed\nby external clients (such as CloudForms)\n\nDepends-On: https://review.opendev.org/700250\nChange-Id: I048cebe08d5e63693799b93c649231acfc772922\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable ovn controller to be updated before ovn-northd.\n\nSetting this parameter on recent enough ovn controller[1] allows the\nupdate of ovn-controller before ovn-northd without breaking the\ncreation of new flows.\n\nThis is the usual pattern of an tripleo update.\n\n[1] >= ovn2.13-20.09.0-17\n\nChange-Id: Ibbdb9d68c5fe6483357b6cdbe63ccdf8f3e097f5\nDepends-On: https://review.opendev.org/c/openstack/puppet-ovn/+/763895\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Allow neutron_options customization for dashboard\n\nBy default only profile_support can be configured depending of the neutron\nmechanism driver used (cisco_n1kv).\nThis patch allows to add more neutron options to enable lbaas, vpnaas, etc...\n\nChange-Id: I7c040519b45b60910778f93b8ffe7a413b4cb6ae\nCloses-Bug: #1594388\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Correct typo on hieradata key\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Do not make RabbitMQ listen on public vip\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Certmonger/rabbitmq: Remove parameter doc for unexisting parameter\n\nThis parameter was used at some point in the implementation but ended up\nnot being needed in favor of getting this information from the puppet\nmanifest. So it's removed as the parameter doesn't actually exist.\n\nChange-Id: I09f4091ee7a2221b26249959ea2927090d36ba0f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove mode tcp enforcement where unneeded, we default to mode tcp\n\nChange-Id: Ic0ae6b743a732ccd2cf7e395b5ab172bf3daaf7d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix galera deployment when stack's name has capital letters\n\nThe galera resource agent generates a mapping of pacemaker node\nname (shortname) to galera node name (FQDN). Fix the generated\nmapping when stack's name uses capital letters.\n\nChange-Id: Ica82e44852bae81931b4c87acd71b90656812061\nCloses-Bug: #1748927\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Change haproxy mode to http for octavia\n\nWe should be using 'http' instead of the configured default of tcp as\nthe transaction mode for octavia.\n\nChange-Id: Ia23e794009b0c69eb9b24d991fa4ab857a00545f\nCloses-Bug: #1815603\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Support for Dell EMC VNX Manila Driver\n\nThis changes adds Dell EMC VNX backend as composable service\nand matches the tripleo-heat-templates.\n\nChange-Id: Iab80dc636913610704e1ceb2642ce738b68bb827\nImplements: blueprint support-dellemc-vnx-manila\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add option to configure snmpd auth type\n\nMD5 will not work under FIPS.  We need a way to configure the\nsnmpd auth type to something other than MD5 (the other supported\noption is SHA).  Otherwise snmpd will not start up under FIPS.\n\nChange-Id: I92e6c5283f6d0ba605fa2c0bcda6bea9041a0f4f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add etcd3gw api_version to cinder backend_url\u00a0\n\ntooz etcd3gw driver makes use of api_version in backend_url from cinder.conf\n\napi_version specifies the endpoint used for communication between etcd3gw and\nEtcd service.\n\nThis patch ensures that the correct api_version is passed to tooz to\nimplement Etcd <-> etcd3gw compatibility as shown below.\n\n\u00a0 EtcdV3.4 (el9) supports /v3/\n\u00a0 EtcdV3.2 (el8) supports /v3aplha/\n\nDepends-On: Ib30c1e003f261cd7e1ac6fed87167f9974bf8542\nCloses-Bug: 1983668\nChange-Id: I8f00c1b4299743e2ad21b25b6a1aeddca6edfd34\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove old central and compute agent profiles\n\nWe've been using polling agent profile with namespace for\nsometime now. We can drop these old unused classes.\n\nChange-Id: I54c68a91fd39d7fe2f15a05359d60f6af559aa61\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Make sure we apply qemu config changes\n\nWith the change in https://review.openstack.org/#/c/561784/3 we need to\nmake sure that the new port range get applied to the the qemu.conf file.\nThis change includes ::nova::migration::qemu to\n::tripleo::profile::base::nova::libvirt\n\nChange-Id: Idadfc7b3507977f1385e846a48a734ed0e5f0a32\nCloses-bug: 1779820\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Allow 'cinder' as a backend for Glance\n\nAllow 'cinder' as a valid Glance backend. This value is already supported\nby puppet-glance.\n\nChange-Id: I850047e32f3608b3ce490e52e2e540695cb1a4ff\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Enable TLS for the HAProxy stats interface\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Clean up deprecated parameters for nova metadata eventlet service\n\nThis changes removes the parameters for nova metadata eventlet service,\nwhich were deprecated a while ago[1].\n\n[1] 54c505f1967909505c09fbc11c4a969b1af65439\n\nChange-Id: Id24897e8c9927ee196a4f8eeffc6b5a3a25d809f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Split docker options and insecure registry\n\nUse augeas to modify only parameters' dedicated configuration.\nSplit options from insecure registry. Overlapping those params may\nunschedule the docker service restarts for some cases, ending up with\na split brain state for the docker service run-time config vs changed\n/etc/sysconfig/options config.\n\nChange-Id: Ic5640061837b022f7175f0db0dc269f9a61e6023\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix designate db instantation\n\ndesignate::central now requires designate::db\n(I696745e2d57aade6cbb0fe89e334fddf1beaafdb), so we need to instantiate\nthe latter first.\n\nChange-Id: I15cdc27468f6e54dc14c8ffd818f326cb93ba2e3\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Do not fail fencing configuration when instanceha is disabled\n\nRight now we fail like this if fencing is enabled but instanceha is not:\n\"Error: Evaluation Error: Error while evaluating a Function Call, Could not find data item compute_instanceha_short_node_names in any Hiera\ndata file and no default supplied at /etc/puppet/modules/tripleo/manifests/fencing.pp:61:13 on node controller-0.localdomain\"\n\nChange-Id: I36691997bffc56cb4fe17b2f762e4d44d71dfe50\nCloses-Bug: #1747643\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Configure dockerd with --iptables=false\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Wait for MongoDB connections before creating replset\n\nSometimes the mongodb_replset resource fails with:\n\nCould not evaluate: Can't find master host for replicaset tripleo.\n\nThis issue is intermittent so the fix cannot be perfectly verified, but\nthe assumption is that if we wait for MongoDB to be reachable on all\nnodes, it will assure that the members will appear to the puppet module\nas alive when creating or verifying the replset. If the validation\nfails, it should help us uncover which of the members was causing\ntrouble.\n\nChange-Id: I0bcd0d063a7a766483426fdd5ea81cbe1dfaa348\nCloses-Bug: #1624420\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add ceph dashboard frontend endpoint and tls-e integration\n\nThis change exposes to the end-user the new ceph dashboard\nfrontend which is fully integrated with grafana service.\nThis review also adds all the info/classes to integrate the\nservice with tls-everywhere framework, providing the cert\nrequest and generation that will be passed to ceph dashboard\nvia ceph-ansible.\n\nDepends-On: https://review.opendev.org/#/c/704308\nChange-Id: Id6d2e4b00355cd84baccc2b493f3205c2b32a44b\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Configure the numvfs for SRIOV interfaces\n\nThis patch shall create VFs via the PCI SYS interface.\nDefault value : $::os_service_default\nSample Format : ['eth0:4','eth2:128']\nFor values as in sample format, the sriov_numvfs config files\nfor eth0 and eth2 will have the values 4 and 128 respectively\nThe SR-IOV numvfs configuration shall be persisted in /sbin/ifup-local\nso that, during the bootup of the compute nodes, the numvfs\nconfiguration will be restored.\n\nChange-Id: I7450b904475bdf46498d9af633416b3eba12f761\nImplements: blueprint tripleo-sriov\nSigned-off-by: karthik s <ksundara@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove implementations for Docker support\n\n... because Docker support has been removed from tht and these are no\nlonger used.\n\nDepends-on: https://review.opendev.org/843755\nChange-Id: I5719d06464ba2c1d37898b44f70ac5521ceaaf7e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix typos, extreamio and xtreamio to xtremio\n\ndellemc_extremio_iscsi is a wrong name.\nIt has to be dellemc_xtremio_iscsi.\nAnd xtreamio should be xtremio.\n\nChange-Id: I7ba7b3ca151bf101742dc84ad80204cda42e2dbb\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix a typo in mysql.pp\n\nRemoved redundant 'the'\n\nChange-Id: Ie2051f35ec1e7010423c46084f5512c02af85f33\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Set ovn_chassis_mac_map in ovn::controller\n\nFor distributed vlan in ovn we need to add support of\ncreating mac addresses per compute and seting them in\nexternal_ids:ovn-chassis-mac-mappings.\n\nDepends-On: https://review.opendev.org/776210\nRelated-Bug: #1881593\nChange-Id: I785400969efba0062aabdca9af2726a7603ef840\n",
        "issue_summary": ""
    },
    {
        "commit_message": "TLS everywhere: Add resources for mongodb's TLS configuration\n\nbp tls-via-certmonger\n\nChange-Id: I85dda29bcad686372a74bd7f094bfd62777a3032\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Allow overriding share protocols with manila\n\nWe need a way to override available protocols\nfor enabled Shared File Systems service back ends,\nor enable custom ones per the deployment.\n\nChange-Id: I7b36e5c45b029f070976e58335d79678752a990c\nCloses-Bug: #1831767\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\nCo-Authored-By: Alan Bishop <abishop@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add Neutron opencontrail plugin profiles\n\nChange-Id: Ie5ac07e6dd447216f17481ea4acf3bc204926bc8\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Pass X-Forwarded-Proto for missing services\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Add support for multiple Cinder RBD backends\n\nAdd a parameter that allows the user to optionally specify a list of\nextra Ceph pools to be used as additional RBD backends for Cinder. A\nseparate RBD backend is created for each pool in the list.\n\nImplements: blueprint multiple-cinder-rbd-backend\nChange-Id: I3318b9eaef607d6992f9a8cb605817b6f76dd331\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix lint errors with the latest lint packages\n\nThis change fixes the lint errors detected since we removed pins of\nlint packages.\nNote that this change also replaces absolute name used to call\nthe tripleo::stunnel::service_proxy resource type, which is not yet\ndetected by the latest lint rules.\n\nCloses-Bug: #1928079\nChange-Id: I12ba801db92cb3df1d05f14f4c150ac765f0b874\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Introduce nova virtlogd wrapper\n\nWhen nova_virtlogd container gets restarted the instance console auth files\nwill not be reopened again by virtlogd. As a result either instances need\nto be restarted or live migrated to a different compute node to get new\nconsole logs messages logged again.\nUsually on receipt of SIGUSR1, virtlogd will re-exec() its binary, while\nmaintaining all current logs and clients. This allows for live upgrades of\nthe virtlogd service on non containerized environments where updates just\nby doing an RPM update.\nTo reduce the likelihood in a containerized environment virtlogd should\nonly be restarted on manual request, or on compute node reboot. It should\nnot be restarted on a minor update without migration off instances.\nThis introduces a nova_virtlogd_wrapper container and virtlogd wrapper\nscript, to only restart virtlogd on either manual or compute node restart.\n\nCloses-Bug: #1838272\n\nChange-Id: I5192f8c306422d0966eef7544f719cc21172bd92\nCo-Authored-By: Rajesh Tailor <ratailor@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add neutron profiles\n\nImplements: blueprint refactor-puppet-manifests\n\nAdd neutron profiles for both pacemaker and non-ha.\n\nHA profiles are designed such that they include the base\nprofiles, disabling features as needed, while the base\nprofile can be used independently.\n\nCo-Authored-By: Dan Prince <dprince@redhat.com>\n\nChange-Id: Ida781badbcd63bbcb481a2170638aefe262b717b\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Finish HAProxy config for metrics_qdr\n\nThis patch is fixing following issues:\n  - currently HAProxy is not enabled by default because of wrong hiera key\n  - QDR connections are not http connections\n  - the load balanced services are running only controllers and listening\n    on internal_api interfaces, so the pacemaker_nodes are reused for this\n    configuration.\n\nChange-Id: I6ae1ceca7ed4ae313c10e6d8be9803d20d68957d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "pacemaker: create Mysql_user once Galera is ready (puppet4)\n\nPuppet 4 ordering make things more strict in catalog, which is good.\nResources have to be orchestrated or Puppet will take them in the order\nthey are found in catalog.\n\nThis patch makes sure we create MySQL users only when Galera is actually\nready.\n\nCloses-Bug: #1645787\nChange-Id: I536a1a128c3a7eca49bcc4f34a1307bcd60b029e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add module to support ScaleIO backend in Cinder\n\nAlso adds an initial spec file for basic testing of the module.\n\nChange-Id: I5534aab53b70de215336a076d25263c73b8d7b5b\nPartial-Bug: #1661316\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Allow overriding RBD disk cache modes\n\nKeep the default network=writeback setting, but allow it\nto come from hiera overrides as well.\n\nChange-Id: I47aaf4be463684f5b67820b8ebb5db44ba960b44\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Support configuring multiple Netapp cinder backends\n\nAdd support for configuring multiple Netapp cinder backends. The\nupdate also drops some legacy code related to features that were\ndeprecated several cycles ago (Netapp's e-series hardware, and\nstorage pool search name patterns).\n\nChange-Id: I15f4828beb9db81583146fa9afdd21999ad5b078\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Switch RGW HAProxy healthcheck to use special RGW healthcheck url\n\nThe change is made because /swift/healthcheck weights less on RGW\nand avoids overloading the nodes CPU for basic HAProxy checks\n\nFor more information also see [1]\n\n1. https://bugzilla.redhat.com/show_bug.cgi?id=1850036#c16\n\nChange-Id: I3e2805a922c0e90dc493a3e065bbdc229e5fc7a8\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Initial support for tls_priorities\n\nWe add initial support for being able to specify tls priorities in\npacemaker. For bundles this will happen via an env variable because\npacemaker_remote is started normally as a process and there is no\nsourcing of /etc/sysconfig/pacemaker.\n\nTested on both queens and stein. Via a deploy and a redeploy against\nexisting cloud. Observed that:\nA) We got PCMK_tls_priorities inside /etc/sysconfig/pacemaker with the\nvalue that was passed in THT\nB) Containers had the following env variable set:\n  \"PCMK_tls_priorities=normal\",\n\nThe '-e' addition is a noop in case the PCMK_tls_priorities is unset\nso that we do not change the signature of the resources and hence do\nnot needlessly restart the HA resource.\n\nDepends-On: I1971810f6a90f244ed5ced972a5fe7fde29dde86\nChange-Id: I703b5a429f48063474aace85bc45d948f5c91435\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove OpenShift API from haproxy LB configuration\n\nSupport for OpenShift deployment in TripleO was already removed[1],\nso remove OpenShift API from haproxy LB configuration, as we don't\nexepect anyone use that implementation.\n\n[1] c845595ba3c9f8ad88e0dad24d56c7349fbd3d1b\n\nChange-Id: Id0825d95f1effd4091dda4a4324787762c180960\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Implement Nova Consoleauth profile\n\nChange-Id: I955b4fc07dc07d8adc32411848e3e131d77a5123\nImplements: blueprint refactor-puppet-manifests\n",
        "issue_summary": ""
    },
    {
        "commit_message": "httpd: Remove default post-save command for certmonger\n\nThe default command didn't work, so we need to fix that.\n\nRelated-Bug: #1811401\nNeeded-By: I862f0d15f769167c8b5d27cf302b7087b8fad0ab\nChange-Id: I642f48aa0e66ca57de2ecee921c798747ba41e1a\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove deprecated securetty\n\nThis code isn't used anymore.\n\nDepends-On: https://review.opendev.org/707293\nChange-Id: I50cc6e5d6a31e28be317aff9637b4b9c42d1ec37\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Support for PowerMax Volume Config\n\nPowerMax config options have changed since newton.\nUpdating them to the latest. Supports both iSCSI and FC\ndrivers.\n\nSupports deploying multiple instances of the\ncinder::backend::dellemc_powermax backend\n(e.g. one iscsi + one fc, multiple iscsi, etc.).\n\nDepends-On: https://review.opendev.org/#/c/708960/\nChange-Id: I25be51121390afd7ed3d0f0249733d3ccaf557de\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Use octavia::networking to manage [networking] parameters\n\nThe new octavia::networking class has been added to puppet-octavia,\nwhich allows managing parameters in the [networking] section.\nThis change ensures the class is included so that some parameters like\nport_detach_timeout is managed.\n\nDepends-on: https://review.opendev.org/819651\nDepends-on: https://review.opendev.org/819749\nChange-Id: I1c219615071cee72888feff7cea0647da86e9e11\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Set memcache_servers in /etc/swift/object-expirer.conf\n\nThis defaults to 127.0.0.1:11211 without setting these explicitly. The\nobject-expirer is working without a correct memcache server, however it\nis slower and warnings will be logged.\n\nRelated-Bug: 1627927\nDepends-On: Ie139f018c4a742b014dd4d682970e154d66a8c6d\nChange-Id: I89a879592a264d541cf42f007584e2e78058c867\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Avoid direct reference of hieradata\n\nThis patch introduces the following two parameters into\ntripleo::profile::base::nova::api class.\n - nova_enable_db_purge\n - nova_enable_db_archive\n\nThis allows us to use class parameters to change behavior of the class,\ninstead of the special hieradata implemented in its logic.\n\nChange-Id: Id054d4cceb42469382e24af91e65786da812d8ab\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix up property names in case of mixed case hostnames\n\nWhen deploying a stack that containes mixed-case hostnames\nthe following error might be triggered:\nDebug: try 15/20: /usr/sbin/pcs -f\n/var/lib/pacemaker/cib/puppet-cib-backup20180405-8-1sqw3dc property set\n--node TEST-STACK34-controller-1 redis-role=true\nDebug: Error: Error: unable to set attribute redis-role\nCould not map name=TEST-STACK34-controller-1 to a UUID\nwhile the name in the cluster is test-stack34-controller-1\n\nThis used to work pre-bundles because we used the facter provided\n$::hostname variable which was lower-cased for us. With bundles we\nswitched to setting cluster properties from the service bootstrap nodes\nand so we used the '<service>_short_node_names' hiera key which might\ncontain mixed-case hostnames.\n\nIn order to fix this we just downcase() the short_node_names hiera\nstring that we loop on so we can get the same behaviour we had on bare\nmetal.\n\nTested on an env with mixed-case hostnames:\n[root@uppercaseovercloud-controller-0 keystone]# hiera -c /etc/puppet/hiera.yaml rabbitmq_short_node_names\n[\"UPPERCASEOverCloud-controller-0\",\n \"UPPERCASEOverCloud-controller-1\",\n \"UPPERCASEOverCloud-controller-2\"]\n\nCluster pcs properties were set correctly:\n[root@uppercaseovercloud-controller-0 keystone]# pcs property |grep rabbitmq\n uppercaseovercloud-controller-0: galera-role=true haproxy-role=true rabbitmq-role=true redis-role=true rmq-node-attr-last-known-rabbitmq=rabbit@uppercaseovercloud-controller-0\n uppercaseovercloud-controller-1: galera-role=true haproxy-role=true rabbitmq-role=true redis-role=true rmq-node-attr-last-known-rabbitmq=rabbit@uppercaseovercloud-controller-1\n uppercaseovercloud-controller-2: galera-role=true haproxy-role=true rabbitmq-role=true redis-role=true rmq-node-attr-last-known-rabbitmq=rabbit@uppercaseovercloud-controller-2\n\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\nDepends-On: Ie240b8a4217827dd8ade82479a828817d63143ba\nCloses-bug: #1773219\nChange-Id: I5bd49c4a1b13b2310f8a1173aa6b86abfa5dab3d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Ensure we get a clean firewall\n\nThe iptables-services package pushes a bunch of default rules, activated as soon\nas we start the \"iptables\" systemd unit.\n\nThis patch intends to remove those default rules, in order to ensure we get\nonly managed firewall rules (either by puppet, or by any openstack service like\nneutron).\n\nIn order to prevent any issue, instead of erasing the file, we actually save the\ncurrent state prior the iptables-services installation and subsequent service startup.\n\nThe iptables-services installation and activation is done at the \"include ::firewall\"\nstep.\nPrior that, iptables is empty, meaning if we save, and pre-create the\n/etc/sysconfig/iptables and /etc/sysconfig/ip6tables files before we include the\n\"::firewall\" class, we will get an empty, clean ruleset.\n\nPlease note, this won't correct already deployed infrastructure though - that will\nprobably requires an upgrade_tasks directly in tripleo-heat-templates.\n\nSecurityImpact\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1667887\nPartial-Bug: #1812695\nChange-Id: I74d15b8de216984ac42a0839430ae9afe2554d16\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Change references from nsx_v3 to nsx\n\nThis patch changes references from nsx_v3 to nsx since the nsx_v3 functionality\nis the only one supported at this time.\n\nChange-Id: Id73f675844b0df2eafa45507d1c28f16cd0b15b2\nCloses-Bug: #1713191\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Allow wsrep_max_ws_rows and wsrep_max_ws_size to use defaults\n\nStarting with MariaDB 10.1.17 / 10.0.27, the wsrep_max_ws_rows\nsetting suddenly becomes meaningful, as with previous releases\nit had no effect [1].   At the same time, MariaDB has changed\nthe default value from 131072 to \"0\" which means no limit,\nso that their providing this functionality didn't break anything.\nThis breaks it for tripleo because we are hardcoding that\nnever-functional default which makes for much too small writesets.\n\nOn the MySQL-Galera side, it's unclear if\nthe wsrep_max_ws_rows setting yet has a meaningful effect, as [2] [3] remain\nopen but then in [4] they advertise that it *does* work, but\nagain they've changed the default to 0/no limit.\n\nAdditionally, the size of a writeset is more usefully limited\nby the wsrep_max_ws_size variable, which here is also hardcoded\nto an obselete default of 1G, the aforementioned MariaDB versions\nhave also bumped the default to 2G.\n\nI've looked up the origin of these settings in [5] and see\nno useful rationale for these numbers to be present, rather than\nallowing database-provided defaults to be used.\n\nIn all cases it is definite that the wsrep_max_ws_rows setting\nof 131072 has never been used by any of the MariaDB/MySQL/Galera\nvariants and we should not be setting this.\n\n[1] https://mariadb.com/kb/en/library/galera-cluster-system-variables/#wsrep_max_ws_rows\n[2] https://bugs.launchpad.net/codership-mysql/+bug/1373909\n[3] https://github.com/codership/mysql-wsrep/issues/257\n[4] http://galeracluster.com/2016/08/announcing-galera-cluster-5-5-50-and-5-6-31-with-galera-3-17/\n[5] https://review.openstack.org/#/c/177765/\n\nChange-Id: I0d25666fed15347c8351f127d8f564b2037ca065\nCloses-bug: #1738777\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Default haproxy listeners activation on hiera service _enabled\n\nChange-Id: I5c620ba717f782b39c599aff24b4ac56fb695a04\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add support for OVN Metadata Agent\n\nThis patch adds support for configuring networking-ovn-metadata-agent.\n\nDepends-On: I38f775479d178f5b252619635b67f876bc8c5ed5\n\nChange-Id: Ifdd42437333730a3b3e6f36cbab6df0a2971a5a1\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Dell SC: Add secondary DSM support\n\nAdds support for a secondary DSM in case the primary becomes\nunavailable.\n\nChange-Id: Ibf8c333f62556d421d67c853f1f0740d7f9985bf\nDepends-On: I331466e4f254b2b8ff7891b796e78cd30c2c87f7\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix typo in sslProfile conditional\n\nThe fixed typo is causing conditional to be always true.\n\nDepends-On: https://review.opendev.org/700250\nChange-Id: Ifb839a9c0d8ffca8a97a0cc97bfc4d3319e17e48\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add logrotate compress option\n\nRelated bz: #1570039\n\nChange-Id: Id07b7b53d31192a2d2172671b272a5b61dc8df52\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Tune haproxy for long running sessions to use leastconn\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Fluentd: Transform path by service\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Replace the deprecated aodh::auth class\n\n... by the new aodh::service_credentials class.\n\nDepends-on: https://review.opendev.org/772694\nDepends-on: https://review.opendev.org/779884\nChange-Id: I394ac5520504650d122b148f661a0104d35c29a9\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add missing services ports to service_ports map\n\nAODH, Gnocchi, Sahara and Trove were missing from the service_ports\nmaps and thus had hardcoded ports in the listener configuration. The\naddition of those ports to the map is required to give the\npossibility to deployers to configure those ports if needed. This\ncommit adds them to that map.\n\nChange-Id: Id009d65bf68ba91f97b0d60d32028da50fc88fc3\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Create profile to request certificates for the services in the node\n\nThis profile will specifically be used to create all the certificates\nrequired in the node. These are fetched from hiera and will be ran in\nthe first step of the overcloud deployment and in the undercloud.\n\nThe reasoning for this is that, with services moving to containers, we\ncan't yet do these requests for certificates within the containers for\nthe specific services. this is because the containers won't have\ncredentials to the CA, while the baremetal node does. So instead we\nstill do this on the baremetal node, and will subsequently bind mount\nthe certificates to the containers that need them. Also, this gives us\nflexibility since this approach still works for the baremetal case.\n\nThere will be a subsequent commit removing the certificate requests from\nthe service-specific profiles.\n\nChange-Id: I4d2e62b5c1b893551f9478cf5f69173c334ac81f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Drop duplicate neutron pacemaker constraint\n\nDrop a duplicate keystone-to-neutron-server-constraint constraint\nfor the neutron server profile.\n\nChange-Id: I928f9f9f3cf665ac80696f66e1d64ceb02129b8e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Revert \"Set ACLs on ceph client keyrings\"\n\nThis reverts commit a4d12e02a7a44116aa8c7a327e14a09522a54b57.\n\nThere is a typo in the manilla relationship that causes failures.\nReverting for now to unblock scenario004. The typo should be fixed and\nresubmitted.\n\nChange-Id: I69f54418dd603e5819b9da483a04cea3b3f66231\nCloses-Bug: #1731688\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add cinder profile spec tests\n\nThis change adds rspec testing for the cinder profiles with in\npuppet-tripleo. Additionally while testing, it was found that the\nbackends may incorrectly have an extra , included in the settings\nfor cinder volume when running puppet 3.  This change includes a fix\nthe cinder volume backends to make sure we are not improperly\nconfiguring it with a trailing comma.\n\nChange-Id: Ibdfee330413b6f9aecdf42a5508c21126fc05973\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add ability to specify memcached port\n\nThe port defaults to hiera('memcached_authtoken_port', 11211)\nfor authtoken middleware and hiera('memcached_port', 11211)\nfor other uses. Different ports might be set for security\nand performance tuning.\n\nChange-Id: I567d6b2cd66d5eb98971cd54987c1fbea3c1da78\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Make the cluster-check property configurable\n\nThis change will make the global cluster-check property configurable\nand will pick a lower default (60s) in case a pacemaker remote node\nis deployed.\n\nThe cluster-recheck-interval is set to default to 15minutes by\npacemaker. This value is too high when a pacemaker remote service\nis deployed. With this default value a reboot of a pacemaker remote\nnode will be reported as offline by pacemaker for up to 15minutes.\n\nWith this change we do the following:\n1) Do nothing in case pacemaker remote is not deployed\n2) When pacemaker remote is deployed and the operator has not\n   specified otherwise, we set the recheck interval to 60s.\n3) When the operator specifies the recheck interval we set that.\n\nChange-Id: I900952b33317b7998a1f26a65f4d70c1726df19c\nCloses-Bug: #1679753\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Drop nova_meta and glance_registry on public vip\n\nThis patch removes the public VIP for the nova metadata\nand glance registry services.\n\nChange-Id: I0878f7b3eeed6e16c5d30bdf76ebca56eb49d042\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Add missing haproxy listen options\"",
        "issue_summary": ""
    },
    {
        "commit_message": "mistral/api: include cron_trigger\n\nAllow to override hieradata for cron_trigger in Mistral API.\n\nChange-Id: I01c4497324b2c8666d9f749147693d580c0a5e20\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Unmanage SELinux within puppet\n\nSince [1] we manage SELinux state with ansible, at an earlier stage.\n\n[1] https://review.openstack.org/645238\n\nDepends-On: https://review.openstack.org/645238\nChange-Id: I1b4cc5c510793d5fc908c8369a2f6a06c4ccd886\nRelated-Bug: #1821178\nRelated-Bug: #1821025\n",
        "issue_summary": ""
    },
    {
        "commit_message": "masquerade: configure FORWARD rules\n\nWhen enabling masquerading, we need to allow the traffic to go through\nso we need the FORWARD rules as well, for source and destination\nnetworks.\nAlso support multiple destinations or sources for ipv4/ipv6 suffixed\nrules with a REGEX.\n\nChange-Id: I48aa95b96c762a72273b5b0b714a04da7ee69a40\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Include ::nova::pci to nova api profile\n\npci_alias was removed from nova::api with\nc3e5c7480f03949a824165349642b59a6077ec5d\nWe need to include ::nova::pci for the nova api service to have\npci/aliases configured in nova api.\n\nCloses-Bug: #1849797\n\nChange-Id: I5258028ff636e8a6287468499dd6974f6c7f6f6f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Remove implementations for Docker support\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix tls related grafana check in the cephadm context\n\nWhen grafana is deployed by cephadm as part of the Ceph cluster monitoring\nstack, the key/cert info are stored within the Ceph monitors' config-key\nstore.\nThis change allows to avoid haproxy producing several tls errors related\nto this config change in Ceph.\n\nDepends-On: Ia6f6c472a8f7332ae3e998078f167f5f7d027857\nChange-Id: Ibaca9010269e84e7a97c66ed419886796a011df9\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add VPP service\n\nVector Packet Processing (VPP) is a high performance packet processing\nstack that runs in user space in Linux. VPP is used as an alternative to\nkernel networking stack for accelerated network data path.\n\nImplements: blueprint fdio-integration-tripleo\n\nChange-Id: I70a68a204a8b9d533fc2fa4fc33c39c3b1c366bf\nSigned-off-by: Feng Pan <fpan@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix puppet lint failure\n\nI'm not sure how this merged, but it's causing failures in other\npatches to puppet-tripleo.\n\nChange-Id: Ib20d349fa9abd6347739190bb29a02b6e3eb839d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Support connecting OVN DB over SSL\n\nThis patch introduce parameters which support using SSL to connect to\nOVN_Northbound DB and OVN_Southbound DB.\n\nDepends-On: https://review.opendev.org/#/c/674603/\nChange-Id: I03bda5d2e36ab168079fc7e8be220c9a4e29e44f\nSigned-off-by: Kamil Sambor <ksambor@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix keepalived VIP monitoring script\n\nCurrently keepalived monitors VIPs by running some shell commands\nthat target HAProxy. The generated shell command is invalid, which\nmakes keepalived log errors.\n\nTue Apr 16 11:55:57 2019:    Command = '/usr/bin/test' '-S' '/var/lib/haproxy/stats' '&&' 'echo' 'show'\nTue Apr 16 11:55:57 2019: Script `haproxy` now returning 2\nTue Apr 16 11:55:57 2019: VRRP_Script(haproxy) failed (exited with status 2)\n\nFix quoting and invoke /bin/sh explicitely to fix the error:\n\nThu Apr 18 13:16:35 2019:    Command = '/usr/bin/sh' '-c' 'test -S /var/lib/haproxy/stats && echo show info | socat /var/lib/haproxy/stats stdio'\nThu Apr 18 13:16:35 2019: VRRP_Script(haproxy) succeeded\n\nChange-Id: I5a757f88963270e77c8ec411cd292a30f89c6bc0\nCloses-Bug: #1825366\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix upper case checks for SRIOV interface\n\nAllow using upper case names for SRIOV interface names.\n\nFixes bug 1848483\n\nChange-Id: I2d2cb42d87371f5807a4527eef22425416d4a774\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Create /etc/my.cnf.d/tripleo.cnf with proper bind-address\n\nWhen fixing LP#1643487 we added ?bind_address to all DB URIs.\nSince this clashes with Cellsv2 due to the URIs becoming host\ndependent, we need a new approach to pass bind_address to pymysql\nthat leaves the DB URIs host-independent.\n\nWe first create a /etc/my.cnf.d/tripleo.cnf file with a [tripleo]\nsection and in this section we add the correct bind-address option.\nNote that we use the puppet augeas lens and not the mysql one\nbecause the mysql one does not support custom sections *and* there\nare older versions around which do not like the /etc/my.cnf.d/* path.\n\nThe reason for not reusing an existing mariadb file (my.cnf or\ngalera.cnf) is that pymysql's ini file support is not robust\nenough at the moment: https://github.com/PyMySQL/PyMySQL/issues/548\n\nThe reason for putting this file creation code only on the controller\nnodes the following: The slow VIP failover only happens if a\nservice runs where the VIPs exist. The VIPs get created in the\nhaproxy profile and that is why in order to have fast VIP failovers\nthe MySQLClient profile must live where the Haproxy service is running.\n\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\n\nPartial-Bug: #1663181\nChange-Id: Iff8bd2d9ee85f7bb1445aa2e1b3cfbff1f397b18\n",
        "issue_summary": ""
    },
    {
        "commit_message": "nova-api: switch to new wsgi class\n\nnova::wsgi::apache was deprecated in ocata in favor of\nnova::wsgi::apache_api.\nLet's switch to it.\n\nChange-Id: I59b3b36be33268fa6e261a7db3c4aa8e8e712ffb\nDepends-On: I5fc99062d349597393e2248c66f2d863029c7730\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add param to configure HAProxy default maxconn (per frontend)\n\nThe default per frontend maxconn is set to 2000, which can easily\nbe reached with modern hardware with multiple logic cores; this\nchange adds a parameter to configure the default maxconn value,\ndefault it to 4096 and also increases the global maxconn to 20480\nto preserve the 1:5 ratio.\n\nChange-Id: I3fffc51ecc704ceccb86ca008ecba02578c29eb5\n",
        "issue_summary": ""
    },
    {
        "commit_message": "add plumgrid neutron profile\n\nChange-Id: I8536782d433f97a9b619e54a1eb1ea0edb8fdaf0\nImplements: blueprint refactor-puppet-manifests\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Support configuring extra cinder RBD options\n\nAdd tripleo::profile::base::cinder::volume::rbd::extra_options\nparameter, which provides a mechanism for configuring arbitrary\n\"extra options\" for RBD backends. Having this capability will help\nresolve problems that require adjusting arcane driver settings that\nare not supported by puppet-cinder, expecially in older stable\nreleases.\n\nNote: The cinder::config::cinder_config parameter also provides\na mechanism for configuring arbitrary settings in cinder.conf.\nHowever, having a parameter dedicated for RBD backends will help\navoid situations where a user adds hiera data that sets\ncinder::config::cinder_config, and inadvertently overrides any\ncritical RBD settings.\n\nChange-Id: I7a928978205a5bd5698bebe3c1b9aae94af80057\n",
        "issue_summary": ""
    },
    {
        "commit_message": "fencing: Remove unused logic to detect deployment type\n\nThe tripleo::fencing class is used only at host and is not used by\npuppet run inside containers. Thus checking the deployment_type fact\nis useless and we can always assume the class is executed at host.\n\nChange-Id: I87c78b6d12eeec7c69ed52eac5d6a261ae855aca\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable to modify params of logrotate-crond.conf\n\nParameters \"minsize\" and \"notifempty\" of /etc/logrotate-crond.conf\nin the container logrotate_crond should be changeable even if this\ndoesn't\tcomply with GDPR. This is because there might be users who\ndon't want to comply with it for some reason such as their internal\nrule, testing purpose, etc.\n\nThis patch adds the following Puppet hieradata.\n\ntripleo::profile::base::logging::logrotate::minsize (default: 1)\ntripleo::profile::base::logging::logrotate::notifempty (default: True)\n\nChange-Id: I623c711921cf7fe52f15cc1ba4a1dafb3c9479b7\nCloses-Bug: #1884415\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Implements: Heat template for integrating Cavium SmartNIC LiquidIO\n\nContains the puppet module for Configuring the Liquidio Compute node.\n\nChange-Id: Idfd094d344d7419557139dbcee98e42307eb465b\n",
        "issue_summary": ""
    },
    {
        "commit_message": "nova: disable API in WSGI by default\n\nCleanup patch once the THT patch is merged.\n\nChange-Id: Iba439a4758a4728197d7620b764a4f0f2648ee0f\nDepends-On: I09b73476762593642a0e011f83f0233de68f2c33\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Designate: configure unbound resolvers as dns servers\n\nConfigure dns related config in neutron with the IPs for the unbound\nresolvers if they are available.\n\nChange-Id: I2f161e7247c696a75fc53af5043d94bc85d4ec0f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add Cinder API/Scheduler/Volume roles\n\nIncludes both the base and the pacemaker roles.\n\nChange-Id: I3c6d5226eed5f0f852b0ad9476c7cd9a959fda69\n",
        "issue_summary": ""
    },
    {
        "commit_message": "docker: configure group/user for deployment_user\n\nConfigure the deployment_user to be part of docker group, required for\nopenstack container commands.\n\nChange-Id: Ifd1bec1262dfbd213810bb2b4d561f47bf010e69\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Replace default to be more robust\n\nSpecifying undef as the fallback only works because the merge\nfunction specifically checks for this:\nnext if arg.is_a? String and arg.empty? # empty string is synonym for puppet's undef\n\nBut the empty Hash would be a much more robust default.\n\nChange-Id: I7e302c00ef030d75998e352d88b3ccc60b194ab7\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add insecure_registry_address to docker profile\n\nThis patch adds a new insecure_registry_address parameter\nto the docker profile. This parameter is meant to replace two\ndeprecated parameters which did the same thing.\n\nCo-Authored-By: Ian Main <imain@redhat.com>\nChange-Id: I729fa00175cb36b02b882d729aae5ff06d0e3fbc\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add manifests to install and configure stunnel\n\nSome services (such as Redis) can't use mod_proxy as a TLS proxy,\nsince they're not HTTP services. So stunnel is necessary for these.\n\nThus, we add manifests to configure it as such.\n\nbp tls-via-certmonger\n\nChange-Id: Ic4a2dac7b3831e4780105e3b05e9c5afcf15c79c\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Include zaqar apache module\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Allow disabling udev usage by LVM\n\nDisabling udev usage from LVM seems to be the only observed working\nway of running containerized cinder-volume with local LVM backend.\n\nI didn't come across reports that not using udev would have negative\nimpact on the functionality.\n\nAdditional info at\nhttps://groups.google.com/forum/#!topic/docker-user/n4Xtvsb4RAw\n\nChange-Id: I1bf395a6228dba66fa6bf9b8bcc9f3ac3d922a49\nRelated-Bug: #1700140\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Clustercheck, monitor service for galera containers\n\nIn HA overcloud deployments, HAProxy makes use of a helper service\ncalled \"clustercheck\", to check whether galera nodes are available for\nserving traffic.\n\nThis change implements a dedicated profile for clustercheck, which was\noriginally part of the pacemaker mysql profile. The profile generates\nthe necessary configuration files for clustercheck and let heat\ntemplates manage the associated container's lifecycle.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\nPartial-Bug: #1692969\nChange-Id: I1aabe34fa6a9c8c705a4405f275b66502c313cf2\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Restrict nova migration ssh tunnel\n\nThis change enhances the security of the migration ssh tunnel:\n- The ssh authorized_keys file is only writeable by root.\n- Creates a new user for migration instead of using root/nova.\n- Disables SSH forwarding for this user.\n- Optionally restricts the networks that this user can connect from.\n- Uses an ssh wrapper command to whitelist the commands that this user can run\n  over ssh.\n\nRequires the openstack-nova-migration package from\nhttps://review.rdoproject.org/r/6327\n\nbp tripleo-cold-migration\n\nChange-Id: Idb56acd1e1ecb5a5fd4d942969be428cc9cbe293\n",
        "issue_summary": ""
    },
    {
        "commit_message": "pacemaker: add support for Hash vs List in container environment\n\nWe are transitioning from an array to an hash for the container\nenvironment of each container:\nI894f339cdf03bc2a93c588f826f738b0b851a3ad\n\nMainly to make it consummable by Ansible later; where the\npodman_container module needs a dict instead of a list.\n\nThis patch just changes the default, and also adds support for an Hash\ninstead of a List, but still supporting the List.\n\nChange-Id: I4e53a4a3464940660473bcbe74e30507a69a4019\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Redirect to https for horizon\n\nThis adds a TLS binding listening on the internal network for\nhorizon. And on the other hand, if the public binding for horizon is\naccessed via non-https, it will redirect to https.\n\nChange-Id: I1f92ecd0c4845450df4b24f6b621d313ba9cbfc4\nDepends-On: I4943c6c74e0be96c1d7e190908b9262df05d059a\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove unnecessary logic\n\nTHT logic which exposed fluentd logging hieradata even when the service\nwas not enabled was removed, so the logic in rsyslog file_input working\nwith such data won't ever work.\n\nChange-Id: I58edc44f859a0b46c1b1ae82c453df9f4d2bc487\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add linuxbridge agent profile\n\nAdd a tripleo profile for neutron linuxbridge agent configuration.\n\nChange-Id: Ie3ac03052f341c26735b423701e1decf7233d935\nPartial-Bug: #1652211\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Disable keystone token_flush by default\n\nWe don't need token_flush job for keystone now as we use fernet\ntoken which does not require to be persisted inside database.\n\nChange-Id: I164b42d292481530b024ed9f329dd9bfa11aceaf\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Only assign redis_vip and redis_bind_opts if enabled\n\nhttps://review.opendev.org/672415 only sets redis_vip\nwhen service is enabled. Lets also move the redis_vip\nand redis_bind_opts to the redis enabled section and\ncreate haproxy_and_redis_vip only if redis is enabled.\n\nChange-Id: I4f575772d80bcfd12019a81dd27d83aa952ddef6\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add openshift API to haproxy LB configuration\n\nThis is to enable our existing haproxy & vip management to work as an\nexternal loadbalancer for openshift when it's deployed as part of the\novercloud.\n\nChange-Id: I04a7dd49949b27238d595911c58815f8f8a4e7e9\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove Neutron LBaaS\n\nThe project has been retired and there will be no Train release [1].\nThis patch removes Neutron LBaaS support in tripleo-heat-templates.\n\n[1] https://review.opendev.org/#/c/658494/\n\nRelated-Bug: #1831618\nChange-Id: I8e95027aa0bd7f1257c7f99c1b5a474aeb2fada4\n",
        "issue_summary": ""
    },
    {
        "commit_message": "IPv6 dual-stack support\n\nTL;DR:\nIf keystone_public_api_vip and/or public_virtual_ip is an array of IPs,\nHAproxy will be configured to listen on all IPs that are given in the\narrays.\nIt allows to specify an array for keystone_public_api_vip and/or\npublic_virtual_ip where one IP is v4 and another one is v6.\nHAproxy will configured to listen on both and redirect the traffic to\nthe IPv6 network (Dual-Stack).\n\nImplementation & background:\nHAproxy requires binding options as an hash where each IP contains an\narray of binding options.\nTripleO does not support Puppet Parser [1] (yet) so we can't manipulate\ndata iterations inside the manifests.\nThis patch creates a custom function, called list_to_hash.\n\nExample:\nkeystone_vips = ['192.168.0.1:5000', '192.168.0.2:5000']\n$keystone_bind_opts = ['transparent']\n\nUsing this function:\n$keystone_vips_hash = list_to_hash($keystone_vips,\n$keystone_bind_opts)\n\nWould return:\n$keystone_vips_hash = {\n  '192.168.0.1:5000' => ['transparent'],\n  '192.168.0.2:5000' => ['transparent'],\n}\n\nThis function will help us in loadbalancer.pp to construct binding\noptions in dynamic way.\nIt's backward compatible, so you don't have to give an array.\nBut if you do, multiple binding will be configured in HAproxy and you'll\nalso be able to deploy IPv6 Dual-Stack.\n\n[1] https://docs.puppetlabs.com/puppet/latest/reference/lang_iteration.html\n\nChange-Id: I003b6d7d171652654745861d4231882f9e0d373e\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Composable HA\n\nThis commit implements composable HA for the pacemaker profiles.\n- Everytime a pacemaker resource gets included on a node,\n  that node will add a node cluster property with the name of the resource\n  (e.g. galera-role=true)\n- Add a location rule constraint to force running the resource only\n  on the nodes that have that property\n- We also make sure that any pacemaker resource/property creation has a\n  predefined number of tries (20 by default). The reason for this is\n  that within composable HA, it might be possible to get \"older CIB\"\n  errors when another node changed the CIB while we were doing an\n  operation on it. Simply retrying fixes this.\n- Also make sure that we use the newly introduced\n  pacemaker::constraint::order class instead of the older\n  pacemaker::constraint::base class. The former uses the push_cib()\n  function and hence behaves correctly in case multiple nodes try\n  to modify the CIB at the same time.\n\nChange-Id: I63da4f48da14534fd76265764569e76300534472\nDepends-On: Ib931adaff43dbc16220a90fb509845178d696402\nDepends-On: I8d78cc1b14f0e18e034b979a826bf3cdb0878bae\nDepends-On: Iba1017c33b1cd4d56a3ee8824d851b38cfdbc2d3\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix Ironic dbsync ordering\n\nIncluding ::ironic runs ironic-dbsync by default, so we end up with\nironic-dbsync run before the database is created. This patch fixes it.\n\nChange-Id: I6fef1de18e52b68caaf4cbd55c0408b98b5c26e0\nPartially-Implements: blueprint ironic-integration\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix libvirt exec deps for split-stack\n\nNeed to ensure libvirt is installed before the execs that depend on it.\n\nRelated bugzilla: https://bugzilla.redhat.com/show_bug.cgi?id=1500527\n\nChange-Id: I7ba62bb3e3a2e43bc57ed33f9b320c698b2c6ad5\nCloses-bug: 1723221\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Remove manifests for networking-ansible plugin\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Add missing include of ::ec2api::keystone::authtoken\n\nChange-Id: Id933276fab16eebd72751dca136ad805547e6291\nRelated-Bug: #1676491\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Create kernel profile\n\nIt will load and configure kernel modules.\n\nChange-Id: If4f1047ff8c193a14b821d8b826f637872cf62bd\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Support for Dell EMC Unity Cinder Driver\n\nThis changes adds Dell EMC Unity backend as composable service\nand matches the tripleo-heat-templates.\n\nChange-Id: I015f7dfec4bedf72332d91b91cda3ef1dc8caf8c\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Change CRL refresh to run every 2 hours\n\nThe default CA issues CRLs for 4 hours by default. So we need to change\nthese values to reflect this, else we'll get verification issues due to\nthe CRL having expired before its refreshed.\n\nHowever, the nextupdate value for the CRLs might not be aligned with the\ncron job. And getting this alignment is not entirely trivial. So I opted\nfor updating every 2 hours to address this.\n\nChange-Id: I732b400462c5cabd7c6c18c007fc9e8c87b700d3\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add an Endpoint in ceilometer\n\nAdded an endpoint in the ceilometer configuration\nto dispatch the data to qdr running locally.\n\nDepends-On: Ib3090c01bfdcb60168dd1c6db23c520a103c051e\nChange-Id: I7bbac48f2dfa9ec532f56a814af25117e11511ea\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Revert \"Allow ovn_db_host to be of type array\"\n\nWe shouldn't override the hieradata but rather be explicit about which\nmode we're operating in. e.g. pacemaker or not. This will help in\ntroubleshooting and not rely on hieradata overrides to work.\n\nThis reverts commit 0b51d8258c4a0618ec6f2abd8f86bfe6943cd51f.\n\nRelated-Bug: #1931133\nChange-Id: Id8df4fe5ce26dbcdeb7ba073ecb2199cf392b03b\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Refactor iscsi initiator-name reset into separate profile\n\nThis currently assumes nova-compute and iscsid run in the same context which\nisn't true for a containerized deployment\n\nChange-Id: I91f1ce7625c351745dbadd84b565d55598ea5b59\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Configure MySQL client SSL connections via the config file\n\nThis does the actual configuration for the mysql client to use SSL if\nthe parameter is set via t-h-t.\n\nChange-Id: I24e4c195a31109835739e78a6b53d36f661f9fd0\nDepends-On: Ifd1a06e0749a05a65f6314255843f572d2209067\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add missing response to Redis tcp-check in HAProxy\n\nHAProxy Redis configuration contains the tcp-check section.\nThat tcp-check section is missing authentication response.\n\nAuth request:\n    > tcp-check send AUTH\\ password\\r\\n\n\nShould be followed by:\n    > expect string +OK\n\nThis make sure we won't continue when auth was not suncesful.\n\nChange-Id: Ia4d615a2a038f0b2e5e33f4b0eabe7f777a74145\nCloses-Bug: #1843535\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Configure authtoken in Nova Placement\n\nThe Nova Placement API's configuration currently relies\non the nova-api profile for its keystone authtoken\nconfiguration. This means that Nova Placement would\nfail if it got installed on an isolated node or\ndocker container (this currently breaks TripleO's\ndeployment of placement via docker).\n\nThis patch creates a new authtoken profile and\ncalls it via the api and placement roles.\n\nChange-Id: I7b38ab6ba5cae41689ac500d97dec4d09c73d387\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Enable deployment with external loadbalancers\n\nAdd posibilities to pass listen_on_master_ip_only param\nto ovn dbs. More info:\nhttps://github.com/openvswitch/ovs/commit/33f9c9eafac30d49b4583e93f789a57dc3844523\n\nChange-Id: I4833418c68f866a216d837e624199159ace7f696\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Don't generate 10-neutron_wsgi.conf with internal tls\n\nWhen internal TLS is enabled we use a proxy in front of\nneutron server. Config generated in change\nI302558e718ce35c4d632137c5efa08f502939b40 conflicts with\nthe one generated for tls_proxy. Till we convert neutron_api\nto be deployed with httpd, let's generate the wsgi config\nonly when enable_internal_tls is false.\n\nCloses-Bug: #1936776\nChange-Id: I2901ea548332a043a8ffeb268f3a0ccbca265377\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Revert \"Use TLS proxy for Redis' internal TLS\"\n\nThis reverts commit 2d1d7875aa6f0b68005c84189627bc0716a7693f.\n\nCloses-Bug: #1735259\nChange-Id: I37501c4c983c87e3a38841272eb176ebbe626a65\n",
        "issue_summary": ""
    },
    {
        "commit_message": "HAProxy: Replace hiera by lookup (1)\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: I1d8630d427b353daab17c3661b1fdea9e38a1814\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Revert \"Fix live-migration with libvirt >= 6.8.0\"\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Puppet module to deploy cinder-volume bundle for HA\n\nThis module is used by tripleo-heat-templates to configure and deploy\nKolla-based cinder-volume containers managed by pacemaker.\n\nWe use short-lived containers that call pcs via puppet to create\nthe needed pacemaker resources, properties and constraints.\n\nCo-Authored-By: Michele Baldesari <michele@acksyn.org>\nPartial-Bug: #1668920\n\nChange-Id: I95ad4dd89b47396bea672813d87de35e64c04b2d\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Composable roles within services - Redis\n\nImplements: blueprint refactor-puppet-manifests\n\nCo-Authored-By: Carlos Camacho <ccamacho@redhat.com>\n\nChange-Id: I60493a3aa64e5136b763e8e2084d728f5f812f8a\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Support for Dell EMC VMAX ISCSI Cinder Driver\n\nThis changes adds Dell EMC VMAX ISCSI backend as composable service\nand matches the tripleo-heat-templates.\n\nChange-Id: Ifc169c60994856e382b76b72e020624ca64eef9f\nImplements: blueprint dellemc-vmax-isci\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Conditionally include Nuage VRS and Nuage Metadata Agent\n\nUsing this change, users can conditionally include\nNuage VRS and Nuage Metadata Agent\n\nChange-Id: Ica4564b105d49c9713a393e8efe848c4bcd42251\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add tripleo::packages\n\nThis adds a new class to help configure package installation\nand upgrades.\n\nThe previous approach was to use a global package declaration\nat the top of each manifest within the tripleo-heat-templates.\n\nThe new approach is to use a Package collector (<| |>) to\nallow us to configure the package provider within a\nclass. This should help remove some of the duplicated logic\nwithin the triplo-heat-template manifests and is\nalso a good fit for puppet-tripleo in that is generic\nand unlikely to change that often.\n\nIn addition to installation this class also support upgrades\nto puppet managed packages as well.\n\nChange-Id: Ie8fbc344149bc8c9977e127de77636903607617a\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Bind mount the IPA crt when internal_tls is enabled\n\nIn order for later reviews to make use of the FreeIPA internal\nCA we need to first bind mount it within the container.\n\nWe need to add a default in the hiera definition (/etc/ipa/ca.crt)\nin order to break a cyclic dependency on the subsequent patches.\n(THT child change will set the rabbitmq::ssl_cacert key)\n\nRelated-Bug: #1946374\nChange-Id: Ib0236f9c086d520d0a27e3aa8b41927bc7b50c26\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add flag to enable SELinux in docker profile\n\nSELinux for docker is disabled by default; this commit adds an option\nselinux_enabled that will add it if set to true.\n\nChange-Id: I883e64c1b69b24c75441fc3a628942fb1d90d448\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add s3api support\n\nAdd s3api ans s3token middleware to enable\nsupport in TripleO by default\n\nChange-Id: I9c61d48e673d513cb4c5cf0c9f8b7d1b894729eb\nSigned-off-by: Thiago da Silva <thiago@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Removes neutron ownership of certs\n\nSince neutron UID is not static, setting the owners on the certificates\nin the host to be 'neutron' will not match the UID for neutron in the\ndeployed container.  Therefore this patch removes the host neutron\nownership and leaves it as root, so that it can be later modified in the\ncontainer to be chowned to neutron.\n\nPartial-Bug: 1759049\n\nChange-Id: I83b14b91d1ee600bd9d5863acba34303921368ce\nSigned-off-by: Tim Rozet <trozet@redhat.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add versioned_writes to Swift proxy config\n\nTempest expects object versioning to be enabled by default in Swift;\nif not it has to be disabled explicitly in the Tempest config.\n\nThis is a commonly used middleware, therefore it should be enabled\nin the overcloud proxy nodes as well.\n\nCloses-Bug: 1632215\nChange-Id: I07a206473ff7939749e3eba1dfe3ea8c4526eb5c\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"ironic-inspector: Include independent classes for ironic/swift options\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove collector classes\n\nThis code has been removed upstream[1] and the puppet\nmodule[2] has been updated accordingly. the heat templates\n[3] have been removed as well.\n\n[1] https://review.openstack.org/#/c/504244/\n[2] https://review.openstack.org/512337\n[3] https://review.openstack.org/#/c/509645/\n\nChange-Id: I85ee06ff542c5d32ee08e987873d2db62130fb5f\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Add support for haproxy_service_manage\n\nWe want to let the caller decide upon having the haproxy\nservice started and enabled or not on boot.\n\nChange-Id: I24a9fd2245a974120892a8887c8b58647c65cba9\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Disable SSH login for nova_migration user when migration over ssh is disabled.\n\nIf migration over ssh is enabled, and then later disabled, the ssh config\nfor the nova_migration user remains intact. This change clobbers the migration\nSSH key to disable login when it is not necessary.\n\nChange-Id: Icc6d5d4f4671b3525a731d334ca6fa7c5419dac3\nCloses-Bug: #1688321\n",
        "issue_summary": ""
    },
    {
        "commit_message": "nova: use transport_url for rabbitmq\n\nConfigure Nova with new Oslo Messaging parameters for RabbitMQ.\n\nNote: parameters are renamed to be standard, so it will help a future\ntransition to another backend in TripleO.\n\nChange-Id: Ia67a4dbe5b2bd12c45308a5581f96d0457b8e018\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Fix ordering when pacemaker with bundles is being used\n\nIf you gracefully restart a node with pacemaker on it, the following can happen:\n1) docker service gets stopped first\n2) pacemaker gets shutdown\n3) pacemaker tries to shutdown the bundles but fails due to 1)\n\nThis can make it so that after the reboot, because shutting down the\nservices failed, two scenarios can take place:\nA) The node gets fenced (when stonith is configured) because it failed to stop a resource\nB) The state of the resource might be saved as Stopped and when the node\n   comes back up (if multiple nodes were rebooted at the same time) the CIB\n   might have Stopped as the target state for the resource.\n\nIn the case of B) we will see something like the following:\n\nOnline: [ overcloud-controller-0 overcloud-controller-1 overcloud-controller-2 ]\n\nFull list of resources:\n\n Docker container set: rabbitmq-bundle [192.168.0.1:8787/rhosp12/openstack-rabbitmq-docker:pcmklatest]\n   rabbitmq-bundle-0 (ocf::heartbeat:rabbitmq-cluster): Stopped overcloud-controller-0\n   rabbitmq-bundle-1 (ocf::heartbeat:rabbitmq-cluster): Stopped overcloud-controller-0\n   rabbitmq-bundle-2 (ocf::heartbeat:rabbitmq-cluster): Stopped overcloud-controller-0\n Docker container set: galera-bundle [192.168.0.1:8787/rhosp12/openstack-mariadb-docker:pcmklatest]\n   galera-bundle-0 (ocf::heartbeat:galera): Stopped overcloud-controller-0\n   galera-bundle-1 (ocf::heartbeat:galera): Stopped overcloud-controller-0\n   galera-bundle-2 (ocf::heartbeat:galera): Stopped overcloud-controller-0\n Docker container set: redis-bundle [192.168.0.1:8787/rhosp12/openstack-redis-docker:pcmklatest]\n   redis-bundle-0 (ocf::heartbeat:redis): Stopped overcloud-controller-0\n   redis-bundle-1 (ocf::heartbeat:redis): Stopped overcloud-controller-0\n   redis-bundle-2 (ocf::heartbeat:redis): Stopped overcloud-controller-0\n ip-192.168.0.12 (ocf::heartbeat:IPaddr2): Stopped\n ip-10.19.184.160 (ocf::heartbeat:IPaddr2): Stopped\n ip-10.19.104.14 (ocf::heartbeat:IPaddr2): Stopped\n ip-10.19.104.19 (ocf::heartbeat:IPaddr2): Stopped\n ip-10.19.105.11 (ocf::heartbeat:IPaddr2): Stopped\n ip-192.168.200.15 (ocf::heartbeat:IPaddr2): Stopped\n Docker container set: haproxy-bundle [192.168.0.1:8787/rhosp12/openstack-haproxy-docker:pcmklatest]\n   haproxy-bundle-docker-0 (ocf::heartbeat:docker): FAILED (blocked)[ overcloud-controller-0 overcloud-controller-2 overcloud-controller-1 ]\n   haproxy-bundle-docker-1 (ocf::heartbeat:docker): FAILED (blocked)[ overcloud-controller-0 overcloud-controller-2 overcloud-controller-1 ]\n   haproxy-bundle-docker-2 (ocf::heartbeat:docker): FAILED (blocked)[ overcloud-controller-0 overcloud-controller-2 overcloud-controller-1 ]\n openstack-cinder-volume (systemd:openstack-cinder-volume): Started overcloud-controller-0\n\nFailed Actions:\n* rabbitmq-bundle-docker-0_stop_0 on overcloud-controller-0 'unknown error' (1): call=93, status=Timed Out, exitreason='none',\n    last-rc-change='Fri Nov 17 13:55:35 2017', queued=0ms, exec=20023ms\n* rabbitmq-bundle-docker-1_stop_0 on overcloud-controller-0 'unknown error' (1): call=94, status=Timed Out, exitreason='none',\n    last-rc-change='Fri Nov 17 13:55:35 2017', queued=0ms, exec=20037ms\n* galera-bundle-docker-0_stop_0 on overcloud-controller-0 'unknown error' (1): call=96, status=Timed Out, exitreason='none',\n    last-rc-change='Fri Nov 17 13:55:35 2017', queued=0ms, exec=20035ms\n\nWe fix this by adding the docker service to\nresource-agents-deps.target.wants which is the recommended method to\nmake sure non pacemaker managed resources come up before pacemaker\nduring a start and get stopped after pacemaker's service stop:\nhttps://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/high_availability_add-on_reference/s1-nonpacemakerstartup-haar\n\nWe conditionalize this change when docker is enabled and we also\nmake sure that we make the change only after the docker package\nis installed, in order to cover split stack deployments as well.\n\nWith this change we were able to restart nodes without\nobserving any timeouts during stop or stopped resources\nat startup.\n\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\n\nChange-Id: I6a4dc3d4d4818f15e9b7e68da3eb07e54b0289fa\nCloses-Bug: #1733348\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove puppet selinux management\n\nThis is managed via ansible now and should no longer be managed via\npuppet since we need to have it setup prior to configuring all the\ncontainers items.\n\nChange-Id: Id8d340072ec2941b99b5bc3c6a0511af506ea50b\nDepends-On: https://review.opendev.org/#/c/653625/\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Allow tuning of Galera gcache size\n\nAppropriate gcache.size values allow a cluster node to perform IST\ninstead of SST if the writes occurred during its downtime do not exceed\nthe size of the cache itself.\nThis is especially beneficial during maintenance windows.\n\nChange-Id: I483484c58ab703f3a4dcede636d733e23b051f63\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Base profile for rsyslogd\n\nAdds profile for rsyslogd composable service which aims to replace fluentd\nwith the same behaviour. This means that rsyslog will be tailing OpenStack\nlog files and forwarding it to central log collector (ELK)\n\nChange-Id: I5e5aae692482ee1de6de298eb18c49563a2d7d29\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Remove support for networking-cisco\n\nUnfortunately networking-cisco[1] looks unmaintained. It is not updated\nfor these 2 years and is not marked to support Python 3.6 .\n\n[1] https://opendev.org/x/networking-cisco/\n\nChange-Id: I401cf565e041ce40f934972cf75ad89bd0de9993\n",
        "issue_summary": ""
    },
    {
        "commit_message": "loadbalancer: use http mode for Horizon haproxy config\n\nThe haproxy configuration for horizon does not have 'mode http' set.\nThis proxy needs to be in http mode since it is using a cookie for\npersistence. The default section has 'mode tcp', which is fine, but\nhorizon proxy needs to override this setting to get http mode. Without\nthis, you will likely see an error like this:\n\n[WARNING] 238/115010 (13878) : config : cookie will be ignored for proxy\n'horizon' (needs 'mode http').'\n\nCloses BZ-1257687\n\nChange-Id: I397986ea022f47a33a5210696752509f4a2731a5\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Replace deprecated ceilometer::agent::auth\n\n... with the new ceilometer::agent::service_credentials class.\n\nDepends-on: https://review.opendev.org/775730\nDepends-on: https://review.opendev.org/784952\nChange-Id: I045a7ac2a36507c201b9a0745cc57587282f8596\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Add tests for tripleo::keepalived\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Ensure mysql client ip address is an ip\n\nIf the hieradata is set to '' for the client ip address, puppet may\nconsider this as a true condition. This change changes out the check to\nensure that the value is an ip address, otherwise remove it from the\nconfiguration file.\n\nChange-Id: Idbf6bec3ec66f7018dc30e5f1e6d1ba5f48180d7\nPartial-Bug: #1748180\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Treat IP address as optional in Cisco VTS ML2 configuration\n\nBug #1766949\n\nChange-Id: I5d8b7f05a2d8d7bff608c8bbe9bd0d837bd1e3dc\nSigned-off-by: Wojciech Dec <wdec@cisco.com>\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Pass variable from puppet-tripleo to puppet-neutron\n\nPass enable_ipv6 flag from puppet-tripleo to\npuppet-neutron when deploying ODL on IPv6 tenant network.\n\nChange-Id: Id41d5299edd2da305f0ff006acbc914a9542ffa1\nDepends-On: https://review.openstack.org/#/c/584740/\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Merge \"Enable TLS in the internal network for Cinder API\"",
        "issue_summary": ""
    },
    {
        "commit_message": "Create Swift directory d1 if needed\n\nSwift added a requirement that storage directories must exist before\nusing them. In case of the d1 directory in TripleO - used when there are\nno \"real disks\" - it has to be created by TripleO in advance.\n\nRelated-Bug: 1729569\nChange-Id: I49e395ac379ced01adb60d8d9f951c08718b1c61\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Include local CA in haproxy PEM\n\nIn order for the browser to trust the certificate served by HAProxy\nwe need to include the CA cert in the PEM file that the endpoints\nserve.\n\nChange-Id: Ibce76c1aa04bd3cb09a804c6e9789c55d8f2b417\nCloses-Bug: #1639807\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Safeguard against 'Undef' length() checks.\n\nHit the following during a deployment:\n\n\"Error: Evaluation Error: Error while evaluating a Function Call\n'length' parameter 'arg' expects a value of type Collection, String,\nor Binary, got Undef\"\n\nThis commit adds a safeguard to skip the length check if\n$driver_devices is 'Undef'.\n\nCloses-bug: #1827091\n\nChange-Id: Ide850ab917736f066c38e2e55960a03e1fcd3523\n",
        "issue_summary": ""
    },
    {
        "commit_message": "Explicitly configure credentials used by ironic to access other services\n\nUsing keystone_authtoken credentials for this purpose is deprecated, and also\nprevents ironic-conductor from being used as a separate role.\n\nAs a side effect, this change makes it possible to potentially enable\nironic-inspector support in the future (it's not enabled yet).\n\nChange-Id: I21180678bec911f1be36e3b174bae81af042938c\nPartial-Bug: #1661250\n",
        "issue_summary": ""
    }
]